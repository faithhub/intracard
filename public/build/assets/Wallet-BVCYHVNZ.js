var Eb=Object.defineProperty;var Fb=(i,t,e)=>t in i?Eb(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var B=(i,t,e)=>Fb(i,typeof t!="symbol"?t+"":t,e);import{b as Ur}from"./app-DZGKe3Aq.js";import{l as Bb,s as Ql,i as So,j as zb,c as vr,P as Nb,w as To,b1 as Rm,W as Vb,X as Hb,p as Wb,n as Ub,a as Gb,u as Yb,_ as Om,L as se,z as ma,C as O,O as E,Z as yi,E as z,an as In,aR as Qn,v as vi,K as Em,F as Fm,a0 as Co,$ as Dh,R as Cs,M as nd,H as et,G as ht,aD as Xb,a7 as rd,a9 as ye,ad as be,D as Gr,am as Ms,aW as $b,ab as ad,a4 as Ds,a3 as ci,ao as Jl,ap as tu,aw as jb,J as qb,a6 as Zb,ag as sd,a2 as Kb,A as Qb,ah as Jb,aV as tx,a5 as ex}from"./main-DHxkGDom.js";import{u as ix}from"./useNotifications-BoI3aIEX.js";/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function vs(i){return i+.5|0}const Hi=(i,t,e)=>Math.max(Math.min(i,e),t);function _a(i){return Hi(vs(i*2.55),0,255)}function qi(i){return Hi(vs(i*255),0,255)}function bi(i){return Hi(vs(i/2.55)/100,0,1)}function od(i){return Hi(vs(i*100),0,100)}const Me={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ah=[..."0123456789ABCDEF"],nx=i=>Ah[i&15],rx=i=>Ah[(i&240)>>4]+Ah[i&15],As=i=>(i&240)>>4===(i&15),ax=i=>As(i.r)&&As(i.g)&&As(i.b)&&As(i.a);function sx(i){var t=i.length,e;return i[0]==="#"&&(t===4||t===5?e={r:255&Me[i[1]]*17,g:255&Me[i[2]]*17,b:255&Me[i[3]]*17,a:t===5?Me[i[4]]*17:255}:(t===7||t===9)&&(e={r:Me[i[1]]<<4|Me[i[2]],g:Me[i[3]]<<4|Me[i[4]],b:Me[i[5]]<<4|Me[i[6]],a:t===9?Me[i[7]]<<4|Me[i[8]]:255})),e}const ox=(i,t)=>i<255?t(i):"";function lx(i){var t=ax(i)?nx:rx;return i?"#"+t(i.r)+t(i.g)+t(i.b)+ox(i.a,t):void 0}const ux=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Bm(i,t,e){const n=t*Math.min(e,1-e),r=(a,s=(a+i/30)%12)=>e-n*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function hx(i,t,e){const n=(r,a=(r+i/60)%6)=>e-e*t*Math.max(Math.min(a,4-a,1),0);return[n(5),n(3),n(1)]}function cx(i,t,e){const n=Bm(i,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)n[r]*=1-t-e,n[r]+=t;return n}function fx(i,t,e,n,r){return i===r?(t-e)/n+(t<e?6:0):t===r?(e-i)/n+2:(i-t)/n+4}function Uc(i){const e=i.r/255,n=i.g/255,r=i.b/255,a=Math.max(e,n,r),s=Math.min(e,n,r),o=(a+s)/2;let l,u,h;return a!==s&&(h=a-s,u=o>.5?h/(2-a-s):h/(a+s),l=fx(e,n,r,h,a),l=l*60+.5),[l|0,u||0,o]}function Gc(i,t,e,n){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,n)).map(qi)}function Yc(i,t,e){return Gc(Bm,i,t,e)}function dx(i,t,e){return Gc(cx,i,t,e)}function px(i,t,e){return Gc(hx,i,t,e)}function zm(i){return(i%360+360)%360}function vx(i){const t=ux.exec(i);let e=255,n;if(!t)return;t[5]!==n&&(e=t[6]?_a(+t[5]):qi(+t[5]));const r=zm(+t[2]),a=+t[3]/100,s=+t[4]/100;return t[1]==="hwb"?n=dx(r,a,s):t[1]==="hsv"?n=px(r,a,s):n=Yc(r,a,s),{r:n[0],g:n[1],b:n[2],a:e}}function gx(i,t){var e=Uc(i);e[0]=zm(e[0]+t),e=Yc(e),i.r=e[0],i.g=e[1],i.b=e[2]}function mx(i){if(!i)return;const t=Uc(i),e=t[0],n=od(t[1]),r=od(t[2]);return i.a<255?`hsla(${e}, ${n}%, ${r}%, ${bi(i.a)})`:`hsl(${e}, ${n}%, ${r}%)`}const ld={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ud={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function _x(){const i={},t=Object.keys(ud),e=Object.keys(ld);let n,r,a,s,o;for(n=0;n<t.length;n++){for(s=o=t[n],r=0;r<e.length;r++)a=e[r],o=o.replace(a,ld[a]);a=parseInt(ud[s],16),i[o]=[a>>16&255,a>>8&255,a&255]}return i}let Ps;function yx(i){Ps||(Ps=_x(),Ps.transparent=[0,0,0,0]);const t=Ps[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const bx=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function xx(i){const t=bx.exec(i);let e=255,n,r,a;if(t){if(t[7]!==n){const s=+t[7];e=t[8]?_a(s):Hi(s*255,0,255)}return n=+t[1],r=+t[3],a=+t[5],n=255&(t[2]?_a(n):Hi(n,0,255)),r=255&(t[4]?_a(r):Hi(r,0,255)),a=255&(t[6]?_a(a):Hi(a,0,255)),{r:n,g:r,b:a,a:e}}}function Sx(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${bi(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const eu=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,Jn=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function Tx(i,t,e){const n=Jn(bi(i.r)),r=Jn(bi(i.g)),a=Jn(bi(i.b));return{r:qi(eu(n+e*(Jn(bi(t.r))-n))),g:qi(eu(r+e*(Jn(bi(t.g))-r))),b:qi(eu(a+e*(Jn(bi(t.b))-a))),a:i.a+e*(t.a-i.a)}}function Ls(i,t,e){if(i){let n=Uc(i);n[t]=Math.max(0,Math.min(n[t]+n[t]*e,t===0?360:1)),n=Yc(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function Nm(i,t){return i&&Object.assign(t||{},i)}function hd(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=qi(i[3]))):(t=Nm(i,{r:0,g:0,b:0,a:1}),t.a=qi(t.a)),t}function Cx(i){return i.charAt(0)==="r"?xx(i):vx(i)}class qa{constructor(t){if(t instanceof qa)return t;const e=typeof t;let n;e==="object"?n=hd(t):e==="string"&&(n=sx(t)||yx(t)||Cx(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=Nm(this._rgb);return t&&(t.a=bi(t.a)),t}set rgb(t){this._rgb=hd(t)}rgbString(){return this._valid?Sx(this._rgb):void 0}hexString(){return this._valid?lx(this._rgb):void 0}hslString(){return this._valid?mx(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,r=t.rgb;let a;const s=e===a?.5:e,o=2*s-1,l=n.a-r.a,u=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;a=1-u,n.r=255&u*n.r+a*r.r+.5,n.g=255&u*n.g+a*r.g+.5,n.b=255&u*n.b+a*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=Tx(this._rgb,t._rgb,e)),this}clone(){return new qa(this.rgb)}alpha(t){return this._rgb.a=qi(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=vs(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ls(this._rgb,2,t),this}darken(t){return Ls(this._rgb,2,-t),this}saturate(t){return Ls(this._rgb,1,t),this}desaturate(t){return Ls(this._rgb,1,-t),this}rotate(t){return gx(this._rgb,t),this}}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function fi(){}const Mx=(()=>{let i=0;return()=>i++})();function at(i){return i==null}function xt(i){if(Array.isArray&&Array.isArray(i))return!0;const t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function tt(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function Dt(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function xe(i,t){return Dt(i)?i:t}function Z(i,t){return typeof i>"u"?t:i}const Dx=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/t,Vm=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function pt(i,t,e){if(i&&typeof i.call=="function")return i.apply(e,t)}function lt(i,t,e,n){let r,a,s;if(xt(i))for(a=i.length,r=0;r<a;r++)t.call(e,i[r],r);else if(tt(i))for(s=Object.keys(i),a=s.length,r=0;r<a;r++)t.call(e,i[s[r]],s[r])}function Zo(i,t){let e,n,r,a;if(!i||!t||i.length!==t.length)return!1;for(e=0,n=i.length;e<n;++e)if(r=i[e],a=t[e],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function Ko(i){if(xt(i))return i.map(Ko);if(tt(i)){const t=Object.create(null),e=Object.keys(i),n=e.length;let r=0;for(;r<n;++r)t[e[r]]=Ko(i[e[r]]);return t}return i}function Hm(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function Ax(i,t,e,n){if(!Hm(i))return;const r=t[i],a=e[i];tt(r)&&tt(a)?Za(r,a,n):t[i]=Ko(a)}function Za(i,t,e){const n=xt(t)?t:[t],r=n.length;if(!tt(i))return i;e=e||{};const a=e.merger||Ax;let s;for(let o=0;o<r;++o){if(s=n[o],!tt(s))continue;const l=Object.keys(s);for(let u=0,h=l.length;u<h;++u)a(l[u],i,s,e)}return i}function La(i,t){return Za(i,t,{merger:Px})}function Px(i,t,e){if(!Hm(i))return;const n=t[i],r=e[i];tt(n)&&tt(r)?La(n,r):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=Ko(r))}const cd={"":i=>i,x:i=>i.x,y:i=>i.y};function Lx(i){const t=i.split("."),e=[];let n="";for(const r of t)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(e.push(n),n="");return e}function kx(i){const t=Lx(i);return e=>{for(const n of t){if(n==="")break;e=e&&e[n]}return e}}function Ji(i,t){return(cd[t]||(cd[t]=kx(t)))(i)}function Xc(i){return i.charAt(0).toUpperCase()+i.slice(1)}const Ka=i=>typeof i<"u",tn=i=>typeof i=="function",fd=(i,t)=>{if(i.size!==t.size)return!1;for(const e of i)if(!t.has(e))return!1;return!0};function Ix(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const yt=Math.PI,_t=2*yt,Rx=_t+yt,Qo=Number.POSITIVE_INFINITY,Ox=yt/180,kt=yt/2,an=yt/4,dd=yt*2/3,Wi=Math.log10,ni=Math.sign;function ka(i,t,e){return Math.abs(i-t)<e}function pd(i){const t=Math.round(i);i=ka(i,t,i/1e3)?t:i;const e=Math.pow(10,Math.floor(Wi(i))),n=i/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function Ex(i){const t=[],e=Math.sqrt(i);let n;for(n=1;n<e;n++)i%n===0&&(t.push(n),t.push(i/n));return e===(e|0)&&t.push(e),t.sort((r,a)=>r-a).pop(),t}function Ar(i){return!isNaN(parseFloat(i))&&isFinite(i)}function Fx(i,t){const e=Math.round(i);return e-t<=i&&e+t>=i}function Wm(i,t,e){let n,r,a;for(n=0,r=i.length;n<r;n++)a=i[n][e],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function He(i){return i*(yt/180)}function $c(i){return i*(180/yt)}function vd(i){if(!Dt(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function Um(i,t){const e=t.x-i.x,n=t.y-i.y,r=Math.sqrt(e*e+n*n);let a=Math.atan2(n,e);return a<-.5*yt&&(a+=_t),{angle:a,distance:r}}function Ph(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function Bx(i,t){return(i-t+Rx)%_t-yt}function we(i){return(i%_t+_t)%_t}function Qa(i,t,e,n){const r=we(i),a=we(t),s=we(e),o=we(a-r),l=we(s-r),u=we(r-a),h=we(r-s);return r===a||r===s||n&&a===s||o>l&&u<h}function Wt(i,t,e){return Math.max(t,Math.min(e,i))}function zx(i){return Wt(i,-32768,32767)}function xi(i,t,e,n=1e-6){return i>=Math.min(t,e)-n&&i<=Math.max(t,e)+n}function jc(i,t,e){e=e||(s=>i[s]<t);let n=i.length-1,r=0,a;for(;n-r>1;)a=r+n>>1,e(a)?r=a:n=a;return{lo:r,hi:n}}const wi=(i,t,e,n)=>jc(i,e,n?r=>{const a=i[r][t];return a<e||a===e&&i[r+1][t]===e}:r=>i[r][t]<e),Nx=(i,t,e)=>jc(i,e,n=>i[n][t]>=e);function Vx(i,t,e){let n=0,r=i.length;for(;n<r&&i[n]<t;)n++;for(;r>n&&i[r-1]>e;)r--;return n>0||r<i.length?i.slice(n,r):i}const Gm=["push","pop","shift","splice","unshift"];function Hx(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Gm.forEach(e=>{const n="_onData"+Xc(e),r=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...a){const s=r.apply(this,a);return i._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...a)}),s}})})}function gd(i,t){const e=i._chartjs;if(!e)return;const n=e.listeners,r=n.indexOf(t);r!==-1&&n.splice(r,1),!(n.length>0)&&(Gm.forEach(a=>{delete i[a]}),delete i._chartjs)}function Ym(i){const t=new Set(i);return t.size===i.length?i:Array.from(t)}const Xm=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function $m(i,t){let e=[],n=!1;return function(...r){e=r,n||(n=!0,Xm.call(window,()=>{n=!1,i.apply(t,e)}))}}function Wx(i,t){let e;return function(...n){return t?(clearTimeout(e),e=setTimeout(i,t,n)):i.apply(this,n),t}}const qc=i=>i==="start"?"left":i==="end"?"right":"center",qt=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2,Ux=(i,t,e,n)=>i===(n?"left":"right")?e:i==="center"?(t+e)/2:t;function jm(i,t,e){const n=t.length;let r=0,a=n;if(i._sorted){const{iScale:s,_parsed:o}=i,l=s.axis,{min:u,max:h,minDefined:c,maxDefined:f}=s.getUserBounds();c&&(r=Wt(Math.min(wi(o,l,u).lo,e?n:wi(t,l,s.getPixelForValue(u)).lo),0,n-1)),f?a=Wt(Math.max(wi(o,s.axis,h,!0).hi+1,e?0:wi(t,l,s.getPixelForValue(h),!0).hi+1),r,n)-r:a=n-r}return{start:r,count:a}}function qm(i){const{xScale:t,yScale:e,_scaleRanges:n}=i,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!n)return i._scaleRanges=r,!0;const a=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==e.min||n.ymax!==e.max;return Object.assign(n,r),a}const ks=i=>i===0||i===1,md=(i,t,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*_t/e)),_d=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*_t/e)+1,Ia={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*kt)+1,easeOutSine:i=>Math.sin(i*kt),easeInOutSine:i=>-.5*(Math.cos(yt*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>ks(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>ks(i)?i:md(i,.075,.3),easeOutElastic:i=>ks(i)?i:_d(i,.075,.3),easeInOutElastic(i){return ks(i)?i:i<.5?.5*md(i*2,.1125,.45):.5+.5*_d(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-Ia.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Ia.easeInBounce(i*2)*.5:Ia.easeOutBounce(i*2-1)*.5+.5};function Zc(i){if(i&&typeof i=="object"){const t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function yd(i){return Zc(i)?i:new qa(i)}function iu(i){return Zc(i)?i:new qa(i).saturate(.5).darken(.1).hexString()}const Gx=["x","y","borderWidth","radius","tension"],Yx=["color","borderColor","backgroundColor"];function Xx(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:Yx},numbers:{type:"number",properties:Gx}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function $x(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const bd=new Map;function jx(i,t){t=t||{};const e=i+JSON.stringify(t);let n=bd.get(e);return n||(n=new Intl.NumberFormat(i,t),bd.set(e,n)),n}function gs(i,t,e){return jx(t,e).format(i)}const Zm={values(i){return xt(i)?i:""+i},numeric(i,t,e){if(i===0)return"0";const n=this.chart.options.locale;let r,a=i;if(e.length>1){const u=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),a=qx(i,e)}const s=Wi(Math.abs(a)),o=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),gs(i,n,l)},logarithmic(i,t,e){if(i===0)return"0";const n=e[t].significand||i/Math.pow(10,Math.floor(Wi(i)));return[1,2,3,5,10,15].includes(n)||t>.8*e.length?Zm.numeric.call(this,i,t,e):""}};function qx(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var Al={formatters:Zm};function Zx(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Al.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Gn=Object.create(null),Lh=Object.create(null);function Ra(i,t){if(!t)return i;const e=t.split(".");for(let n=0,r=e.length;n<r;++n){const a=e[n];i=i[a]||(i[a]=Object.create(null))}return i}function nu(i,t,e){return typeof t=="string"?Za(Ra(i,t),e):Za(Ra(i,""),t)}class Kx{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>iu(r.backgroundColor),this.hoverBorderColor=(n,r)=>iu(r.borderColor),this.hoverColor=(n,r)=>iu(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return nu(this,t,e)}get(t){return Ra(this,t)}describe(t,e){return nu(Lh,t,e)}override(t,e){return nu(Gn,t,e)}route(t,e,n,r){const a=Ra(this,t),s=Ra(this,n),o="_"+e;Object.defineProperties(a,{[o]:{value:a[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[o],u=s[r];return tt(l)?Object.assign({},u,l):Z(l,u)},set(l){this[o]=l}}})}apply(t){t.forEach(e=>e(this))}}var wt=new Kx({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Xx,$x,Zx]);function Qx(i){return!i||at(i.size)||at(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Jo(i,t,e,n,r){let a=t[r];return a||(a=t[r]=i.measureText(r).width,e.push(r)),a>n&&(n=a),n}function Jx(i,t,e,n){n=n||{};let r=n.data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(r=n.data={},a=n.garbageCollect=[],n.font=t),i.save(),i.font=t;let s=0;const o=e.length;let l,u,h,c,f;for(l=0;l<o;l++)if(c=e[l],c!=null&&!xt(c))s=Jo(i,r,a,s,c);else if(xt(c))for(u=0,h=c.length;u<h;u++)f=c[u],f!=null&&!xt(f)&&(s=Jo(i,r,a,s,f));i.restore();const d=a.length/2;if(d>e.length){for(l=0;l<d;l++)delete r[a[l]];a.splice(0,d)}return s}function sn(i,t,e){const n=i.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*n)/n+r}function xd(i,t){!t&&!i||(t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function kh(i,t,e,n){Km(i,t,e,n,null)}function Km(i,t,e,n,r){let a,s,o,l,u,h,c,f;const d=t.pointStyle,p=t.rotation,g=t.radius;let v=(p||0)*Ox;if(d&&typeof d=="object"&&(a=d.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){i.save(),i.translate(e,n),i.rotate(v),i.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),i.restore();return}if(!(isNaN(g)||g<=0)){switch(i.beginPath(),d){default:r?i.ellipse(e,n,r/2,g,0,0,_t):i.arc(e,n,g,0,_t),i.closePath();break;case"triangle":h=r?r/2:g,i.moveTo(e+Math.sin(v)*h,n-Math.cos(v)*g),v+=dd,i.lineTo(e+Math.sin(v)*h,n-Math.cos(v)*g),v+=dd,i.lineTo(e+Math.sin(v)*h,n-Math.cos(v)*g),i.closePath();break;case"rectRounded":u=g*.516,l=g-u,s=Math.cos(v+an)*l,c=Math.cos(v+an)*(r?r/2-u:l),o=Math.sin(v+an)*l,f=Math.sin(v+an)*(r?r/2-u:l),i.arc(e-c,n-o,u,v-yt,v-kt),i.arc(e+f,n-s,u,v-kt,v),i.arc(e+c,n+o,u,v,v+kt),i.arc(e-f,n+s,u,v+kt,v+yt),i.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,h=r?r/2:l,i.rect(e-h,n-l,2*h,2*l);break}v+=an;case"rectRot":c=Math.cos(v)*(r?r/2:g),s=Math.cos(v)*g,o=Math.sin(v)*g,f=Math.sin(v)*(r?r/2:g),i.moveTo(e-c,n-o),i.lineTo(e+f,n-s),i.lineTo(e+c,n+o),i.lineTo(e-f,n+s),i.closePath();break;case"crossRot":v+=an;case"cross":c=Math.cos(v)*(r?r/2:g),s=Math.cos(v)*g,o=Math.sin(v)*g,f=Math.sin(v)*(r?r/2:g),i.moveTo(e-c,n-o),i.lineTo(e+c,n+o),i.moveTo(e+f,n-s),i.lineTo(e-f,n+s);break;case"star":c=Math.cos(v)*(r?r/2:g),s=Math.cos(v)*g,o=Math.sin(v)*g,f=Math.sin(v)*(r?r/2:g),i.moveTo(e-c,n-o),i.lineTo(e+c,n+o),i.moveTo(e+f,n-s),i.lineTo(e-f,n+s),v+=an,c=Math.cos(v)*(r?r/2:g),s=Math.cos(v)*g,o=Math.sin(v)*g,f=Math.sin(v)*(r?r/2:g),i.moveTo(e-c,n-o),i.lineTo(e+c,n+o),i.moveTo(e+f,n-s),i.lineTo(e-f,n+s);break;case"line":s=r?r/2:Math.cos(v)*g,o=Math.sin(v)*g,i.moveTo(e-s,n-o),i.lineTo(e+s,n+o);break;case"dash":i.moveTo(e,n),i.lineTo(e+Math.cos(v)*(r?r/2:g),n+Math.sin(v)*g);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function Si(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function Pl(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function Ll(i){i.restore()}function t1(i,t,e,n,r){if(!t)return i.lineTo(e.x,e.y);if(r==="middle"){const a=(t.x+e.x)/2;i.lineTo(a,t.y),i.lineTo(a,e.y)}else r==="after"!=!!n?i.lineTo(t.x,e.y):i.lineTo(e.x,t.y);i.lineTo(e.x,e.y)}function e1(i,t,e,n){if(!t)return i.lineTo(e.x,e.y);i.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?e.cp2x:e.cp1x,n?e.cp2y:e.cp1y,e.x,e.y)}function i1(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),at(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function n1(i,t,e,n,r){if(r.strikethrough||r.underline){const a=i.measureText(n),s=t-a.actualBoundingBoxLeft,o=t+a.actualBoundingBoxRight,l=e-a.actualBoundingBoxAscent,u=e+a.actualBoundingBoxDescent,h=r.strikethrough?(l+u)/2:u;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(s,h),i.lineTo(o,h),i.stroke()}}function r1(i,t){const e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function Yn(i,t,e,n,r,a={}){const s=xt(t)?t:[t],o=a.strokeWidth>0&&a.strokeColor!=="";let l,u;for(i.save(),i.font=r.string,i1(i,a),l=0;l<s.length;++l)u=s[l],a.backdrop&&r1(i,a.backdrop),o&&(a.strokeColor&&(i.strokeStyle=a.strokeColor),at(a.strokeWidth)||(i.lineWidth=a.strokeWidth),i.strokeText(u,e,n,a.maxWidth)),i.fillText(u,e,n,a.maxWidth),n1(i,e,n,u,a),n+=Number(r.lineHeight);i.restore()}function Ja(i,t){const{x:e,y:n,w:r,h:a,radius:s}=t;i.arc(e+s.topLeft,n+s.topLeft,s.topLeft,1.5*yt,yt,!0),i.lineTo(e,n+a-s.bottomLeft),i.arc(e+s.bottomLeft,n+a-s.bottomLeft,s.bottomLeft,yt,kt,!0),i.lineTo(e+r-s.bottomRight,n+a),i.arc(e+r-s.bottomRight,n+a-s.bottomRight,s.bottomRight,kt,0,!0),i.lineTo(e+r,n+s.topRight),i.arc(e+r-s.topRight,n+s.topRight,s.topRight,0,-kt,!0),i.lineTo(e+s.topLeft,n)}const a1=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,s1=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function o1(i,t){const e=(""+i).match(a1);if(!e||e[1]==="normal")return t*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return t*i}const l1=i=>+i||0;function Kc(i,t){const e={},n=tt(t),r=n?Object.keys(t):t,a=tt(i)?n?s=>Z(i[s],i[t[s]]):s=>i[s]:()=>i;for(const s of r)e[s]=l1(a(s));return e}function Qm(i){return Kc(i,{top:"y",right:"x",bottom:"y",left:"x"})}function zn(i){return Kc(i,["topLeft","topRight","bottomLeft","bottomRight"])}function Qt(i){const t=Qm(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function zt(i,t){i=i||{},t=t||wt.font;let e=Z(i.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let n=Z(i.style,t.style);n&&!(""+n).match(s1)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:Z(i.family,t.family),lineHeight:o1(Z(i.lineHeight,t.lineHeight),e),size:e,style:n,weight:Z(i.weight,t.weight),string:""};return r.string=Qx(r),r}function ya(i,t,e,n){let r,a,s;for(r=0,a=i.length;r<a;++r)if(s=i[r],s!==void 0&&s!==void 0)return s}function u1(i,t,e){const{min:n,max:r}=i,a=Vm(t,(r-n)/2),s=(o,l)=>e&&o===0?0:o+l;return{min:s(n,-Math.abs(a)),max:s(r,a)}}function rn(i,t){return Object.assign(Object.create(i),t)}function Qc(i,t=[""],e,n,r=()=>i[0]){const a=e||i;typeof n>"u"&&(n=i_("_fallback",i));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:a,_fallback:n,_getTarget:r,override:o=>Qc([o,...i],t,a,n)};return new Proxy(s,{deleteProperty(o,l){return delete o[l],delete o._keys,delete i[0][l],!0},get(o,l){return t_(o,l,()=>m1(l,t,i,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(o,l){return Sd(o).includes(l)},ownKeys(o){return Sd(o)},set(o,l,u){const h=o._storage||(o._storage=r());return o[l]=h[l]=u,delete o._keys,!0}})}function Pr(i,t,e,n){const r={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:Jm(i,n),setContext:a=>Pr(i,a,e,n),override:a=>Pr(i.override(a),t,e,n)};return new Proxy(r,{deleteProperty(a,s){return delete a[s],delete i[s],!0},get(a,s,o){return t_(a,s,()=>c1(a,s,o))},getOwnPropertyDescriptor(a,s){return a._descriptors.allKeys?Reflect.has(i,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,s)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(a,s){return Reflect.has(i,s)},ownKeys(){return Reflect.ownKeys(i)},set(a,s,o){return i[s]=o,delete a[s],!0}})}function Jm(i,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:n=t.indexable,_allKeys:r=t.allKeys}=i;return{allKeys:r,scriptable:e,indexable:n,isScriptable:tn(e)?e:()=>e,isIndexable:tn(n)?n:()=>n}}const h1=(i,t)=>i?i+Xc(t):t,Jc=(i,t)=>tt(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function t_(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t)||t==="constructor")return i[t];const n=e();return i[t]=n,n}function c1(i,t,e){const{_proxy:n,_context:r,_subProxy:a,_descriptors:s}=i;let o=n[t];return tn(o)&&s.isScriptable(t)&&(o=f1(t,o,i,e)),xt(o)&&o.length&&(o=d1(t,o,i,s.isIndexable)),Jc(t,o)&&(o=Pr(o,r,a&&a[t],s)),o}function f1(i,t,e,n){const{_proxy:r,_context:a,_subProxy:s,_stack:o}=e;if(o.has(i))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+i);o.add(i);let l=t(a,s||n);return o.delete(i),Jc(i,l)&&(l=tf(r._scopes,r,i,l)),l}function d1(i,t,e,n){const{_proxy:r,_context:a,_subProxy:s,_descriptors:o}=e;if(typeof a.index<"u"&&n(i))return t[a.index%t.length];if(tt(t[0])){const l=t,u=r._scopes.filter(h=>h!==l);t=[];for(const h of l){const c=tf(u,r,i,h);t.push(Pr(c,a,s&&s[i],o))}}return t}function e_(i,t,e){return tn(i)?i(t,e):i}const p1=(i,t)=>i===!0?t:typeof i=="string"?Ji(t,i):void 0;function v1(i,t,e,n,r){for(const a of t){const s=p1(e,a);if(s){i.add(s);const o=e_(s._fallback,e,r);if(typeof o<"u"&&o!==e&&o!==n)return o}else if(s===!1&&typeof n<"u"&&e!==n)return null}return!1}function tf(i,t,e,n){const r=t._rootScopes,a=e_(t._fallback,e,n),s=[...i,...r],o=new Set;o.add(n);let l=wd(o,s,e,a||e,n);return l===null||typeof a<"u"&&a!==e&&(l=wd(o,s,a,l,n),l===null)?!1:Qc(Array.from(o),[""],r,a,()=>g1(t,e,n))}function wd(i,t,e,n,r){for(;e;)e=v1(i,t,e,n,r);return e}function g1(i,t,e){const n=i._getTarget();t in n||(n[t]={});const r=n[t];return xt(r)&&tt(e)?e:r||{}}function m1(i,t,e,n){let r;for(const a of t)if(r=i_(h1(a,i),e),typeof r<"u")return Jc(i,r)?tf(e,n,i,r):r}function i_(i,t){for(const e of t){if(!e)continue;const n=e[i];if(typeof n<"u")return n}}function Sd(i){let t=i._keys;return t||(t=i._keys=_1(i._scopes)),t}function _1(i){const t=new Set;for(const e of i)for(const n of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(n);return Array.from(t)}function n_(i,t,e,n){const{iScale:r}=i,{key:a="r"}=this._parsing,s=new Array(n);let o,l,u,h;for(o=0,l=n;o<l;++o)u=o+e,h=t[u],s[o]={r:r.parse(Ji(h,a),u)};return s}const y1=Number.EPSILON||1e-14,Lr=(i,t)=>t<i.length&&!i[t].skip&&i[t],r_=i=>i==="x"?"y":"x";function b1(i,t,e,n){const r=i.skip?t:i,a=t,s=e.skip?t:e,o=Ph(a,r),l=Ph(s,a);let u=o/(o+l),h=l/(o+l);u=isNaN(u)?0:u,h=isNaN(h)?0:h;const c=n*u,f=n*h;return{previous:{x:a.x-c*(s.x-r.x),y:a.y-c*(s.y-r.y)},next:{x:a.x+f*(s.x-r.x),y:a.y+f*(s.y-r.y)}}}function x1(i,t,e){const n=i.length;let r,a,s,o,l,u=Lr(i,0);for(let h=0;h<n-1;++h)if(l=u,u=Lr(i,h+1),!(!l||!u)){if(ka(t[h],0,y1)){e[h]=e[h+1]=0;continue}r=e[h]/t[h],a=e[h+1]/t[h],o=Math.pow(r,2)+Math.pow(a,2),!(o<=9)&&(s=3/Math.sqrt(o),e[h]=r*s*t[h],e[h+1]=a*s*t[h])}}function w1(i,t,e="x"){const n=r_(e),r=i.length;let a,s,o,l=Lr(i,0);for(let u=0;u<r;++u){if(s=o,o=l,l=Lr(i,u+1),!o)continue;const h=o[e],c=o[n];s&&(a=(h-s[e])/3,o[`cp1${e}`]=h-a,o[`cp1${n}`]=c-a*t[u]),l&&(a=(l[e]-h)/3,o[`cp2${e}`]=h+a,o[`cp2${n}`]=c+a*t[u])}}function S1(i,t="x"){const e=r_(t),n=i.length,r=Array(n).fill(0),a=Array(n);let s,o,l,u=Lr(i,0);for(s=0;s<n;++s)if(o=l,l=u,u=Lr(i,s+1),!!l){if(u){const h=u[t]-l[t];r[s]=h!==0?(u[e]-l[e])/h:0}a[s]=o?u?ni(r[s-1])!==ni(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}x1(i,r,a),w1(i,a,t)}function Is(i,t,e){return Math.max(Math.min(i,e),t)}function T1(i,t){let e,n,r,a,s,o=Si(i[0],t);for(e=0,n=i.length;e<n;++e)s=a,a=o,o=e<n-1&&Si(i[e+1],t),a&&(r=i[e],s&&(r.cp1x=Is(r.cp1x,t.left,t.right),r.cp1y=Is(r.cp1y,t.top,t.bottom)),o&&(r.cp2x=Is(r.cp2x,t.left,t.right),r.cp2y=Is(r.cp2y,t.top,t.bottom)))}function C1(i,t,e,n,r){let a,s,o,l;if(t.spanGaps&&(i=i.filter(u=>!u.skip)),t.cubicInterpolationMode==="monotone")S1(i,r);else{let u=n?i[i.length-1]:i[0];for(a=0,s=i.length;a<s;++a)o=i[a],l=b1(u,o,i[Math.min(a+1,s-(n?0:1))%s],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,u=o}t.capBezierPoints&&T1(i,e)}function ef(){return typeof window<"u"&&typeof document<"u"}function nf(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function tl(i,t,e){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*t.parentNode[e])):n=i,n}const kl=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function M1(i,t){return kl(i).getPropertyValue(t)}const D1=["top","right","bottom","left"];function Nn(i,t,e){const n={};e=e?"-"+e:"";for(let r=0;r<4;r++){const a=D1[r];n[a]=parseFloat(i[t+"-"+a+e])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const A1=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function P1(i,t){const e=i.touches,n=e&&e.length?e[0]:i,{offsetX:r,offsetY:a}=n;let s=!1,o,l;if(A1(r,a,i.target))o=r,l=a;else{const u=t.getBoundingClientRect();o=n.clientX-u.left,l=n.clientY-u.top,s=!0}return{x:o,y:l,box:s}}function Ln(i,t){if("native"in i)return i;const{canvas:e,currentDevicePixelRatio:n}=t,r=kl(e),a=r.boxSizing==="border-box",s=Nn(r,"padding"),o=Nn(r,"border","width"),{x:l,y:u,box:h}=P1(i,e),c=s.left+(h&&o.left),f=s.top+(h&&o.top);let{width:d,height:p}=t;return a&&(d-=s.width+o.width,p-=s.height+o.height),{x:Math.round((l-c)/d*e.width/n),y:Math.round((u-f)/p*e.height/n)}}function L1(i,t,e){let n,r;if(t===void 0||e===void 0){const a=i&&nf(i);if(!a)t=i.clientWidth,e=i.clientHeight;else{const s=a.getBoundingClientRect(),o=kl(a),l=Nn(o,"border","width"),u=Nn(o,"padding");t=s.width-u.width-l.width,e=s.height-u.height-l.height,n=tl(o.maxWidth,a,"clientWidth"),r=tl(o.maxHeight,a,"clientHeight")}}return{width:t,height:e,maxWidth:n||Qo,maxHeight:r||Qo}}const Rs=i=>Math.round(i*10)/10;function k1(i,t,e,n){const r=kl(i),a=Nn(r,"margin"),s=tl(r.maxWidth,i,"clientWidth")||Qo,o=tl(r.maxHeight,i,"clientHeight")||Qo,l=L1(i,t,e);let{width:u,height:h}=l;if(r.boxSizing==="content-box"){const f=Nn(r,"border","width"),d=Nn(r,"padding");u-=d.width+f.width,h-=d.height+f.height}return u=Math.max(0,u-a.width),h=Math.max(0,n?u/n:h-a.height),u=Rs(Math.min(u,s,l.maxWidth)),h=Rs(Math.min(h,o,l.maxHeight)),u&&!h&&(h=Rs(u/2)),(t!==void 0||e!==void 0)&&n&&l.height&&h>l.height&&(h=l.height,u=Rs(Math.floor(h*n))),{width:u,height:h}}function Td(i,t,e){const n=t||1,r=Math.floor(i.height*n),a=Math.floor(i.width*n);i.height=Math.floor(i.height),i.width=Math.floor(i.width);const s=i.canvas;return s.style&&(e||!s.style.height&&!s.style.width)&&(s.style.height=`${i.height}px`,s.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||s.height!==r||s.width!==a?(i.currentDevicePixelRatio=n,s.height=r,s.width=a,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}const I1=function(){let i=!1;try{const t={get passive(){return i=!0,!1}};ef()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i}();function Cd(i,t){const e=M1(i,t),n=e&&e.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function kn(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:i.y+e*(t.y-i.y)}}function R1(i,t,e,n){return{x:i.x+e*(t.x-i.x),y:n==="middle"?e<.5?i.y:t.y:n==="after"?e<1?i.y:t.y:e>0?t.y:i.y}}function O1(i,t,e,n){const r={x:i.cp2x,y:i.cp2y},a={x:t.cp1x,y:t.cp1y},s=kn(i,r,e),o=kn(r,a,e),l=kn(a,t,e),u=kn(s,o,e),h=kn(o,l,e);return kn(u,h,e)}const E1=function(i,t){return{x(e){return i+i+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,n){return e-n},leftForLtr(e,n){return e-n}}},F1=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function wr(i,t,e){return i?E1(t,e):F1()}function a_(i,t){let e,n;(t==="ltr"||t==="rtl")&&(e=i.canvas.style,n=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=n)}function s_(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function o_(i){return i==="angle"?{between:Qa,compare:Bx,normalize:we}:{between:xi,compare:(t,e)=>t-e,normalize:t=>t}}function Md({start:i,end:t,count:e,loop:n,style:r}){return{start:i%e,end:t%e,loop:n&&(t-i+1)%e===0,style:r}}function B1(i,t,e){const{property:n,start:r,end:a}=e,{between:s,normalize:o}=o_(n),l=t.length;let{start:u,end:h,loop:c}=i,f,d;if(c){for(u+=l,h+=l,f=0,d=l;f<d&&s(o(t[u%l][n]),r,a);++f)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:c,style:i.style}}function l_(i,t,e){if(!e)return[i];const{property:n,start:r,end:a}=e,s=t.length,{compare:o,between:l,normalize:u}=o_(n),{start:h,end:c,loop:f,style:d}=B1(i,t,e),p=[];let g=!1,v=null,m,_,y;const b=()=>l(r,y,m)&&o(r,y)!==0,w=()=>o(a,m)===0||l(a,y,m),x=()=>g||b(),S=()=>!g||w();for(let T=h,C=h;T<=c;++T)_=t[T%s],!_.skip&&(m=u(_[n]),m!==y&&(g=l(m,r,a),v===null&&x()&&(v=o(m,r)===0?T:C),v!==null&&S()&&(p.push(Md({start:v,end:T,loop:f,count:s,style:d})),v=null),C=T,y=m));return v!==null&&p.push(Md({start:v,end:c,loop:f,count:s,style:d})),p}function u_(i,t){const e=[],n=i.segments;for(let r=0;r<n.length;r++){const a=l_(n[r],i.points,t);a.length&&e.push(...a)}return e}function z1(i,t,e,n){let r=0,a=t-1;if(e&&!n)for(;r<t&&!i[r].skip;)r++;for(;r<t&&i[r].skip;)r++;for(r%=t,e&&(a+=r);a>r&&i[a%t].skip;)a--;return a%=t,{start:r,end:a}}function N1(i,t,e,n){const r=i.length,a=[];let s=t,o=i[t],l;for(l=t+1;l<=e;++l){const u=i[l%r];u.skip||u.stop?o.skip||(n=!1,a.push({start:t%r,end:(l-1)%r,loop:n}),t=s=u.stop?l:null):(s=l,o.skip&&(t=l)),o=u}return s!==null&&a.push({start:t%r,end:s%r,loop:n}),a}function V1(i,t){const e=i.points,n=i.options.spanGaps,r=e.length;if(!r)return[];const a=!!i._loop,{start:s,end:o}=z1(e,r,a,n);if(n===!0)return Dd(i,[{start:s,end:o,loop:a}],e,t);const l=o<s?o+r:o,u=!!i._fullLoop&&s===0&&o===r-1;return Dd(i,N1(e,s,l,u),e,t)}function Dd(i,t,e,n){return!n||!n.setContext||!e?t:H1(i,t,e,n)}function H1(i,t,e,n){const r=i._chart.getContext(),a=Ad(i.options),{_datasetIndex:s,options:{spanGaps:o}}=i,l=e.length,u=[];let h=a,c=t[0].start,f=c;function d(p,g,v,m){const _=o?-1:1;if(p!==g){for(p+=l;e[p%l].skip;)p-=_;for(;e[g%l].skip;)g+=_;p%l!==g%l&&(u.push({start:p%l,end:g%l,loop:v,style:m}),h=m,c=g%l)}}for(const p of t){c=o?c:p.start;let g=e[c%l],v;for(f=c+1;f<=p.end;f++){const m=e[f%l];v=Ad(n.setContext(rn(r,{type:"segment",p0:g,p1:m,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:s}))),W1(v,h)&&d(c,f-1,p.loop,h),g=m,h=v}c<f-1&&d(c,f-1,p.loop,h)}return u}function Ad(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function W1(i,t){if(!t)return!1;const e=[],n=function(r,a){return Zc(a)?(e.includes(a)||e.push(a),e.indexOf(a)):a};return JSON.stringify(i,n)!==JSON.stringify(t,n)}/*!
 * Chart.js v4.4.7
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */let U1=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,r){const a=e.listeners[r],s=e.duration;a.forEach(o=>o({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(n-e.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=Xm.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const a=n.items;let s=a.length-1,o=!1,l;for(;s>=0;--s)l=a[s],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(t),o=!0):(a[s]=a[a.length-1],a.pop());o&&(r.draw(),this._notify(r,n,t,"progress")),a.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),e+=a.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};var gi=new U1;const Pd="transparent",G1={boolean(i,t,e){return e>.5?t:i},color(i,t,e){const n=yd(i||Pd),r=n.valid&&yd(t||Pd);return r&&r.valid?r.mix(n,e).hexString():t},number(i,t,e){return i+(t-i)*e}};let Y1=class{constructor(t,e,n,r){const a=e[n];r=ya([t.to,r,a,t.from]);const s=ya([t.from,a,r]);this._active=!0,this._fn=t.fn||G1[t.type||typeof s],this._easing=Ia[t.easing]||Ia.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const r=this._target[this._prop],a=n-this._start,s=this._duration-a;this._start=n,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=ya([t.to,e,r,t.from]),this._from=ya([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,r=this._prop,a=this._from,s=this._loop,o=this._to;let l;if(this._active=a!==o&&(s||e<n),!this._active){this._target[r]=o,this._notify(!0);return}if(e<0){this._target[r]=a;return}l=e/n%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(a,o,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,n)=>{t.push({res:e,rej:n})})}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][e]()}};class h_{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!tt(t))return;const e=Object.keys(wt.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const a=t[r];if(!tt(a))return;const s={};for(const o of e)s[o]=a[o];(xt(a.properties)&&a.properties||[r]).forEach(o=>{(o===r||!n.has(o))&&n.set(o,s)})})}_animateOptions(t,e){const n=e.options,r=$1(t,n);if(!r)return[];const a=this._createAnimations(r,n);return n.$shared&&X1(t.options.$animations,n).then(()=>{t.options=n},()=>{}),a}_createAnimations(t,e){const n=this._properties,r=[],a=t.$animations||(t.$animations={}),s=Object.keys(e),o=Date.now();let l;for(l=s.length-1;l>=0;--l){const u=s[l];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(t,e));continue}const h=e[u];let c=a[u];const f=n.get(u);if(c)if(f&&c.active()){c.update(f,h,o);continue}else c.cancel();if(!f||!f.duration){t[u]=h;continue}a[u]=c=new Y1(f,t,u,h),r.push(c)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const n=this._createAnimations(t,e);if(n.length)return gi.add(this._chart,n),!0}}function X1(i,t){const e=[],n=Object.keys(t);for(let r=0;r<n.length;r++){const a=i[n[r]];a&&a.active()&&e.push(a.wait())}return Promise.all(e)}function $1(i,t){if(!t)return;let e=i.options;if(!e){i.options=t;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Ld(i,t){const e=i&&i.options||{},n=e.reverse,r=e.min===void 0?t:0,a=e.max===void 0?t:0;return{start:n?a:r,end:n?r:a}}function j1(i,t,e){if(e===!1)return!1;const n=Ld(i,e),r=Ld(t,e);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function q1(i){let t,e,n,r;return tt(i)?(t=i.top,e=i.right,n=i.bottom,r=i.left):t=e=n=r=i,{top:t,right:e,bottom:n,left:r,disabled:i===!1}}function c_(i,t){const e=[],n=i._getSortedDatasetMetas(t);let r,a;for(r=0,a=n.length;r<a;++r)e.push(n[r].index);return e}function kd(i,t,e,n={}){const r=i.keys,a=n.mode==="single";let s,o,l,u;if(t===null)return;let h=!1;for(s=0,o=r.length;s<o;++s){if(l=+r[s],l===e){if(h=!0,n.all)continue;break}u=i.values[l],Dt(u)&&(a||t===0||ni(t)===ni(u))&&(t+=u)}return!h&&!n.all?0:t}function Z1(i,t){const{iScale:e,vScale:n}=t,r=e.axis==="x"?"x":"y",a=n.axis==="x"?"x":"y",s=Object.keys(i),o=new Array(s.length);let l,u,h;for(l=0,u=s.length;l<u;++l)h=s[l],o[l]={[r]:h,[a]:i[h]};return o}function ru(i,t){const e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function K1(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}function Q1(i){const{min:t,max:e,minDefined:n,maxDefined:r}=i.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function J1(i,t,e){const n=i[t]||(i[t]={});return n[e]||(n[e]={})}function Id(i,t,e,n){for(const r of t.getMatchingVisibleMetas(n).reverse()){const a=i[r.index];if(e&&a>0||!e&&a<0)return r.index}return null}function Rd(i,t){const{chart:e,_cachedMeta:n}=i,r=e._stacks||(e._stacks={}),{iScale:a,vScale:s,index:o}=n,l=a.axis,u=s.axis,h=K1(a,s,n),c=t.length;let f;for(let d=0;d<c;++d){const p=t[d],{[l]:g,[u]:v}=p,m=p._stacks||(p._stacks={});f=m[u]=J1(r,h,g),f[o]=v,f._top=Id(f,s,!0,n.type),f._bottom=Id(f,s,!1,n.type);const _=f._visualValues||(f._visualValues={});_[o]=v}}function au(i,t){const e=i.scales;return Object.keys(e).filter(n=>e[n].axis===t).shift()}function tw(i,t){return rn(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function ew(i,t,e){return rn(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Yr(i,t){const e=i.controller.index,n=i.vScale&&i.vScale.axis;if(n){t=t||i._parsed;for(const r of t){const a=r._stacks;if(!a||a[n]===void 0||a[n][e]===void 0)return;delete a[n][e],a[n]._visualValues!==void 0&&a[n]._visualValues[e]!==void 0&&delete a[n]._visualValues[e]}}}const su=i=>i==="reset"||i==="none",Od=(i,t)=>t?i:Object.assign({},i),iw=(i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:c_(e,!0),values:null};class We{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=ru(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Yr(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),r=(c,f,d,p)=>c==="x"?f:c==="r"?p:d,a=e.xAxisID=Z(n.xAxisID,au(t,"x")),s=e.yAxisID=Z(n.yAxisID,au(t,"y")),o=e.rAxisID=Z(n.rAxisID,au(t,"r")),l=e.indexAxis,u=e.iAxisID=r(l,a,s,o),h=e.vAxisID=r(l,s,a,o);e.xScale=this.getScaleForId(a),e.yScale=this.getScaleForId(s),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(u),e.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&gd(this._data,this),t._stacked&&Yr(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(tt(e)){const r=this._cachedMeta;this._data=Z1(e,r)}else if(n!==e){if(n){gd(n,this);const r=this._cachedMeta;Yr(r),r._parsed=[]}e&&Object.isExtensible(e)&&Hx(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const a=e._stacked;e._stacked=ru(e.vScale,e),e.stack!==n.stack&&(r=!0,Yr(e),e.stack=n.stack),this._resyncElements(t),(r||a!==e._stacked)&&(Rd(this,e._parsed),e._stacked=ru(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:r}=this,{iScale:a,_stacked:s}=n,o=a.axis;let l=t===0&&e===r.length?!0:n._sorted,u=t>0&&n._parsed[t-1],h,c,f;if(this._parsing===!1)n._parsed=r,n._sorted=!0,f=r;else{xt(r[t])?f=this.parseArrayData(n,r,t,e):tt(r[t])?f=this.parseObjectData(n,r,t,e):f=this.parsePrimitiveData(n,r,t,e);const d=()=>c[o]===null||u&&c[o]<u[o];for(h=0;h<e;++h)n._parsed[h+t]=c=f[h],l&&(d()&&(l=!1),u=c);n._sorted=l}s&&Rd(this,f)}parsePrimitiveData(t,e,n,r){const{iScale:a,vScale:s}=t,o=a.axis,l=s.axis,u=a.getLabels(),h=a===s,c=new Array(r);let f,d,p;for(f=0,d=r;f<d;++f)p=f+n,c[f]={[o]:h||a.parse(u[p],p),[l]:s.parse(e[p],p)};return c}parseArrayData(t,e,n,r){const{xScale:a,yScale:s}=t,o=new Array(r);let l,u,h,c;for(l=0,u=r;l<u;++l)h=l+n,c=e[h],o[l]={x:a.parse(c[0],h),y:s.parse(c[1],h)};return o}parseObjectData(t,e,n,r){const{xScale:a,yScale:s}=t,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=new Array(r);let h,c,f,d;for(h=0,c=r;h<c;++h)f=h+n,d=e[f],u[h]={x:a.parse(Ji(d,o),f),y:s.parse(Ji(d,l),f)};return u}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const r=this.chart,a=this._cachedMeta,s=e[t.axis],o={keys:c_(r,!0),values:e._stacks[t.axis]._visualValues};return kd(o,s,a.index,{mode:n})}updateRangeFromParsed(t,e,n,r){const a=n[e.axis];let s=a===null?NaN:a;const o=r&&n._stacks[e.axis];r&&o&&(r.values=o,s=kd(r,a,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){const n=this._cachedMeta,r=n._parsed,a=n._sorted&&t===n.iScale,s=r.length,o=this._getOtherScale(t),l=iw(e,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:c}=Q1(o);let f,d;function p(){d=r[f];const g=d[o.axis];return!Dt(d[t.axis])||h>g||c<g}for(f=0;f<s&&!(!p()&&(this.updateRangeFromParsed(u,t,d,l),a));++f);if(a){for(f=s-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(u,t,d,l);break}}return u}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let r,a,s;for(r=0,a=e.length;r<a;++r)s=e[r][t.axis],Dt(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,r=e.vScale,a=this.getParsed(t);return{label:n?""+n.getLabelForValue(a[n.axis]):"",value:r?""+r.getLabelForValue(a[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=q1(Z(this.options.clip,j1(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,r=n.data||[],a=e.chartArea,s=[],o=this._drawStart||0,l=this._drawCount||r.length-o,u=this.options.drawActiveElementsOnTop;let h;for(n.dataset&&n.dataset.draw(t,a,o,l),h=o;h<o+l;++h){const c=r[h];c.hidden||(c.active&&u?s.push(c):c.draw(t,a))}for(h=0;h<s.length;++h)s[h].draw(t,a)}getStyle(t,e){const n=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const r=this.getDataset();let a;if(t>=0&&t<this._cachedMeta.data.length){const s=this._cachedMeta.data[t];a=s.$context||(s.$context=ew(this.getContext(),t,s)),a.parsed=this.getParsed(t),a.raw=r.data[t],a.index=a.dataIndex=t}else a=this.$context||(this.$context=tw(this.chart.getContext(),this.index)),a.dataset=r,a.index=a.datasetIndex=this.index;return a.active=!!e,a.mode=n,a}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",n){const r=e==="active",a=this._cachedDataOpts,s=t+"-"+e,o=a[s],l=this.enableOptionSharing&&Ka(n);if(o)return Od(o,l);const u=this.chart.config,h=u.datasetElementScopeKeys(this._type,t),c=r?[`${t}Hover`,"hover",t,""]:[t,""],f=u.getOptionScopes(this.getDataset(),h),d=Object.keys(wt.elements[t]),p=()=>this.getContext(n,r,e),g=u.resolveNamedOptions(f,d,p,c);return g.$shared&&(g.$shared=l,a[s]=Object.freeze(Od(g,l))),g}_resolveAnimations(t,e,n){const r=this.chart,a=this._cachedDataOpts,s=`animation-${e}`,o=a[s];if(o)return o;let l;if(r.options.animation!==!1){const h=this.chart.config,c=h.datasetAnimationScopeKeys(this._type,e),f=h.getOptionScopes(this.getDataset(),c);l=h.createResolver(f,this.getContext(t,n,e))}const u=new h_(r,l&&l.animations);return l&&l._cacheable&&(a[s]=Object.freeze(u)),u}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||su(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),r=this._sharedOptions,a=this.getSharedOptions(n),s=this.includeOptions(e,a)||a!==r;return this.updateSharedOptions(a,e,n),{sharedOptions:a,includeOptions:s}}updateElement(t,e,n,r){su(r)?Object.assign(t,n):this._resolveAnimations(e,r).update(t,n)}updateSharedOptions(t,e,n){t&&!su(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,r){t.active=r;const a=this.getStyle(e,r);this._resolveAnimations(e,n,r).update(t,{options:!r&&this.getSharedOptions(a)||a})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[o,l,u]of this._syncList)this[o](l,u);this._syncList=[];const r=n.length,a=e.length,s=Math.min(a,r);s&&this.parse(0,s),a>r?this._insertElements(r,a-r,t):a<r&&this._removeElements(a,r-a)}_insertElements(t,e,n=!0){const r=this._cachedMeta,a=r.data,s=t+e;let o;const l=u=>{for(u.length+=e,o=u.length-1;o>=s;o--)u[o]=u[o-e]};for(l(a),o=t;o<s;++o)a[o]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(t,e),n&&this.updateElements(a,t,e,"reset")}updateElements(t,e,n,r){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(t,e);n._stacked&&Yr(n,r)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,r]=t;this[e](n,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}B(We,"defaults",{}),B(We,"datasetElementType",null),B(We,"dataElementType",null);function nw(i,t){if(!i._cache.$bar){const e=i.getMatchingVisibleMetas(t);let n=[];for(let r=0,a=e.length;r<a;r++)n=n.concat(e[r].controller.getAllParsedValues(i));i._cache.$bar=Ym(n.sort((r,a)=>r-a))}return i._cache.$bar}function rw(i){const t=i.iScale,e=nw(t,i.type);let n=t._length,r,a,s,o;const l=()=>{s===32767||s===-32768||(Ka(o)&&(n=Math.min(n,Math.abs(s-o)||n)),o=s)};for(r=0,a=e.length;r<a;++r)s=t.getPixelForValue(e[r]),l();for(o=void 0,r=0,a=t.ticks.length;r<a;++r)s=t.getPixelForTick(r),l();return n}function aw(i,t,e,n){const r=e.barThickness;let a,s;return at(r)?(a=t.min*e.categoryPercentage,s=e.barPercentage):(a=r*n,s=1),{chunk:a/n,ratio:s,start:t.pixels[i]-a/2}}function sw(i,t,e,n){const r=t.pixels,a=r[i];let s=i>0?r[i-1]:null,o=i<r.length-1?r[i+1]:null;const l=e.categoryPercentage;s===null&&(s=a-(o===null?t.end-t.start:o-a)),o===null&&(o=a+a-s);const u=a-(a-Math.min(s,o))/2*l;return{chunk:Math.abs(o-s)/2*l/n,ratio:e.barPercentage,start:u}}function ow(i,t,e,n){const r=e.parse(i[0],n),a=e.parse(i[1],n),s=Math.min(r,a),o=Math.max(r,a);let l=s,u=o;Math.abs(s)>Math.abs(o)&&(l=o,u=s),t[e.axis]=u,t._custom={barStart:l,barEnd:u,start:r,end:a,min:s,max:o}}function f_(i,t,e,n){return xt(i)?ow(i,t,e,n):t[e.axis]=e.parse(i,n),t}function Ed(i,t,e,n){const r=i.iScale,a=i.vScale,s=r.getLabels(),o=r===a,l=[];let u,h,c,f;for(u=e,h=e+n;u<h;++u)f=t[u],c={},c[r.axis]=o||r.parse(s[u],u),l.push(f_(f,c,a,u));return l}function ou(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function lw(i,t,e){return i!==0?ni(i):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function uw(i){let t,e,n,r,a;return i.horizontal?(t=i.base>i.x,e="left",n="right"):(t=i.base<i.y,e="bottom",n="top"),t?(r="end",a="start"):(r="start",a="end"),{start:e,end:n,reverse:t,top:r,bottom:a}}function hw(i,t,e,n){let r=t.borderSkipped;const a={};if(!r){i.borderSkipped=a;return}if(r===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:s,end:o,reverse:l,top:u,bottom:h}=uw(i);r==="middle"&&e&&(i.enableBorderRadius=!0,(e._top||0)===n?r=u:(e._bottom||0)===n?r=h:(a[Fd(h,s,o,l)]=!0,r=u)),a[Fd(r,s,o,l)]=!0,i.borderSkipped=a}function Fd(i,t,e,n){return n?(i=cw(i,t,e),i=Bd(i,e,t)):i=Bd(i,t,e),i}function cw(i,t,e){return i===t?e:i===e?t:i}function Bd(i,t,e){return i==="start"?t:i==="end"?e:i}function fw(i,{inflateAmount:t},e){i.inflateAmount=t==="auto"?e===1?.33:0:t}class Mo extends We{parsePrimitiveData(t,e,n,r){return Ed(t,e,n,r)}parseArrayData(t,e,n,r){return Ed(t,e,n,r)}parseObjectData(t,e,n,r){const{iScale:a,vScale:s}=t,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=a.axis==="x"?o:l,h=s.axis==="x"?o:l,c=[];let f,d,p,g;for(f=n,d=n+r;f<d;++f)g=e[f],p={},p[a.axis]=a.parse(Ji(g,u),f),c.push(f_(Ji(g,h),p,s,f));return c}updateRangeFromParsed(t,e,n,r){super.updateRangeFromParsed(t,e,n,r);const a=n._custom;a&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:r}=e,a=this.getParsed(t),s=a._custom,o=ou(s)?"["+s.start+", "+s.end+"]":""+r.getLabelForValue(a[r.axis]);return{label:""+n.getLabelForValue(a[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,r){const a=r==="reset",{index:s,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),u=o.isHorizontal(),h=this._getRuler(),{sharedOptions:c,includeOptions:f}=this._getSharedOptions(e,r);for(let d=e;d<e+n;d++){const p=this.getParsed(d),g=a||at(p[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(d),v=this._calculateBarIndexPixels(d,h),m=(p._stacks||{})[o.axis],_={horizontal:u,base:g.base,enableBorderRadius:!m||ou(p._custom)||s===m._top||s===m._bottom,x:u?g.head:v.center,y:u?v.center:g.head,height:u?v.size:Math.abs(g.size),width:u?Math.abs(g.size):v.size};f&&(_.options=c||this.resolveDataElementOptions(d,t[d].active?"active":r));const y=_.options||t[d].options;hw(_,y,m,s),fw(_,y,h.ratio),this.updateElement(t[d],d,_,r)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),a=n.options.stacked,s=[],o=this._cachedMeta.controller.getParsed(e),l=o&&o[n.axis],u=h=>{const c=h._parsed.find(d=>d[n.axis]===l),f=c&&c[h.vScale.axis];if(at(f)||isNaN(f))return!0};for(const h of r)if(!(e!==void 0&&u(h))&&((a===!1||s.indexOf(h.stack)===-1||a===void 0&&h.stack===void 0)&&s.push(h.stack),h.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const r=this._getStacks(t,n),a=e!==void 0?r.indexOf(e):-1;return a===-1?r.length-1:a}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,r=[];let a,s;for(a=0,s=e.data.length;a<s;++a)r.push(n.getPixelForValue(this.getParsed(a)[n.axis],a));const o=t.barThickness;return{min:o||rw(e),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:r},options:{base:a,minBarLength:s}}=this,o=a||0,l=this.getParsed(t),u=l._custom,h=ou(u);let c=l[e.axis],f=0,d=n?this.applyStack(e,l,n):c,p,g;d!==c&&(f=d-c,d=c),h&&(c=u.barStart,d=u.barEnd-u.barStart,c!==0&&ni(c)!==ni(u.barEnd)&&(f=0),f+=c);const v=!at(a)&&!h?a:f;let m=e.getPixelForValue(v);if(this.chart.getDataVisibility(t)?p=e.getPixelForValue(f+d):p=m,g=p-m,Math.abs(g)<s){g=lw(g,e,o)*s,c===o&&(m-=g/2);const _=e.getPixelForDecimal(0),y=e.getPixelForDecimal(1),b=Math.min(_,y),w=Math.max(_,y);m=Math.max(Math.min(m,w),b),p=m+g,n&&!h&&(l._stacks[e.axis]._visualValues[r]=e.getValueForPixel(p)-e.getValueForPixel(m))}if(m===e.getPixelForValue(o)){const _=ni(g)*e.getLineWidthForValue(o)/2;m+=_,g-=_}return{size:g,base:m,head:p,center:p+g/2}}_calculateBarIndexPixels(t,e){const n=e.scale,r=this.options,a=r.skipNull,s=Z(r.maxBarThickness,1/0);let o,l;if(e.grouped){const u=a?this._getStackCount(t):e.stackCount,h=r.barThickness==="flex"?sw(t,e,r,u):aw(t,e,r,u),c=this._getStackIndex(this.index,this._cachedMeta.stack,a?t:void 0);o=h.start+h.chunk*c+h.chunk/2,l=Math.min(s,h.chunk*h.ratio)}else o=n.getPixelForValue(this.getParsed(t)[n.axis],t),l=Math.min(s,e.min*e.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,r=n.length;let a=0;for(;a<r;++a)this.getParsed(a)[e.axis]!==null&&!n[a].hidden&&n[a].draw(this._ctx)}}B(Mo,"id","bar"),B(Mo,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),B(Mo,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Do extends We{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,r){const a=super.parsePrimitiveData(t,e,n,r);for(let s=0;s<a.length;s++)a[s]._custom=this.resolveDataElementOptions(s+n).radius;return a}parseArrayData(t,e,n,r){const a=super.parseArrayData(t,e,n,r);for(let s=0;s<a.length;s++){const o=e[n+s];a[s]._custom=Z(o[2],this.resolveDataElementOptions(s+n).radius)}return a}parseObjectData(t,e,n,r){const a=super.parseObjectData(t,e,n,r);for(let s=0;s<a.length;s++){const o=e[n+s];a[s]._custom=Z(o&&o.r&&+o.r,this.resolveDataElementOptions(s+n).radius)}return a}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:a}=e,s=this.getParsed(t),o=r.getLabelForValue(s.x),l=a.getLabelForValue(s.y),u=s._custom;return{label:n[t]||"",value:"("+o+", "+l+(u?", "+u:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,r){const a=r==="reset",{iScale:s,vScale:o}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(e,r),h=s.axis,c=o.axis;for(let f=e;f<e+n;f++){const d=t[f],p=!a&&this.getParsed(f),g={},v=g[h]=a?s.getPixelForDecimal(.5):s.getPixelForValue(p[h]),m=g[c]=a?o.getBasePixel():o.getPixelForValue(p[c]);g.skip=isNaN(v)||isNaN(m),u&&(g.options=l||this.resolveDataElementOptions(f,d.active?"active":r),a&&(g.options.radius=0)),this.updateElement(d,f,g,r)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const a=r.radius;return e!=="active"&&(r.radius=0),r.radius+=Z(n&&n._custom,a),r}}B(Do,"id","bubble"),B(Do,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),B(Do,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function dw(i,t,e){let n=1,r=1,a=0,s=0;if(t<_t){const o=i,l=o+t,u=Math.cos(o),h=Math.sin(o),c=Math.cos(l),f=Math.sin(l),d=(y,b,w)=>Qa(y,o,l,!0)?1:Math.max(b,b*e,w,w*e),p=(y,b,w)=>Qa(y,o,l,!0)?-1:Math.min(b,b*e,w,w*e),g=d(0,u,c),v=d(kt,h,f),m=p(yt,u,c),_=p(yt+kt,h,f);n=(g-m)/2,r=(v-_)/2,a=-(g+m)/2,s=-(v+_)/2}return{ratioX:n,ratioY:r,offsetX:a,offsetY:s}}class On extends We{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=n;else{let a=l=>+n[l];if(tt(n[t])){const{key:l="value"}=this._parsing;a=u=>+Ji(n[u],l)}let s,o;for(s=t,o=t+e;s<o;++s)r._parsed[s]=a(s)}}_getRotation(){return He(this.options.rotation-90)}_getCircumference(){return He(this.options.circumference)}_getRotationExtents(){let t=_t,e=-_t;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,a=r._getRotation(),s=r._getCircumference();t=Math.min(t,a),e=Math.max(e,a+s)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,r=this._cachedMeta,a=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-s)/2,0),l=Math.min(Dx(this.options.cutout,o),1),u=this._getRingWeight(this.index),{circumference:h,rotation:c}=this._getRotationExtents(),{ratioX:f,ratioY:d,offsetX:p,offsetY:g}=dw(c,h,l),v=(n.width-s)/f,m=(n.height-s)/d,_=Math.max(Math.min(v,m)/2,0),y=Vm(this.options.radius,_),b=Math.max(y*l,0),w=(y-b)/this._getVisibleDatasetWeightTotal();this.offsetX=p*y,this.offsetY=g*y,r.total=this.calculateTotal(),this.outerRadius=y-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*u,0),this.updateElements(a,0,a.length,t)}_circumference(t,e){const n=this.options,r=this._cachedMeta,a=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*a/_t)}updateElements(t,e,n,r){const a=r==="reset",s=this.chart,o=s.chartArea,u=s.options.animation,h=(o.left+o.right)/2,c=(o.top+o.bottom)/2,f=a&&u.animateScale,d=f?0:this.innerRadius,p=f?0:this.outerRadius,{sharedOptions:g,includeOptions:v}=this._getSharedOptions(e,r);let m=this._getRotation(),_;for(_=0;_<e;++_)m+=this._circumference(_,a);for(_=e;_<e+n;++_){const y=this._circumference(_,a),b=t[_],w={x:h+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+y,circumference:y,outerRadius:p,innerRadius:d};v&&(w.options=g||this.resolveDataElementOptions(_,b.active?"active":r)),m+=y,this.updateElement(b,_,w,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n=0,r;for(r=0;r<e.length;r++){const a=t._parsed[r];a!==null&&!isNaN(a)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(n+=Math.abs(a))}return n}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?_t*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,r=n.data.labels||[],a=gs(e._parsed[t],n.options.locale);return{label:r[t]||"",value:a}}getMaxBorderWidth(t){let e=0;const n=this.chart;let r,a,s,o,l;if(!t){for(r=0,a=n.data.datasets.length;r<a;++r)if(n.isDatasetVisible(r)){s=n.getDatasetMeta(r),t=s.data,o=s.controller;break}}if(!t)return 0;for(r=0,a=t.length;r<a;++r)l=o.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(e=Math.max(e,l.borderWidth||0,l.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,r=t.length;n<r;++n){const a=this.resolveDataElementOptions(n);e=Math.max(e,a.offset||0,a.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(Z(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}B(On,"id","doughnut"),B(On,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),B(On,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),B(On,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:r}}=t.legend.options;return e.labels.map((a,s)=>{const l=t.getDatasetMeta(0).controller.getStyle(s);return{text:a,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}});class Ao extends We{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:r=[],_dataset:a}=e,s=this.chart._animationsDisabled;let{start:o,count:l}=jm(e,r,s);this._drawStart=o,this._drawCount=l,qm(e)&&(o=0,l=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!a._decimated,n.points=r;const u=this.resolveDatasetElementOptions(t);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:u},t),this.updateElements(r,o,l,t)}updateElements(t,e,n,r){const a=r==="reset",{iScale:s,vScale:o,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:h,includeOptions:c}=this._getSharedOptions(e,r),f=s.axis,d=o.axis,{spanGaps:p,segment:g}=this.options,v=Ar(p)?p:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||a||r==="none",_=e+n,y=t.length;let b=e>0&&this.getParsed(e-1);for(let w=0;w<y;++w){const x=t[w],S=m?x:{};if(w<e||w>=_){S.skip=!0;continue}const T=this.getParsed(w),C=at(T[d]),M=S[f]=s.getPixelForValue(T[f],w),D=S[d]=a||C?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,T,l):T[d],w);S.skip=isNaN(M)||isNaN(D)||C,S.stop=w>0&&Math.abs(T[f]-b[f])>v,g&&(S.parsed=T,S.raw=u.data[w]),c&&(S.options=h||this.resolveDataElementOptions(w,x.active?"active":r)),m||this.updateElement(x,w,S,r),b=T}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return n;const a=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,a,s)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}B(Ao,"id","line"),B(Ao,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),B(Ao,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Oa extends We{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,r=n.data.labels||[],a=gs(e._parsed[t].r,n.options.locale);return{label:r[t]||"",value:a}}parseObjectData(t,e,n,r){return n_.bind(this)(t,e,n,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,r)=>{const a=this.getParsed(r).r;!isNaN(a)&&this.chart.getDataVisibility(r)&&(a<e.min&&(e.min=a),a>e.max&&(e.max=a))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),a=Math.max(r/2,0),s=Math.max(n.cutoutPercentage?a/100*n.cutoutPercentage:1,0),o=(a-s)/t.getVisibleDatasetCount();this.outerRadius=a-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(t,e,n,r){const a=r==="reset",s=this.chart,l=s.options.animation,u=this._cachedMeta.rScale,h=u.xCenter,c=u.yCenter,f=u.getIndexAngle(0)-.5*yt;let d=f,p;const g=360/this.countVisibleElements();for(p=0;p<e;++p)d+=this._computeAngle(p,r,g);for(p=e;p<e+n;p++){const v=t[p];let m=d,_=d+this._computeAngle(p,r,g),y=s.getDataVisibility(p)?u.getDistanceFromCenterForValue(this.getParsed(p).r):0;d=_,a&&(l.animateScale&&(y=0),l.animateRotate&&(m=_=f));const b={x:h,y:c,innerRadius:0,outerRadius:y,startAngle:m,endAngle:_,options:this.resolveDataElementOptions(p,v.active?"active":r)};this.updateElement(v,p,b,r)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((n,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&e++}),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?He(this.resolveDataElementOptions(t,e).angle||n):0}}B(Oa,"id","polarArea"),B(Oa,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),B(Oa,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:r}}=t.legend.options;return e.labels.map((a,s)=>{const l=t.getDatasetMeta(0).controller.getStyle(s);return{text:a,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Ih extends On{}B(Ih,"id","pie"),B(Ih,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Po extends We{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,r){return n_.bind(this)(t,e,n,r)}update(t){const e=this._cachedMeta,n=e.dataset,r=e.data||[],a=e.iScale.getLabels();if(n.points=r,t!=="resize"){const s=this.resolveDatasetElementOptions(t);this.options.showLine||(s.borderWidth=0);const o={_loop:!0,_fullLoop:a.length===r.length,options:s};this.updateElement(n,void 0,o,t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,n,r){const a=this._cachedMeta.rScale,s=r==="reset";for(let o=e;o<e+n;o++){const l=t[o],u=this.resolveDataElementOptions(o,l.active?"active":r),h=a.getPointPositionForValue(o,this.getParsed(o).r),c=s?a.xCenter:h.x,f=s?a.yCenter:h.y,d={x:c,y:f,angle:h.angle,skip:isNaN(c)||isNaN(f),options:u};this.updateElement(l,o,d,r)}}}B(Po,"id","radar"),B(Po,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),B(Po,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Lo extends We{getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:a}=e,s=this.getParsed(t),o=r.getLabelForValue(s.x),l=a.getLabelForValue(s.y);return{label:n[t]||"",value:"("+o+", "+l+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,r=this.chart._animationsDisabled;let{start:a,count:s}=jm(e,n,r);if(this._drawStart=a,this._drawCount=s,qm(e)&&(a=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:o,_dataset:l}=e;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!l._decimated,o.points=n;const u=this.resolveDatasetElementOptions(t);u.segment=this.options.segment,this.updateElement(o,void 0,{animated:!r,options:u},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(n,a,s,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,r){const a=r==="reset",{iScale:s,vScale:o,_stacked:l,_dataset:u}=this._cachedMeta,h=this.resolveDataElementOptions(e,r),c=this.getSharedOptions(h),f=this.includeOptions(r,c),d=s.axis,p=o.axis,{spanGaps:g,segment:v}=this.options,m=Ar(g)?g:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||a||r==="none";let y=e>0&&this.getParsed(e-1);for(let b=e;b<e+n;++b){const w=t[b],x=this.getParsed(b),S=_?w:{},T=at(x[p]),C=S[d]=s.getPixelForValue(x[d],b),M=S[p]=a||T?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,x,l):x[p],b);S.skip=isNaN(C)||isNaN(M)||T,S.stop=b>0&&Math.abs(x[d]-y[d])>m,v&&(S.parsed=x,S.raw=u.data[b]),f&&(S.options=c||this.resolveDataElementOptions(b,w.active?"active":r)),_||this.updateElement(w,b,S,r),y=x}this.updateSharedOptions(c,r,h)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let o=0;for(let l=e.length-1;l>=0;--l)o=Math.max(o,e[l].size(this.resolveDataElementOptions(l))/2);return o>0&&o}const n=t.dataset,r=n.options&&n.options.borderWidth||0;if(!e.length)return r;const a=e[0].size(this.resolveDataElementOptions(0)),s=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,a,s)/2}}B(Lo,"id","scatter"),B(Lo,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),B(Lo,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var pw=Object.freeze({__proto__:null,BarController:Mo,BubbleController:Do,DoughnutController:On,LineController:Ao,PieController:Ih,PolarAreaController:Oa,RadarController:Po,ScatterController:Lo});function on(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class rf{constructor(t){B(this,"options");this.options=t||{}}static override(t){Object.assign(rf.prototype,t)}init(){}formats(){return on()}parse(){return on()}format(){return on()}add(){return on()}diff(){return on()}startOf(){return on()}endOf(){return on()}}var vw={_date:rf};function gw(i,t,e,n){const{controller:r,data:a,_sorted:s}=i,o=r._cachedMeta.iScale;if(o&&t===o.axis&&t!=="r"&&s&&a.length){const l=o._reversePixels?Nx:wi;if(n){if(r._sharedOptions){const u=a[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const c=l(a,t,e-h),f=l(a,t,e+h);return{lo:c.lo,hi:f.hi}}}}else return l(a,t,e)}return{lo:0,hi:a.length-1}}function ms(i,t,e,n,r){const a=i.getSortedVisibleDatasetMetas(),s=e[t];for(let o=0,l=a.length;o<l;++o){const{index:u,data:h}=a[o],{lo:c,hi:f}=gw(a[o],t,s,r);for(let d=c;d<=f;++d){const p=h[d];p.skip||n(p,u,d)}}}function mw(i){const t=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(n,r){const a=t?Math.abs(n.x-r.x):0,s=e?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))}}function lu(i,t,e,n,r){const a=[];return!r&&!i.isPointInArea(t)||ms(i,e,t,function(o,l,u){!r&&!Si(o,i.chartArea,0)||o.inRange(t.x,t.y,n)&&a.push({element:o,datasetIndex:l,index:u})},!0),a}function _w(i,t,e,n){let r=[];function a(s,o,l){const{startAngle:u,endAngle:h}=s.getProps(["startAngle","endAngle"],n),{angle:c}=Um(s,{x:t.x,y:t.y});Qa(c,u,h)&&r.push({element:s,datasetIndex:o,index:l})}return ms(i,e,t,a),r}function yw(i,t,e,n,r,a){let s=[];const o=mw(e);let l=Number.POSITIVE_INFINITY;function u(h,c,f){const d=h.inRange(t.x,t.y,r);if(n&&!d)return;const p=h.getCenterPoint(r);if(!(!!a||i.isPointInArea(p))&&!d)return;const v=o(t,p);v<l?(s=[{element:h,datasetIndex:c,index:f}],l=v):v===l&&s.push({element:h,datasetIndex:c,index:f})}return ms(i,e,t,u),s}function uu(i,t,e,n,r,a){return!a&&!i.isPointInArea(t)?[]:e==="r"&&!n?_w(i,t,e,r):yw(i,t,e,n,r,a)}function zd(i,t,e,n,r){const a=[],s=e==="x"?"inXRange":"inYRange";let o=!1;return ms(i,e,t,(l,u,h)=>{l[s]&&l[s](t[e],r)&&(a.push({element:l,datasetIndex:u,index:h}),o=o||l.inRange(t.x,t.y,r))}),n&&!o?[]:a}var bw={evaluateInteractionItems:ms,modes:{index(i,t,e,n){const r=Ln(t,i),a=e.axis||"x",s=e.includeInvisible||!1,o=e.intersect?lu(i,r,a,n,s):uu(i,r,a,!1,n,s),l=[];return o.length?(i.getSortedVisibleDatasetMetas().forEach(u=>{const h=o[0].index,c=u.data[h];c&&!c.skip&&l.push({element:c,datasetIndex:u.index,index:h})}),l):[]},dataset(i,t,e,n){const r=Ln(t,i),a=e.axis||"xy",s=e.includeInvisible||!1;let o=e.intersect?lu(i,r,a,n,s):uu(i,r,a,!1,n,s);if(o.length>0){const l=o[0].datasetIndex,u=i.getDatasetMeta(l).data;o=[];for(let h=0;h<u.length;++h)o.push({element:u[h],datasetIndex:l,index:h})}return o},point(i,t,e,n){const r=Ln(t,i),a=e.axis||"xy",s=e.includeInvisible||!1;return lu(i,r,a,n,s)},nearest(i,t,e,n){const r=Ln(t,i),a=e.axis||"xy",s=e.includeInvisible||!1;return uu(i,r,a,e.intersect,n,s)},x(i,t,e,n){const r=Ln(t,i);return zd(i,r,"x",e.intersect,n)},y(i,t,e,n){const r=Ln(t,i);return zd(i,r,"y",e.intersect,n)}}};const d_=["left","top","right","bottom"];function Xr(i,t){return i.filter(e=>e.pos===t)}function Nd(i,t){return i.filter(e=>d_.indexOf(e.pos)===-1&&e.box.axis===t)}function $r(i,t){return i.sort((e,n)=>{const r=t?n:e,a=t?e:n;return r.weight===a.weight?r.index-a.index:r.weight-a.weight})}function xw(i){const t=[];let e,n,r,a,s,o;for(e=0,n=(i||[]).length;e<n;++e)r=i[e],{position:a,options:{stack:s,stackWeight:o=1}}=r,t.push({index:e,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&a+s,stackWeight:o});return t}function ww(i){const t={};for(const e of i){const{stack:n,pos:r,stackWeight:a}=e;if(!n||!d_.includes(r))continue;const s=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=a}return t}function Sw(i,t){const e=ww(i),{vBoxMaxWidth:n,hBoxMaxHeight:r}=t;let a,s,o;for(a=0,s=i.length;a<s;++a){o=i[a];const{fullSize:l}=o.box,u=e[o.stack],h=u&&o.stackWeight/u.weight;o.horizontal?(o.width=h?h*n:l&&t.availableWidth,o.height=r):(o.width=n,o.height=h?h*r:l&&t.availableHeight)}return e}function Tw(i){const t=xw(i),e=$r(t.filter(u=>u.box.fullSize),!0),n=$r(Xr(t,"left"),!0),r=$r(Xr(t,"right")),a=$r(Xr(t,"top"),!0),s=$r(Xr(t,"bottom")),o=Nd(t,"x"),l=Nd(t,"y");return{fullSize:e,leftAndTop:n.concat(a),rightAndBottom:r.concat(l).concat(s).concat(o),chartArea:Xr(t,"chartArea"),vertical:n.concat(r).concat(l),horizontal:a.concat(s).concat(o)}}function Vd(i,t,e,n){return Math.max(i[e],t[e])+Math.max(i[n],t[n])}function p_(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function Cw(i,t,e,n){const{pos:r,box:a}=e,s=i.maxPadding;if(!tt(r)){e.size&&(i[r]-=e.size);const c=n[e.stack]||{size:0,count:1};c.size=Math.max(c.size,e.horizontal?a.height:a.width),e.size=c.size/c.count,i[r]+=e.size}a.getPadding&&p_(s,a.getPadding());const o=Math.max(0,t.outerWidth-Vd(s,i,"left","right")),l=Math.max(0,t.outerHeight-Vd(s,i,"top","bottom")),u=o!==i.w,h=l!==i.h;return i.w=o,i.h=l,e.horizontal?{same:u,other:h}:{same:h,other:u}}function Mw(i){const t=i.maxPadding;function e(n){const r=Math.max(t[n]-i[n],0);return i[n]+=r,r}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function Dw(i,t){const e=t.maxPadding;function n(r){const a={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{a[s]=Math.max(t[s],e[s])}),a}return n(i?["left","right"]:["top","bottom"])}function ba(i,t,e,n){const r=[];let a,s,o,l,u,h;for(a=0,s=i.length,u=0;a<s;++a){o=i[a],l=o.box,l.update(o.width||t.w,o.height||t.h,Dw(o.horizontal,t));const{same:c,other:f}=Cw(t,e,o,n);u|=c&&r.length,h=h||f,l.fullSize||r.push(o)}return u&&ba(r,t,e,n)||h}function Os(i,t,e,n,r){i.top=e,i.left=t,i.right=t+n,i.bottom=e+r,i.width=n,i.height=r}function Hd(i,t,e,n){const r=e.padding;let{x:a,y:s}=t;for(const o of i){const l=o.box,u=n[o.stack]||{count:1,placed:0,weight:1},h=o.stackWeight/u.weight||1;if(o.horizontal){const c=t.w*h,f=u.size||l.height;Ka(u.start)&&(s=u.start),l.fullSize?Os(l,r.left,s,e.outerWidth-r.right-r.left,f):Os(l,t.left+u.placed,s,c,f),u.start=s,u.placed+=c,s=l.bottom}else{const c=t.h*h,f=u.size||l.width;Ka(u.start)&&(a=u.start),l.fullSize?Os(l,a,r.top,f,e.outerHeight-r.bottom-r.top):Os(l,a,t.top+u.placed,f,c),u.start=a,u.placed+=c,a=l.right}}t.x=a,t.y=s}var Kt={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){const e=i.boxes?i.boxes.indexOf(t):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,n){if(!i)return;const r=Qt(i.options.layout.padding),a=Math.max(t-r.width,0),s=Math.max(e-r.height,0),o=Tw(i.boxes),l=o.vertical,u=o.horizontal;lt(i.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const h=l.reduce((g,v)=>v.box.options&&v.box.options.display===!1?g:g+1,0)||1,c=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:a,availableHeight:s,vBoxMaxWidth:a/2/h,hBoxMaxHeight:s/2}),f=Object.assign({},r);p_(f,Qt(n));const d=Object.assign({maxPadding:f,w:a,h:s,x:r.left,y:r.top},r),p=Sw(l.concat(u),c);ba(o.fullSize,d,c,p),ba(l,d,c,p),ba(u,d,c,p)&&ba(l,d,c,p),Mw(d),Hd(o.leftAndTop,d,c,p),d.x+=d.w,d.y+=d.h,Hd(o.rightAndBottom,d,c,p),i.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},lt(o.chartArea,g=>{const v=g.box;Object.assign(v,i.chartArea),v.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class v_{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}isAttached(t){return!0}updateConfig(t){}}class Aw extends v_{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const ko="$chartjs",Pw={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Wd=i=>i===null||i==="";function Lw(i,t){const e=i.style,n=i.getAttribute("height"),r=i.getAttribute("width");if(i[ko]={initial:{height:n,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Wd(r)){const a=Cd(i,"width");a!==void 0&&(i.width=a)}if(Wd(n))if(i.style.height==="")i.height=i.width/(t||2);else{const a=Cd(i,"height");a!==void 0&&(i.height=a)}return i}const g_=I1?{passive:!0}:!1;function kw(i,t,e){i&&i.addEventListener(t,e,g_)}function Iw(i,t,e){i&&i.canvas&&i.canvas.removeEventListener(t,e,g_)}function Rw(i,t){const e=Pw[i.type]||i.type,{x:n,y:r}=Ln(i,t);return{type:e,chart:t,native:i,x:n!==void 0?n:null,y:r!==void 0?r:null}}function el(i,t){for(const e of i)if(e===t||e.contains(t))return!0}function Ow(i,t,e){const n=i.canvas,r=new MutationObserver(a=>{let s=!1;for(const o of a)s=s||el(o.addedNodes,n),s=s&&!el(o.removedNodes,n);s&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function Ew(i,t,e){const n=i.canvas,r=new MutationObserver(a=>{let s=!1;for(const o of a)s=s||el(o.removedNodes,n),s=s&&!el(o.addedNodes,n);s&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const ts=new Map;let Ud=0;function m_(){const i=window.devicePixelRatio;i!==Ud&&(Ud=i,ts.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function Fw(i,t){ts.size||window.addEventListener("resize",m_),ts.set(i,t)}function Bw(i){ts.delete(i),ts.size||window.removeEventListener("resize",m_)}function zw(i,t,e){const n=i.canvas,r=n&&nf(n);if(!r)return;const a=$m((o,l)=>{const u=r.clientWidth;e(o,l),u<r.clientWidth&&e()},window),s=new ResizeObserver(o=>{const l=o[0],u=l.contentRect.width,h=l.contentRect.height;u===0&&h===0||a(u,h)});return s.observe(r),Fw(i,a),s}function hu(i,t,e){e&&e.disconnect(),t==="resize"&&Bw(i)}function Nw(i,t,e){const n=i.canvas,r=$m(a=>{i.ctx!==null&&e(Rw(a,i))},i);return kw(n,t,r),r}class Vw extends v_{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(Lw(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[ko])return!1;const n=e[ko].initial;["height","width"].forEach(a=>{const s=n[a];at(s)?e.removeAttribute(a):e.setAttribute(a,s)});const r=n.style||{};return Object.keys(r).forEach(a=>{e.style[a]=r[a]}),e.width=e.width,delete e[ko],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),s={attach:Ow,detach:Ew,resize:zw}[e]||Nw;r[e]=s(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),r=n[e];if(!r)return;({attach:hu,detach:hu,resize:hu}[e]||Iw)(t,e,r),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,r){return k1(t,e,n,r)}isAttached(t){const e=t&&nf(t);return!!(e&&e.isConnected)}}function Hw(i){return!ef()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?Aw:Vw}var wo;let Ai=(wo=class{constructor(){B(this,"x");B(this,"y");B(this,"active",!1);B(this,"options");B(this,"$animations")}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return Ar(this.x)&&Ar(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const r={};return t.forEach(a=>{r[a]=n[a]&&n[a].active()?n[a]._to:this[a]}),r}},B(wo,"defaults",{}),B(wo,"defaultRoutes"),wo);function Ww(i,t){const e=i.options.ticks,n=Uw(i),r=Math.min(e.maxTicksLimit||n,n),a=e.major.enabled?Yw(t):[],s=a.length,o=a[0],l=a[s-1],u=[];if(s>r)return Xw(t,u,a,s/r),u;const h=Gw(a,t,r);if(s>0){let c,f;const d=s>1?Math.round((l-o)/(s-1)):null;for(Es(t,u,h,at(d)?0:o-d,o),c=0,f=s-1;c<f;c++)Es(t,u,h,a[c],a[c+1]);return Es(t,u,h,l,at(d)?t.length:l+d),u}return Es(t,u,h),u}function Uw(i){const t=i.options.offset,e=i._tickSize(),n=i._length/e+(t?0:1),r=i._maxLength/e;return Math.floor(Math.min(n,r))}function Gw(i,t,e){const n=$w(i),r=t.length/e;if(!n)return Math.max(r,1);const a=Ex(n);for(let s=0,o=a.length-1;s<o;s++){const l=a[s];if(l>r)return l}return Math.max(r,1)}function Yw(i){const t=[];let e,n;for(e=0,n=i.length;e<n;e++)i[e].major&&t.push(e);return t}function Xw(i,t,e,n){let r=0,a=e[0],s;for(n=Math.ceil(n),s=0;s<i.length;s++)s===a&&(t.push(i[s]),r++,a=e[r*n])}function Es(i,t,e,n,r){const a=Z(n,0),s=Math.min(Z(r,i.length),i.length);let o=0,l,u,h;for(e=Math.ceil(e),r&&(l=r-n,e=l/Math.floor(l/e)),h=a;h<0;)o++,h=Math.round(a+o*e);for(u=Math.max(a,0);u<s;u++)u===h&&(t.push(i[u]),o++,h=Math.round(a+o*e))}function $w(i){const t=i.length;let e,n;if(t<2)return!1;for(n=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==n)return!1;return n}const jw=i=>i==="left"?"right":i==="right"?"left":i,Gd=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e,Yd=(i,t)=>Math.min(t||i,i);function Xd(i,t){const e=[],n=i.length/t,r=i.length;let a=0;for(;a<r;a+=n)e.push(i[Math.floor(a)]);return e}function qw(i,t,e){const n=i.ticks.length,r=Math.min(t,n-1),a=i._startPixel,s=i._endPixel,o=1e-6;let l=i.getPixelForTick(r),u;if(!(e&&(n===1?u=Math.max(l-a,s-l):t===0?u=(i.getPixelForTick(1)-l)/2:u=(l-i.getPixelForTick(r-1))/2,l+=r<t?u:-u,l<a-o||l>s+o)))return l}function Zw(i,t){lt(i,e=>{const n=e.gc,r=n.length/2;let a;if(r>t){for(a=0;a<r;++a)delete e.data[n[a]];n.splice(0,r)}})}function jr(i){return i.drawTicks?i.tickLength:0}function $d(i,t){if(!i.display)return 0;const e=zt(i.font,t),n=Qt(i.padding);return(xt(i.text)?i.text.length:1)*e.lineHeight+n.height}function Kw(i,t){return rn(i,{scale:t,type:"scale"})}function Qw(i,t,e){return rn(i,{tick:e,index:t,type:"tick"})}function Jw(i,t,e){let n=qc(i);return(e&&t!=="right"||!e&&t==="right")&&(n=jw(n)),n}function tS(i,t,e,n){const{top:r,left:a,bottom:s,right:o,chart:l}=i,{chartArea:u,scales:h}=l;let c=0,f,d,p;const g=s-r,v=o-a;if(i.isHorizontal()){if(d=qt(n,a,o),tt(e)){const m=Object.keys(e)[0],_=e[m];p=h[m].getPixelForValue(_)+g-t}else e==="center"?p=(u.bottom+u.top)/2+g-t:p=Gd(i,e,t);f=o-a}else{if(tt(e)){const m=Object.keys(e)[0],_=e[m];d=h[m].getPixelForValue(_)-v+t}else e==="center"?d=(u.left+u.right)/2-v+t:d=Gd(i,e,t);p=qt(n,s,r),c=e==="left"?-kt:kt}return{titleX:d,titleY:p,maxWidth:f,rotation:c}}class jn extends Ai{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:r}=this;return t=xe(t,Number.POSITIVE_INFINITY),e=xe(e,Number.NEGATIVE_INFINITY),n=xe(n,Number.POSITIVE_INFINITY),r=xe(r,Number.NEGATIVE_INFINITY),{min:xe(t,n),max:xe(e,r),minDefined:Dt(t),maxDefined:Dt(e)}}getMinMax(t){let{min:e,max:n,minDefined:r,maxDefined:a}=this.getUserBounds(),s;if(r&&a)return{min:e,max:n};const o=this.getMatchingVisibleMetas();for(let l=0,u=o.length;l<u;++l)s=o[l].controller.getMinMax(this,t),r||(e=Math.min(e,s.min)),a||(n=Math.max(n,s.max));return e=a&&e>n?n:e,n=r&&e>n?e:n,{min:xe(e,xe(n,e)),max:xe(n,xe(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){pt(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:r,grace:a,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=u1(this,a,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?Xd(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=Ww(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,n;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,t=!t),this._startPixel=e,this._endPixel=n,this._reversePixels=t,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){pt(this.options.afterUpdate,[this])}beforeSetDimensions(){pt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){pt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),pt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){pt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,r,a;for(n=0,r=t.length;n<r;n++)a=t[n],a.label=pt(e.callback,[a.value,n,t],this)}afterTickToLabelConversion(){pt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){pt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=Yd(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,a=e.maxRotation;let s=r,o,l,u;if(!this._isVisible()||!e.display||r>=a||n<=1||!this.isHorizontal()){this.labelRotation=r;return}const h=this._getLabelSizes(),c=h.widest.width,f=h.highest.height,d=Wt(this.chart.width-c,0,this.maxWidth);o=t.offset?this.maxWidth/n:d/(n-1),c+6>o&&(o=d/(n-(t.offset?.5:1)),l=this.maxHeight-jr(t.grid)-e.padding-$d(t.title,this.chart.options.font),u=Math.sqrt(c*c+f*f),s=$c(Math.min(Math.asin(Wt((h.highest.height+6)/o,-1,1)),Math.asin(Wt(l/u,-1,1))-Math.asin(Wt(f/u,-1,1)))),s=Math.max(r,Math.min(a,s))),this.labelRotation=s}afterCalculateLabelRotation(){pt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){pt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:r,grid:a}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const l=$d(r,e.options.font);if(o?(t.width=this.maxWidth,t.height=jr(a)+l):(t.height=this.maxHeight,t.width=jr(a)+l),n.display&&this.ticks.length){const{first:u,last:h,widest:c,highest:f}=this._getLabelSizes(),d=n.padding*2,p=He(this.labelRotation),g=Math.cos(p),v=Math.sin(p);if(o){const m=n.mirror?0:v*c.width+g*f.height;t.height=Math.min(this.maxHeight,t.height+m+d)}else{const m=n.mirror?0:g*c.width+v*f.height;t.width=Math.min(this.maxWidth,t.width+m+d)}this._calculatePadding(u,h,v,g)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,r){const{ticks:{align:a,padding:s},position:o}=this.options,l=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,d=0;l?u?(f=r*t.width,d=n*e.height):(f=n*t.height,d=r*e.width):a==="start"?d=e.width:a==="end"?f=t.width:a!=="inner"&&(f=t.width/2,d=e.width/2),this.paddingLeft=Math.max((f-h+s)*this.width/(this.width-h),0),this.paddingRight=Math.max((d-c+s)*this.width/(this.width-c),0)}else{let h=e.height/2,c=t.height/2;a==="start"?(h=0,c=t.height):a==="end"&&(h=e.height,c=0),this.paddingTop=h+s,this.paddingBottom=c+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){pt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,n;for(e=0,n=t.length;e<n;e++)at(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=Xd(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:r,_longestTextCache:a}=this,s=[],o=[],l=Math.floor(e/Yd(e,n));let u=0,h=0,c,f,d,p,g,v,m,_,y,b,w;for(c=0;c<e;c+=l){if(p=t[c].label,g=this._resolveTickFontOptions(c),r.font=v=g.string,m=a[v]=a[v]||{data:{},gc:[]},_=g.lineHeight,y=b=0,!at(p)&&!xt(p))y=Jo(r,m.data,m.gc,y,p),b=_;else if(xt(p))for(f=0,d=p.length;f<d;++f)w=p[f],!at(w)&&!xt(w)&&(y=Jo(r,m.data,m.gc,y,w),b+=_);s.push(y),o.push(b),u=Math.max(y,u),h=Math.max(b,h)}Zw(a,e);const x=s.indexOf(u),S=o.indexOf(h),T=C=>({width:s[C]||0,height:o[C]||0});return{first:T(0),last:T(e-1),widest:T(x),highest:T(S),widths:s,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return zx(this._alignToPixels?sn(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=Qw(this.getContext(),t,n))}return this.$context||(this.$context=Kw(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=He(this.labelRotation),n=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),a=this._getLabelSizes(),s=t.autoSkipPadding||0,o=a?a.widest.width+s:0,l=a?a.highest.height+s:0;return this.isHorizontal()?l*n>o*r?o/n:l/r:l*r<o*n?l/n:o/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,r=this.options,{grid:a,position:s,border:o}=r,l=a.offset,u=this.isHorizontal(),c=this.ticks.length+(l?1:0),f=jr(a),d=[],p=o.setContext(this.getContext()),g=p.display?p.width:0,v=g/2,m=function(R){return sn(n,R,g)};let _,y,b,w,x,S,T,C,M,D,P,k;if(s==="top")_=m(this.bottom),S=this.bottom-f,C=_-v,D=m(t.top)+v,k=t.bottom;else if(s==="bottom")_=m(this.top),D=t.top,k=m(t.bottom)-v,S=_+v,C=this.top+f;else if(s==="left")_=m(this.right),x=this.right-f,T=_-v,M=m(t.left)+v,P=t.right;else if(s==="right")_=m(this.left),M=t.left,P=m(t.right)-v,x=_+v,T=this.left+f;else if(e==="x"){if(s==="center")_=m((t.top+t.bottom)/2+.5);else if(tt(s)){const R=Object.keys(s)[0],V=s[R];_=m(this.chart.scales[R].getPixelForValue(V))}D=t.top,k=t.bottom,S=_+v,C=S+f}else if(e==="y"){if(s==="center")_=m((t.left+t.right)/2);else if(tt(s)){const R=Object.keys(s)[0],V=s[R];_=m(this.chart.scales[R].getPixelForValue(V))}x=_-v,T=x-f,M=t.left,P=t.right}const L=Z(r.ticks.maxTicksLimit,c),I=Math.max(1,Math.ceil(c/L));for(y=0;y<c;y+=I){const R=this.getContext(y),V=a.setContext(R),W=o.setContext(R),N=V.lineWidth,j=V.color,K=W.dash||[],U=W.dashOffset,ft=V.tickWidth,dt=V.tickColor,Et=V.tickBorderDash||[],Vt=V.tickBorderDashOffset;b=qw(this,y,l),b!==void 0&&(w=sn(n,b,N),u?x=T=M=P=w:S=C=D=k=w,d.push({tx1:x,ty1:S,tx2:T,ty2:C,x1:M,y1:D,x2:P,y2:k,width:N,color:j,borderDash:K,borderDashOffset:U,tickWidth:ft,tickColor:dt,tickBorderDash:Et,tickBorderDashOffset:Vt}))}return this._ticksLength=c,this._borderValue=_,d}_computeLabelItems(t){const e=this.axis,n=this.options,{position:r,ticks:a}=n,s=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:u,padding:h,mirror:c}=a,f=jr(n.grid),d=f+h,p=c?-h:d,g=-He(this.labelRotation),v=[];let m,_,y,b,w,x,S,T,C,M,D,P,k="middle";if(r==="top")x=this.bottom-p,S=this._getXAxisLabelAlignment();else if(r==="bottom")x=this.top+p,S=this._getXAxisLabelAlignment();else if(r==="left"){const I=this._getYAxisLabelAlignment(f);S=I.textAlign,w=I.x}else if(r==="right"){const I=this._getYAxisLabelAlignment(f);S=I.textAlign,w=I.x}else if(e==="x"){if(r==="center")x=(t.top+t.bottom)/2+d;else if(tt(r)){const I=Object.keys(r)[0],R=r[I];x=this.chart.scales[I].getPixelForValue(R)+d}S=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")w=(t.left+t.right)/2-d;else if(tt(r)){const I=Object.keys(r)[0],R=r[I];w=this.chart.scales[I].getPixelForValue(R)}S=this._getYAxisLabelAlignment(f).textAlign}e==="y"&&(l==="start"?k="top":l==="end"&&(k="bottom"));const L=this._getLabelSizes();for(m=0,_=o.length;m<_;++m){y=o[m],b=y.label;const I=a.setContext(this.getContext(m));T=this.getPixelForTick(m)+a.labelOffset,C=this._resolveTickFontOptions(m),M=C.lineHeight,D=xt(b)?b.length:1;const R=D/2,V=I.color,W=I.textStrokeColor,N=I.textStrokeWidth;let j=S;s?(w=T,S==="inner"&&(m===_-1?j=this.options.reverse?"left":"right":m===0?j=this.options.reverse?"right":"left":j="center"),r==="top"?u==="near"||g!==0?P=-D*M+M/2:u==="center"?P=-L.highest.height/2-R*M+M:P=-L.highest.height+M/2:u==="near"||g!==0?P=M/2:u==="center"?P=L.highest.height/2-R*M:P=L.highest.height-D*M,c&&(P*=-1),g!==0&&!I.showLabelBackdrop&&(w+=M/2*Math.sin(g))):(x=T,P=(1-D)*M/2);let K;if(I.showLabelBackdrop){const U=Qt(I.backdropPadding),ft=L.heights[m],dt=L.widths[m];let Et=P-U.top,Vt=0-U.left;switch(k){case"middle":Et-=ft/2;break;case"bottom":Et-=ft;break}switch(S){case"center":Vt-=dt/2;break;case"right":Vt-=dt;break;case"inner":m===_-1?Vt-=dt:m>0&&(Vt-=dt/2);break}K={left:Vt,top:Et,width:dt+U.width,height:ft+U.height,color:I.backdropColor}}v.push({label:b,font:C,textOffset:P,options:{rotation:g,color:V,strokeColor:W,strokeWidth:N,textAlign:j,textBaseline:k,translation:[w,x],backdrop:K}})}return v}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-He(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:r,padding:a}}=this.options,s=this._getLabelSizes(),o=t+a,l=s.widest.width;let u,h;return e==="left"?r?(h=this.right+a,n==="near"?u="left":n==="center"?(u="center",h+=l/2):(u="right",h+=l)):(h=this.right-o,n==="near"?u="right":n==="center"?(u="center",h-=l/2):(u="left",h=this.left)):e==="right"?r?(h=this.left+a,n==="near"?u="right":n==="center"?(u="center",h-=l/2):(u="left",h-=l)):(h=this.left+o,n==="near"?u="left":n==="center"?(u="center",h+=l/2):(u="right",h=this.right)):u="right",{textAlign:u,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:r,width:a,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,a,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(a=>a.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let a,s;const o=(l,u,h)=>{!h.width||!h.color||(n.save(),n.lineWidth=h.width,n.strokeStyle=h.color,n.setLineDash(h.borderDash||[]),n.lineDashOffset=h.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(e.display)for(a=0,s=r.length;a<s;++a){const l=r[a];e.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:r}}=this,a=n.setContext(this.getContext()),s=n.display?a.width:0;if(!s)return;const o=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,h,c,f;this.isHorizontal()?(u=sn(t,this.left,s)-s/2,h=sn(t,this.right,o)+o/2,c=f=l):(c=sn(t,this.top,s)-s/2,f=sn(t,this.bottom,o)+o/2,u=h=l),e.save(),e.lineWidth=a.width,e.strokeStyle=a.color,e.beginPath(),e.moveTo(u,c),e.lineTo(h,f),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&Pl(n,r);const a=this.getLabelItems(t);for(const s of a){const o=s.options,l=s.font,u=s.label,h=s.textOffset;Yn(n,u,0,h,l,o)}r&&Ll(n)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:r}}=this;if(!n.display)return;const a=zt(n.font),s=Qt(n.padding),o=n.align;let l=a.lineHeight/2;e==="bottom"||e==="center"||tt(e)?(l+=s.bottom,xt(n.text)&&(l+=a.lineHeight*(n.text.length-1))):l+=s.top;const{titleX:u,titleY:h,maxWidth:c,rotation:f}=tS(this,l,e,o);Yn(t,n.text,0,0,a,{color:n.color,maxWidth:c,rotation:f,textAlign:Jw(o,e,r),textBaseline:"middle",translation:[u,h]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=Z(t.grid&&t.grid.z,-1),r=Z(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==jn.prototype.draw?[{z:e,draw:a=>{this.draw(a)}}]:[{z:n,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let a,s;for(a=0,s=e.length;a<s;++a){const o=e[a];o[n]===this.id&&(!t||o.type===t)&&r.push(o)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return zt(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Fs{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;nS(e)&&(n=this.register(e));const r=this.items,a=t.id,s=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+t);return a in r||(r[a]=t,eS(t,s,n),this.override&&wt.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in wt[r]&&(delete wt[r][n],this.override&&delete Gn[n])}}function eS(i,t,e){const n=Za(Object.create(null),[e?wt.get(e):{},wt.get(t),i.defaults]);wt.set(t,n),i.defaultRoutes&&iS(t,i.defaultRoutes),i.descriptors&&wt.describe(t,i.descriptors)}function iS(i,t){Object.keys(t).forEach(e=>{const n=e.split("."),r=n.pop(),a=[i].concat(n).join("."),s=t[e].split("."),o=s.pop(),l=s.join(".");wt.route(a,r,l,o)})}function nS(i){return"id"in i&&"defaults"in i}class rS{constructor(){this.controllers=new Fs(We,"datasets",!0),this.elements=new Fs(Ai,"elements"),this.plugins=new Fs(Object,"plugins"),this.scales=new Fs(jn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,n){[...e].forEach(r=>{const a=n||this._getRegistryForType(r);n||a.isForType(r)||a===this.plugins&&r.id?this._exec(t,a,r):lt(r,s=>{const o=n||this._getRegistryForType(s);this._exec(t,o,s)})})}_exec(t,e,n){const r=Xc(t);pt(n["before"+r],[],n),e[t](n),pt(n["after"+r],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return r}}var Qe=new rS;class aS{constructor(){this._init=[]}notify(t,e,n,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const a=r?this._descriptors(t).filter(r):this._descriptors(t),s=this._notify(a,t,e,n);return e==="afterDestroy"&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,n,r){r=r||{};for(const a of t){const s=a.plugin,o=s[n],l=[e,r,a.options];if(pt(o,l,s)===!1&&r.cancelable)return!1}return!0}invalidate(){at(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,r=Z(n.options&&n.options.plugins,{}),a=sS(n);return r===!1&&!e?[]:lS(t,a,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,r=(a,s)=>a.filter(o=>!s.some(l=>o.plugin.id===l.plugin.id));this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}}function sS(i){const t={},e=[],n=Object.keys(Qe.plugins.items);for(let a=0;a<n.length;a++)e.push(Qe.getPlugin(n[a]));const r=i.plugins||[];for(let a=0;a<r.length;a++){const s=r[a];e.indexOf(s)===-1&&(e.push(s),t[s.id]=!0)}return{plugins:e,localIds:t}}function oS(i,t){return!t&&i===!1?null:i===!0?{}:i}function lS(i,{plugins:t,localIds:e},n,r){const a=[],s=i.getContext();for(const o of t){const l=o.id,u=oS(n[l],r);u!==null&&a.push({plugin:o,options:uS(i.config,{plugin:o,local:e[l]},u,s)})}return a}function uS(i,{plugin:t,local:e},n,r){const a=i.pluginScopeKeys(t),s=i.getOptionScopes(n,a);return e&&t.defaults&&s.push(t.defaults),i.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Rh(i,t){const e=wt.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function hS(i,t){let e=i;return i==="_index_"?e=t:i==="_value_"&&(e=t==="x"?"y":"x"),e}function cS(i,t){return i===t?"_index_":"_value_"}function jd(i){if(i==="x"||i==="y"||i==="r")return i}function fS(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function Oh(i,...t){if(jd(i))return i;for(const e of t){const n=e.axis||fS(e.position)||i.length>1&&jd(i[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function qd(i,t,e){if(e[t+"AxisID"]===i)return{axis:t}}function dS(i,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(n=>n.xAxisID===i||n.yAxisID===i);if(e.length)return qd(i,"x",e[0])||qd(i,"y",e[0])}return{}}function pS(i,t){const e=Gn[i.type]||{scales:{}},n=t.scales||{},r=Rh(i.type,t),a=Object.create(null);return Object.keys(n).forEach(s=>{const o=n[s];if(!tt(o))return console.error(`Invalid scale configuration for scale: ${s}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);const l=Oh(s,o,dS(s,i),wt.scales[o.type]),u=cS(l,r),h=e.scales||{};a[s]=La(Object.create(null),[{axis:l},o,h[l],h[u]])}),i.data.datasets.forEach(s=>{const o=s.type||i.type,l=s.indexAxis||Rh(o,t),h=(Gn[o]||{}).scales||{};Object.keys(h).forEach(c=>{const f=hS(c,l),d=s[f+"AxisID"]||f;a[d]=a[d]||Object.create(null),La(a[d],[{axis:f},n[d],h[c]])})}),Object.keys(a).forEach(s=>{const o=a[s];La(o,[wt.scales[o.type],wt.scale])}),a}function __(i){const t=i.options||(i.options={});t.plugins=Z(t.plugins,{}),t.scales=pS(i,t)}function y_(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function vS(i){return i=i||{},i.data=y_(i.data),__(i),i}const Zd=new Map,b_=new Set;function Bs(i,t){let e=Zd.get(i);return e||(e=t(),Zd.set(i,e),b_.add(e)),e}const qr=(i,t,e)=>{const n=Ji(t,e);n!==void 0&&i.add(n)};class gS{constructor(t){this._config=vS(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=y_(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),__(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Bs(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Bs(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Bs(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,n=this.type;return Bs(`${n}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const n=this._scopeCache;let r=n.get(t);return(!r||e)&&(r=new Map,n.set(t,r)),r}getOptionScopes(t,e,n){const{options:r,type:a}=this,s=this._cachedScopes(t,n),o=s.get(e);if(o)return o;const l=new Set;e.forEach(h=>{t&&(l.add(t),h.forEach(c=>qr(l,t,c))),h.forEach(c=>qr(l,r,c)),h.forEach(c=>qr(l,Gn[a]||{},c)),h.forEach(c=>qr(l,wt,c)),h.forEach(c=>qr(l,Lh,c))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),b_.has(e)&&s.set(e,u),u}chartOptionScopes(){const{options:t,type:e}=this;return[t,Gn[e]||{},wt.datasets[e]||{},{type:e},wt,Lh]}resolveNamedOptions(t,e,n,r=[""]){const a={$shared:!0},{resolver:s,subPrefixes:o}=Kd(this._resolverCache,t,r);let l=s;if(_S(s,e)){a.$shared=!1,n=tn(n)?n():n;const u=this.createResolver(t,n,o);l=Pr(s,n,u)}for(const u of e)a[u]=l[u];return a}createResolver(t,e,n=[""],r){const{resolver:a}=Kd(this._resolverCache,t,n);return tt(e)?Pr(a,e,void 0,r):a}}function Kd(i,t,e){let n=i.get(t);n||(n=new Map,i.set(t,n));const r=e.join();let a=n.get(r);return a||(a={resolver:Qc(t,e),subPrefixes:e.filter(o=>!o.toLowerCase().includes("hover"))},n.set(r,a)),a}const mS=i=>tt(i)&&Object.getOwnPropertyNames(i).some(t=>tn(i[t]));function _S(i,t){const{isScriptable:e,isIndexable:n}=Jm(i);for(const r of t){const a=e(r),s=n(r),o=(s||a)&&i[r];if(a&&(tn(o)||mS(o))||s&&xt(o))return!0}return!1}var yS="4.4.7";const bS=["top","bottom","left","right","chartArea"];function Qd(i,t){return i==="top"||i==="bottom"||bS.indexOf(i)===-1&&t==="x"}function Jd(i,t){return function(e,n){return e[i]===n[i]?e[t]-n[t]:e[i]-n[i]}}function tp(i){const t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),pt(e&&e.onComplete,[i],t)}function xS(i){const t=i.chart,e=t.options.animation;pt(e&&e.onProgress,[i],t)}function x_(i){return ef()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const Io={},ep=i=>{const t=x_(i);return Object.values(Io).filter(e=>e.canvas===t).pop()};function wS(i,t,e){const n=Object.keys(i);for(const r of n){const a=+r;if(a>=t){const s=i[r];delete i[r],(e>0||a>t)&&(i[a+e]=s)}}}function SS(i,t,e,n){return!e||i.type==="mouseout"?null:n?t:i}function zs(i,t,e){return i.options.clip?i[e]:t[e]}function TS(i,t){const{xScale:e,yScale:n}=i;return e&&n?{left:zs(e,t,"left"),right:zs(e,t,"right"),top:zs(n,t,"top"),bottom:zs(n,t,"bottom")}:t}class Vi{static register(...t){Qe.add(...t),ip()}static unregister(...t){Qe.remove(...t),ip()}constructor(t,e){const n=this.config=new gS(e),r=x_(t),a=ep(r);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Hw(r)),this.platform.updateConfig(n);const o=this.platform.acquireContext(r,s.aspectRatio),l=o&&o.canvas,u=l&&l.height,h=l&&l.width;if(this.id=Mx(),this.ctx=o,this.canvas=l,this.width=h,this.height=u,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new aS,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Wx(c=>this.update(c),s.resizeDelay||0),this._dataChanges=[],Io[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}gi.listen(this,"complete",tp),gi.listen(this,"progress",xS),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:r,_aspectRatio:a}=this;return at(t)?e&&a?a:r?n/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Qe}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Td(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return xd(this.canvas,this.ctx),this}stop(){return gi.stop(this),this}resize(t,e){gi.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,r=this.canvas,a=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,t,e,a),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,Td(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),pt(n.onResize,[this,s],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};lt(e,(n,r)=>{n.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,r=Object.keys(n).reduce((s,o)=>(s[o]=!1,s),{});let a=[];e&&(a=a.concat(Object.keys(e).map(s=>{const o=e[s],l=Oh(s,o),u=l==="r",h=l==="x";return{options:o,dposition:u?"chartArea":h?"bottom":"left",dtype:u?"radialLinear":h?"category":"linear"}}))),lt(a,s=>{const o=s.options,l=o.id,u=Oh(l,o),h=Z(o.type,s.dtype);(o.position===void 0||Qd(o.position,u)!==Qd(s.dposition))&&(o.position=s.dposition),r[l]=!0;let c=null;if(l in n&&n[l].type===h)c=n[l];else{const f=Qe.getScale(h);c=new f({id:l,type:h,ctx:this.ctx,chart:this}),n[c.id]=c}c.init(o,t)}),lt(r,(s,o)=>{s||delete n[o]}),lt(n,s=>{Kt.configure(this,s,s.options),Kt.addBox(this,s)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort((r,a)=>r.index-a.index),n>e){for(let r=e;r<n;++r)this._destroyDatasetMeta(r);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(Jd("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((n,r)=>{e.filter(a=>a===n._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=e.length;n<r;n++){const a=e[n];let s=this.getDatasetMeta(n);const o=a.type||this.config.type;if(s.type&&s.type!==o&&(this._destroyDatasetMeta(n),s=this.getDatasetMeta(n)),s.type=o,s.indexAxis=a.indexAxis||Rh(o,this.options),s.order=a.order||0,s.index=n,s.label=""+a.label,s.visible=this.isDatasetVisible(n),s.controller)s.controller.updateIndex(n),s.controller.linkScales();else{const l=Qe.getController(o),{datasetElementType:u,dataElementType:h}=wt.datasets[o];Object.assign(l,{dataElementType:Qe.getElement(h),datasetElementType:u&&Qe.getElement(u)}),s.controller=new l(this,n),t.push(s.controller)}}return this._updateMetasets(),t}_resetElements(){lt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let u=0,h=this.data.datasets.length;u<h;u++){const{controller:c}=this.getDatasetMeta(u),f=!r&&a.indexOf(c)===-1;c.buildOrUpdateElements(f),s=Math.max(+c.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),r||lt(a,u=>{u.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Jd("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){lt(this.scales,t=>{Kt.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!fd(e,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:a}of e){const s=n==="_removeElements"?-a:a;wS(t,r,s)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=a=>new Set(t.filter(s=>s[0]===a).map((s,o)=>o+","+s.splice(1).join(","))),r=n(0);for(let a=1;a<e;a++)if(!fd(r,n(a)))return;return Array.from(r).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Kt.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],lt(this.boxes,r=>{n&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,a)=>{r._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,n=this.data.datasets.length;e<n;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,tn(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),r={meta:n,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(n.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(gi.has(this)?this.attached&&!gi.running(this)&&gi.start(this):(this.draw(),tp({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let r,a;for(r=0,a=e.length;r<a;++r){const s=e[r];(!t||s.visible)&&n.push(s)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,r=!n.disabled,a=TS(t,this.chartArea),s={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(r&&Pl(e,{left:n.left===!1?0:a.left-n.left,right:n.right===!1?this.width:a.right+n.right,top:n.top===!1?0:a.top-n.top,bottom:n.bottom===!1?this.height:a.bottom+n.bottom}),t.controller.draw(),r&&Ll(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return Si(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,r){const a=bw.modes[e];return typeof a=="function"?a(this,t,n,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let r=n.filter(a=>a&&a._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=rn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!e.hidden}setDatasetVisibility(t,e){const n=this.getDatasetMeta(t);n.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const r=n?"show":"hide",a=this.getDatasetMeta(t),s=a.controller._resolveAnimations(void 0,r);Ka(e)?(a.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),s.update(a,{visible:n}),this.update(o=>o.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),gi.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),xd(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Io[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(a,s)=>{e.addEventListener(this,a,s),t[a]=s},r=(a,s,o)=>{a.offsetX=s,a.offsetY=o,this._eventHandler(a)};lt(this.options.events,a=>n(a,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(l,u)=>{e.addEventListener(this,l,u),t[l]=u},r=(l,u)=>{t[l]&&(e.removeEventListener(this,l,u),delete t[l])},a=(l,u)=>{this.canvas&&this.resize(l,u)};let s;const o=()=>{r("attach",o),this.attached=!0,this.resize(),n("resize",a),n("detach",s)};s=()=>{this.attached=!1,r("resize",a),this._stop(),this._resize(0,0),n("attach",o)},e.isAttached(this.canvas)?o():s()}unbindEvents(){lt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},lt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const r=n?"set":"remove";let a,s,o,l;for(e==="dataset"&&(a=this.getDatasetMeta(t[0].datasetIndex),a.controller["_"+r+"DatasetHoverStyle"]()),o=0,l=t.length;o<l;++o){s=t[o];const u=s&&this.getDatasetMeta(s.datasetIndex).controller;u&&u[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map(({datasetIndex:a,index:s})=>{const o=this.getDatasetMeta(a);if(!o)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:o.data[s],index:s}});!Zo(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,n){const r=this.options.hover,a=(l,u)=>l.filter(h=>!u.some(c=>h.datasetIndex===c.datasetIndex&&h.index===c.index)),s=a(e,t),o=n?t:a(t,e);s.length&&this.updateHoverStyle(s,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=s=>(s.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,r)===!1)return;const a=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(a||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:r=[],options:a}=this,s=e,o=this._getActiveElements(t,r,n,s),l=Ix(t),u=SS(t,this._lastEvent,n,l);n&&(this._lastEvent=null,pt(a.onHover,[t,o,this],this),l&&pt(a.onClick,[t,o,this],this));const h=!Zo(o,r);return(h||e)&&(this._active=o,this._updateHoverStyles(o,r,e)),this._lastEvent=u,h}_getActiveElements(t,e,n,r){if(t.type==="mouseout")return[];if(!n)return e;const a=this.options.hover;return this.getElementsAtEventForMode(t,a.mode,a,r)}}B(Vi,"defaults",wt),B(Vi,"instances",Io),B(Vi,"overrides",Gn),B(Vi,"registry",Qe),B(Vi,"version",yS),B(Vi,"getChart",ep);function ip(){return lt(Vi.instances,i=>i._plugins.invalidate())}function CS(i,t,e){const{startAngle:n,pixelMargin:r,x:a,y:s,outerRadius:o,innerRadius:l}=t;let u=r/o;i.beginPath(),i.arc(a,s,o,n-u,e+u),l>r?(u=r/l,i.arc(a,s,l,e+u,n-u,!0)):i.arc(a,s,r,e+kt,n-kt),i.closePath(),i.clip()}function MS(i){return Kc(i,["outerStart","outerEnd","innerStart","innerEnd"])}function DS(i,t,e,n){const r=MS(i.options.borderRadius),a=(e-t)/2,s=Math.min(a,n*t/2),o=l=>{const u=(e-Math.min(a,l))*n/2;return Wt(l,0,Math.min(a,u))};return{outerStart:o(r.outerStart),outerEnd:o(r.outerEnd),innerStart:Wt(r.innerStart,0,s),innerEnd:Wt(r.innerEnd,0,s)}}function tr(i,t,e,n){return{x:e+i*Math.cos(t),y:n+i*Math.sin(t)}}function il(i,t,e,n,r,a){const{x:s,y:o,startAngle:l,pixelMargin:u,innerRadius:h}=t,c=Math.max(t.outerRadius+n+e-u,0),f=h>0?h+n+e+u:0;let d=0;const p=r-l;if(n){const I=h>0?h-n:0,R=c>0?c-n:0,V=(I+R)/2,W=V!==0?p*V/(V+n):p;d=(p-W)/2}const g=Math.max(.001,p*c-e/yt)/c,v=(p-g)/2,m=l+v+d,_=r-v-d,{outerStart:y,outerEnd:b,innerStart:w,innerEnd:x}=DS(t,f,c,_-m),S=c-y,T=c-b,C=m+y/S,M=_-b/T,D=f+w,P=f+x,k=m+w/D,L=_-x/P;if(i.beginPath(),a){const I=(C+M)/2;if(i.arc(s,o,c,C,I),i.arc(s,o,c,I,M),b>0){const N=tr(T,M,s,o);i.arc(N.x,N.y,b,M,_+kt)}const R=tr(P,_,s,o);if(i.lineTo(R.x,R.y),x>0){const N=tr(P,L,s,o);i.arc(N.x,N.y,x,_+kt,L+Math.PI)}const V=(_-x/f+(m+w/f))/2;if(i.arc(s,o,f,_-x/f,V,!0),i.arc(s,o,f,V,m+w/f,!0),w>0){const N=tr(D,k,s,o);i.arc(N.x,N.y,w,k+Math.PI,m-kt)}const W=tr(S,m,s,o);if(i.lineTo(W.x,W.y),y>0){const N=tr(S,C,s,o);i.arc(N.x,N.y,y,m-kt,C)}}else{i.moveTo(s,o);const I=Math.cos(C)*c+s,R=Math.sin(C)*c+o;i.lineTo(I,R);const V=Math.cos(M)*c+s,W=Math.sin(M)*c+o;i.lineTo(V,W)}i.closePath()}function AS(i,t,e,n,r){const{fullCircles:a,startAngle:s,circumference:o}=t;let l=t.endAngle;if(a){il(i,t,e,n,l,r);for(let u=0;u<a;++u)i.fill();isNaN(o)||(l=s+(o%_t||_t))}return il(i,t,e,n,l,r),i.fill(),l}function PS(i,t,e,n,r){const{fullCircles:a,startAngle:s,circumference:o,options:l}=t,{borderWidth:u,borderJoinStyle:h,borderDash:c,borderDashOffset:f}=l,d=l.borderAlign==="inner";if(!u)return;i.setLineDash(c||[]),i.lineDashOffset=f,d?(i.lineWidth=u*2,i.lineJoin=h||"round"):(i.lineWidth=u,i.lineJoin=h||"bevel");let p=t.endAngle;if(a){il(i,t,e,n,p,r);for(let g=0;g<a;++g)i.stroke();isNaN(o)||(p=s+(o%_t||_t))}d&&CS(i,t,p),a||(il(i,t,e,n,p,r),i.stroke())}class xa extends Ai{constructor(e){super();B(this,"circumference");B(this,"endAngle");B(this,"fullCircles");B(this,"innerRadius");B(this,"outerRadius");B(this,"pixelMargin");B(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,r){const a=this.getProps(["x","y"],r),{angle:s,distance:o}=Um(a,{x:e,y:n}),{startAngle:l,endAngle:u,innerRadius:h,outerRadius:c,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),d=(this.options.spacing+this.options.borderWidth)/2,p=Z(f,u-l),g=Qa(s,l,u)&&l!==u,v=p>=_t||g,m=xi(o,h+d,c+d);return v&&m}getCenterPoint(e){const{x:n,y:r,startAngle:a,endAngle:s,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:u,spacing:h}=this.options,c=(a+s)/2,f=(o+l+h+u)/2;return{x:n+Math.cos(c)*f,y:r+Math.sin(c)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:n,circumference:r}=this,a=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=r>_t?Math.floor(r/_t):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const l=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(l)*a,Math.sin(l)*a);const u=1-Math.sin(Math.min(yt,r||0)),h=a*u;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,AS(e,this,h,s,o),PS(e,this,h,s,o),e.restore()}}B(xa,"id","arc"),B(xa,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),B(xa,"defaultRoutes",{backgroundColor:"backgroundColor"}),B(xa,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function w_(i,t,e=t){i.lineCap=Z(e.borderCapStyle,t.borderCapStyle),i.setLineDash(Z(e.borderDash,t.borderDash)),i.lineDashOffset=Z(e.borderDashOffset,t.borderDashOffset),i.lineJoin=Z(e.borderJoinStyle,t.borderJoinStyle),i.lineWidth=Z(e.borderWidth,t.borderWidth),i.strokeStyle=Z(e.borderColor,t.borderColor)}function LS(i,t,e){i.lineTo(e.x,e.y)}function kS(i){return i.stepped?t1:i.tension||i.cubicInterpolationMode==="monotone"?e1:LS}function S_(i,t,e={}){const n=i.length,{start:r=0,end:a=n-1}=e,{start:s,end:o}=t,l=Math.max(r,s),u=Math.min(a,o),h=r<s&&a<s||r>o&&a>o;return{count:n,start:l,loop:t.loop,ilen:u<l&&!h?n+u-l:u-l}}function IS(i,t,e,n){const{points:r,options:a}=t,{count:s,start:o,loop:l,ilen:u}=S_(r,e,n),h=kS(a);let{move:c=!0,reverse:f}=n||{},d,p,g;for(d=0;d<=u;++d)p=r[(o+(f?u-d:d))%s],!p.skip&&(c?(i.moveTo(p.x,p.y),c=!1):h(i,g,p,f,a.stepped),g=p);return l&&(p=r[(o+(f?u:0))%s],h(i,g,p,f,a.stepped)),!!l}function RS(i,t,e,n){const r=t.points,{count:a,start:s,ilen:o}=S_(r,e,n),{move:l=!0,reverse:u}=n||{};let h=0,c=0,f,d,p,g,v,m;const _=b=>(s+(u?o-b:b))%a,y=()=>{g!==v&&(i.lineTo(h,v),i.lineTo(h,g),i.lineTo(h,m))};for(l&&(d=r[_(0)],i.moveTo(d.x,d.y)),f=0;f<=o;++f){if(d=r[_(f)],d.skip)continue;const b=d.x,w=d.y,x=b|0;x===p?(w<g?g=w:w>v&&(v=w),h=(c*h+b)/++c):(y(),i.lineTo(b,w),p=x,c=0,g=v=w),m=w}y()}function Eh(i){const t=i.options,e=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?RS:IS}function OS(i){return i.stepped?R1:i.tension||i.cubicInterpolationMode==="monotone"?O1:kn}function ES(i,t,e,n){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,n)&&r.closePath()),w_(i,t.options),i.stroke(r)}function FS(i,t,e,n){const{segments:r,options:a}=t,s=Eh(t);for(const o of r)w_(i,a,o.style),i.beginPath(),s(i,t,o,{start:e,end:e+n-1})&&i.closePath(),i.stroke()}const BS=typeof Path2D=="function";function zS(i,t,e,n){BS&&!t.options.segment?ES(i,t,e,n):FS(i,t,e,n)}class Ui extends Ai{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;C1(this._points,n,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=V1(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,r=t[e],a=this.points,s=u_(this,{property:e,start:r,end:r});if(!s.length)return;const o=[],l=OS(n);let u,h;for(u=0,h=s.length;u<h;++u){const{start:c,end:f}=s[u],d=a[c],p=a[f];if(d===p){o.push(d);continue}const g=Math.abs((r-d[e])/(p[e]-d[e])),v=l(d,p,g,n.stepped);v[e]=t[e],o.push(v)}return o.length===1?o[0]:o}pathSegment(t,e,n){return Eh(this)(t,this,e,n)}path(t,e,n){const r=this.segments,a=Eh(this);let s=this._loop;e=e||0,n=n||this.points.length-e;for(const o of r)s&=a(t,this,o,{start:e,end:e+n-1});return!!s}draw(t,e,n,r){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),zS(t,this,n,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}B(Ui,"id","line"),B(Ui,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),B(Ui,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),B(Ui,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function np(i,t,e,n){const r=i.options,{[e]:a}=i.getProps([e],n);return Math.abs(t-a)<r.radius+r.hitRadius}class Ro extends Ai{constructor(e){super();B(this,"parsed");B(this,"skip");B(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const a=this.options,{x:s,y:o}=this.getProps(["x","y"],r);return Math.pow(e-s,2)+Math.pow(n-o,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,n){return np(this,e,"x",n)}inYRange(e,n){return np(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){e=e||this.options||{};let n=e.radius||0;n=Math.max(n,n&&e.hoverRadius||0);const r=n&&e.borderWidth||0;return(n+r)*2}draw(e,n){const r=this.options;this.skip||r.radius<.1||!Si(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,kh(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}B(Ro,"id","point"),B(Ro,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),B(Ro,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function T_(i,t){const{x:e,y:n,base:r,width:a,height:s}=i.getProps(["x","y","base","width","height"],t);let o,l,u,h,c;return i.horizontal?(c=s/2,o=Math.min(e,r),l=Math.max(e,r),u=n-c,h=n+c):(c=a/2,o=e-c,l=e+c,u=Math.min(n,r),h=Math.max(n,r)),{left:o,top:u,right:l,bottom:h}}function Gi(i,t,e,n){return i?0:Wt(t,e,n)}function NS(i,t,e){const n=i.options.borderWidth,r=i.borderSkipped,a=Qm(n);return{t:Gi(r.top,a.top,0,e),r:Gi(r.right,a.right,0,t),b:Gi(r.bottom,a.bottom,0,e),l:Gi(r.left,a.left,0,t)}}function VS(i,t,e){const{enableBorderRadius:n}=i.getProps(["enableBorderRadius"]),r=i.options.borderRadius,a=zn(r),s=Math.min(t,e),o=i.borderSkipped,l=n||tt(r);return{topLeft:Gi(!l||o.top||o.left,a.topLeft,0,s),topRight:Gi(!l||o.top||o.right,a.topRight,0,s),bottomLeft:Gi(!l||o.bottom||o.left,a.bottomLeft,0,s),bottomRight:Gi(!l||o.bottom||o.right,a.bottomRight,0,s)}}function HS(i){const t=T_(i),e=t.right-t.left,n=t.bottom-t.top,r=NS(i,e/2,n/2),a=VS(i,e/2,n/2);return{outer:{x:t.left,y:t.top,w:e,h:n,radius:a},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,a.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(r.b,r.r))}}}}function cu(i,t,e,n){const r=t===null,a=e===null,o=i&&!(r&&a)&&T_(i,n);return o&&(r||xi(t,o.left,o.right))&&(a||xi(e,o.top,o.bottom))}function WS(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function US(i,t){i.rect(t.x,t.y,t.w,t.h)}function fu(i,t,e={}){const n=i.x!==e.x?-t:0,r=i.y!==e.y?-t:0,a=(i.x+i.w!==e.x+e.w?t:0)-n,s=(i.y+i.h!==e.y+e.h?t:0)-r;return{x:i.x+n,y:i.y+r,w:i.w+a,h:i.h+s,radius:i.radius}}class Oo extends Ai{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:r}}=this,{inner:a,outer:s}=HS(this),o=WS(s.radius)?Ja:US;t.save(),(s.w!==a.w||s.h!==a.h)&&(t.beginPath(),o(t,fu(s,e,a)),t.clip(),o(t,fu(a,-e,s)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),o(t,fu(a,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,n){return cu(this,t,e,n)}inXRange(t,e){return cu(this,t,null,e)}inYRange(t,e){return cu(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:r,horizontal:a}=this.getProps(["x","y","base","horizontal"],t);return{x:a?(e+r)/2:e,y:a?n:(n+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}B(Oo,"id","bar"),B(Oo,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),B(Oo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var GS=Object.freeze({__proto__:null,ArcElement:xa,BarElement:Oo,LineElement:Ui,PointElement:Ro});const Fh=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],rp=Fh.map(i=>i.replace("rgb(","rgba(").replace(")",", 0.5)"));function C_(i){return Fh[i%Fh.length]}function M_(i){return rp[i%rp.length]}function YS(i,t){return i.borderColor=C_(t),i.backgroundColor=M_(t),++t}function XS(i,t){return i.backgroundColor=i.data.map(()=>C_(t++)),t}function $S(i,t){return i.backgroundColor=i.data.map(()=>M_(t++)),t}function jS(i){let t=0;return(e,n)=>{const r=i.getDatasetMeta(n).controller;r instanceof On?t=XS(e,t):r instanceof Oa?t=$S(e,t):r&&(t=YS(e,t))}}function ap(i){let t;for(t in i)if(i[t].borderColor||i[t].backgroundColor)return!0;return!1}function qS(i){return i&&(i.borderColor||i.backgroundColor)}function ZS(){return wt.borderColor!=="rgba(0,0,0,0.1)"||wt.backgroundColor!=="rgba(0,0,0,0.1)"}var KS={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(i,t,e){if(!e.enabled)return;const{data:{datasets:n},options:r}=i.config,{elements:a}=r,s=ap(n)||qS(r)||a&&ap(a)||ZS();if(!e.forceOverride&&s)return;const o=jS(i);n.forEach(o)}};function QS(i,t,e,n,r){const a=r.samples||n;if(a>=e)return i.slice(t,t+e);const s=[],o=(e-2)/(a-2);let l=0;const u=t+e-1;let h=t,c,f,d,p,g;for(s[l++]=i[h],c=0;c<a-2;c++){let v=0,m=0,_;const y=Math.floor((c+1)*o)+1+t,b=Math.min(Math.floor((c+2)*o)+1,e)+t,w=b-y;for(_=y;_<b;_++)v+=i[_].x,m+=i[_].y;v/=w,m/=w;const x=Math.floor(c*o)+1+t,S=Math.min(Math.floor((c+1)*o)+1,e)+t,{x:T,y:C}=i[h];for(d=p=-1,_=x;_<S;_++)p=.5*Math.abs((T-v)*(i[_].y-C)-(T-i[_].x)*(m-C)),p>d&&(d=p,f=i[_],g=_);s[l++]=f,h=g}return s[l++]=i[u],s}function JS(i,t,e,n){let r=0,a=0,s,o,l,u,h,c,f,d,p,g;const v=[],m=t+e-1,_=i[t].x,b=i[m].x-_;for(s=t;s<t+e;++s){o=i[s],l=(o.x-_)/b*n,u=o.y;const w=l|0;if(w===h)u<p?(p=u,c=s):u>g&&(g=u,f=s),r=(a*r+o.x)/++a;else{const x=s-1;if(!at(c)&&!at(f)){const S=Math.min(c,f),T=Math.max(c,f);S!==d&&S!==x&&v.push({...i[S],x:r}),T!==d&&T!==x&&v.push({...i[T],x:r})}s>0&&x!==d&&v.push(i[x]),v.push(o),h=w,a=0,p=g=u,c=f=d=s}}return v}function D_(i){if(i._decimated){const t=i._data;delete i._decimated,delete i._data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function sp(i){i.data.datasets.forEach(t=>{D_(t)})}function tT(i,t){const e=t.length;let n=0,r;const{iScale:a}=i,{min:s,max:o,minDefined:l,maxDefined:u}=a.getUserBounds();return l&&(n=Wt(wi(t,a.axis,s).lo,0,e-1)),u?r=Wt(wi(t,a.axis,o).hi+1,n,e)-n:r=e-n,{start:n,count:r}}var eT={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(i,t,e)=>{if(!e.enabled){sp(i);return}const n=i.width;i.data.datasets.forEach((r,a)=>{const{_data:s,indexAxis:o}=r,l=i.getDatasetMeta(a),u=s||r.data;if(ya([o,i.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const h=i.scales[l.xAxisID];if(h.type!=="linear"&&h.type!=="time"||i.options.parsing)return;let{start:c,count:f}=tT(l,u);const d=e.threshold||4*n;if(f<=d){D_(r);return}at(s)&&(r._data=u,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(e.algorithm){case"lttb":p=QS(u,c,f,n,e);break;case"min-max":p=JS(u,c,f,n);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=p})},destroy(i){sp(i)}};function iT(i,t,e){const n=i.segments,r=i.points,a=t.points,s=[];for(const o of n){let{start:l,end:u}=o;u=af(l,u,r);const h=Bh(e,r[l],r[u],o.loop);if(!t.segments){s.push({source:o,target:h,start:r[l],end:r[u]});continue}const c=u_(t,h);for(const f of c){const d=Bh(e,a[f.start],a[f.end],f.loop),p=l_(o,r,d);for(const g of p)s.push({source:g,target:f,start:{[e]:op(h,d,"start",Math.max)},end:{[e]:op(h,d,"end",Math.min)}})}}return s}function Bh(i,t,e,n){if(n)return;let r=t[i],a=e[i];return i==="angle"&&(r=we(r),a=we(a)),{property:i,start:r,end:a}}function nT(i,t){const{x:e=null,y:n=null}=i||{},r=t.points,a=[];return t.segments.forEach(({start:s,end:o})=>{o=af(s,o,r);const l=r[s],u=r[o];n!==null?(a.push({x:l.x,y:n}),a.push({x:u.x,y:n})):e!==null&&(a.push({x:e,y:l.y}),a.push({x:e,y:u.y}))}),a}function af(i,t,e){for(;t>i;t--){const n=e[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function op(i,t,e,n){return i&&t?n(i[e],t[e]):i?i[e]:t?t[e]:0}function A_(i,t){let e=[],n=!1;return xt(i)?(n=!0,e=i):e=nT(i,t),e.length?new Ui({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function lp(i){return i&&i.fill!==!1}function rT(i,t,e){let r=i[t].fill;const a=[t];let s;if(!e)return r;for(;r!==!1&&a.indexOf(r)===-1;){if(!Dt(r))return r;if(s=i[r],!s)return!1;if(s.visible)return r;a.push(r),r=s.fill}return!1}function aT(i,t,e){const n=uT(i);if(tt(n))return isNaN(n.value)?!1:n;let r=parseFloat(n);return Dt(r)&&Math.floor(r)===r?sT(n[0],t,r,e):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function sT(i,t,e,n){return(i==="-"||i==="+")&&(e=t+e),e===t||e<0||e>=n?!1:e}function oT(i,t){let e=null;return i==="start"?e=t.bottom:i==="end"?e=t.top:tt(i)?e=t.getPixelForValue(i.value):t.getBasePixel&&(e=t.getBasePixel()),e}function lT(i,t,e){let n;return i==="start"?n=e:i==="end"?n=t.options.reverse?t.min:t.max:tt(i)?n=i.value:n=t.getBaseValue(),n}function uT(i){const t=i.options,e=t.fill;let n=Z(e&&e.target,e);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function hT(i){const{scale:t,index:e,line:n}=i,r=[],a=n.segments,s=n.points,o=cT(t,e);o.push(A_({x:null,y:t.bottom},n));for(let l=0;l<a.length;l++){const u=a[l];for(let h=u.start;h<=u.end;h++)fT(r,s[h],o)}return new Ui({points:r,options:{}})}function cT(i,t){const e=[],n=i.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){const a=n[r];if(a.index===t)break;a.hidden||e.unshift(a.dataset)}return e}function fT(i,t,e){const n=[];for(let r=0;r<e.length;r++){const a=e[r],{first:s,last:o,point:l}=dT(a,t,"x");if(!(!l||s&&o)){if(s)n.unshift(l);else if(i.push(l),!o)break}}i.push(...n)}function dT(i,t,e){const n=i.interpolate(t,e);if(!n)return{};const r=n[e],a=i.segments,s=i.points;let o=!1,l=!1;for(let u=0;u<a.length;u++){const h=a[u],c=s[h.start][e],f=s[h.end][e];if(xi(r,c,f)){o=r===c,l=r===f;break}}return{first:o,last:l,point:n}}class P_{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:r,y:a,radius:s}=this;return e=e||{start:0,end:_t},t.arc(r,a,s,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:r}=this,a=t.angle;return{x:e+Math.cos(a)*r,y:n+Math.sin(a)*r,angle:a}}}function pT(i){const{chart:t,fill:e,line:n}=i;if(Dt(e))return vT(t,e);if(e==="stack")return hT(i);if(e==="shape")return!0;const r=gT(i);return r instanceof P_?r:A_(r,n)}function vT(i,t){const e=i.getDatasetMeta(t);return e&&i.isDatasetVisible(t)?e.dataset:null}function gT(i){return(i.scale||{}).getPointPositionForValue?_T(i):mT(i)}function mT(i){const{scale:t={},fill:e}=i,n=oT(e,t);if(Dt(n)){const r=t.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}function _T(i){const{scale:t,fill:e}=i,n=t.options,r=t.getLabels().length,a=n.reverse?t.max:t.min,s=lT(e,t,a),o=[];if(n.grid.circular){const l=t.getPointPositionForValue(0,a);return new P_({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(s)})}for(let l=0;l<r;++l)o.push(t.getPointPositionForValue(l,s));return o}function du(i,t,e){const n=pT(t),{line:r,scale:a,axis:s}=t,o=r.options,l=o.fill,u=o.backgroundColor,{above:h=u,below:c=u}=l||{};n&&r.points.length&&(Pl(i,e),yT(i,{line:r,target:n,above:h,below:c,area:e,scale:a,axis:s}),Ll(i))}function yT(i,t){const{line:e,target:n,above:r,below:a,area:s,scale:o}=t,l=e._loop?"angle":t.axis;i.save(),l==="x"&&a!==r&&(up(i,n,s.top),hp(i,{line:e,target:n,color:r,scale:o,property:l}),i.restore(),i.save(),up(i,n,s.bottom)),hp(i,{line:e,target:n,color:a,scale:o,property:l}),i.restore()}function up(i,t,e){const{segments:n,points:r}=t;let a=!0,s=!1;i.beginPath();for(const o of n){const{start:l,end:u}=o,h=r[l],c=r[af(l,u,r)];a?(i.moveTo(h.x,h.y),a=!1):(i.lineTo(h.x,e),i.lineTo(h.x,h.y)),s=!!t.pathSegment(i,o,{move:s}),s?i.closePath():i.lineTo(c.x,e)}i.lineTo(t.first().x,e),i.closePath(),i.clip()}function hp(i,t){const{line:e,target:n,property:r,color:a,scale:s}=t,o=iT(e,n,r);for(const{source:l,target:u,start:h,end:c}of o){const{style:{backgroundColor:f=a}={}}=l,d=n!==!0;i.save(),i.fillStyle=f,bT(i,s,d&&Bh(r,h,c)),i.beginPath();const p=!!e.pathSegment(i,l);let g;if(d){p?i.closePath():cp(i,n,c,r);const v=!!n.pathSegment(i,u,{move:p,reverse:!0});g=p&&v,g||cp(i,n,h,r)}i.closePath(),i.fill(g?"evenodd":"nonzero"),i.restore()}}function bT(i,t,e){const{top:n,bottom:r}=t.chart.chartArea,{property:a,start:s,end:o}=e||{};a==="x"&&(i.beginPath(),i.rect(s,n,o-s,r-n),i.clip())}function cp(i,t,e,n){const r=t.interpolate(e,n);r&&i.lineTo(r.x,r.y)}var xT={id:"filler",afterDatasetsUpdate(i,t,e){const n=(i.data.datasets||[]).length,r=[];let a,s,o,l;for(s=0;s<n;++s)a=i.getDatasetMeta(s),o=a.dataset,l=null,o&&o.options&&o instanceof Ui&&(l={visible:i.isDatasetVisible(s),index:s,fill:aT(o,s,n),chart:i,axis:a.controller.options.indexAxis,scale:a.vScale,line:o}),a.$filler=l,r.push(l);for(s=0;s<n;++s)l=r[s],!(!l||l.fill===!1)&&(l.fill=rT(r,s,e.propagate))},beforeDraw(i,t,e){const n=e.drawTime==="beforeDraw",r=i.getSortedVisibleDatasetMetas(),a=i.chartArea;for(let s=r.length-1;s>=0;--s){const o=r[s].$filler;o&&(o.line.updateControlPoints(a,o.axis),n&&o.fill&&du(i.ctx,o,a))}},beforeDatasetsDraw(i,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const n=i.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){const a=n[r].$filler;lp(a)&&du(i.ctx,a,i.chartArea)}},beforeDatasetDraw(i,t,e){const n=t.meta.$filler;!lp(n)||e.drawTime!=="beforeDatasetDraw"||du(i.ctx,n,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const fp=(i,t)=>{let{boxHeight:e=t,boxWidth:n=t}=i;return i.usePointStyle&&(e=Math.min(e,t),n=i.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(t,e)}},wT=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index;class dp extends Ai{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=pt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(n=>t.filter(n,this.chart.data))),t.sort&&(e=e.sort((n,r)=>t.sort(n,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,r=zt(n.font),a=r.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=fp(n,a);let u,h;e.font=r.string,this.isHorizontal()?(u=this.maxWidth,h=this._fitRows(s,a,o,l)+10):(h=this.maxHeight,u=this._fitCols(s,r,o,l)+10),this.width=Math.min(u,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,r){const{ctx:a,maxWidth:s,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],h=r+o;let c=t;a.textAlign="left",a.textBaseline="middle";let f=-1,d=-h;return this.legendItems.forEach((p,g)=>{const v=n+e/2+a.measureText(p.text).width;(g===0||u[u.length-1]+v+2*o>s)&&(c+=h,u[u.length-(g>0?0:1)]=0,d+=h,f++),l[g]={left:0,top:d,row:f,width:v,height:r},u[u.length-1]+=v+o}),c}_fitCols(t,e,n,r){const{ctx:a,maxHeight:s,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],h=s-t;let c=o,f=0,d=0,p=0,g=0;return this.legendItems.forEach((v,m)=>{const{itemWidth:_,itemHeight:y}=ST(n,e,a,v,r);m>0&&d+y+2*o>h&&(c+=f+o,u.push({width:f,height:d}),p+=f+o,g++,f=d=0),l[m]={left:p,top:d,col:g,width:_,height:y},f=Math.max(f,_),d+=y+o}),c+=f,u.push({width:f,height:d}),c}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:r},rtl:a}}=this,s=wr(a,this.left,this.width);if(this.isHorizontal()){let o=0,l=qt(n,this.left+r,this.right-this.lineWidths[o]);for(const u of e)o!==u.row&&(o=u.row,l=qt(n,this.left+r,this.right-this.lineWidths[o])),u.top+=this.top+t+r,u.left=s.leftForLtr(s.x(l),u.width),l+=u.width+r}else{let o=0,l=qt(n,this.top+t+r,this.bottom-this.columnSizes[o].height);for(const u of e)u.col!==o&&(o=u.col,l=qt(n,this.top+t+r,this.bottom-this.columnSizes[o].height)),u.top=l,u.left+=this.left+r,u.left=s.leftForLtr(s.x(u.left),u.width),l+=u.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Pl(t,this),this._draw(),Ll(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:r}=this,{align:a,labels:s}=t,o=wt.color,l=wr(t.rtl,this.left,this.width),u=zt(s.font),{padding:h}=s,c=u.size,f=c/2;let d;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;const{boxWidth:p,boxHeight:g,itemHeight:v}=fp(s,c),m=function(x,S,T){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;r.save();const C=Z(T.lineWidth,1);if(r.fillStyle=Z(T.fillStyle,o),r.lineCap=Z(T.lineCap,"butt"),r.lineDashOffset=Z(T.lineDashOffset,0),r.lineJoin=Z(T.lineJoin,"miter"),r.lineWidth=C,r.strokeStyle=Z(T.strokeStyle,o),r.setLineDash(Z(T.lineDash,[])),s.usePointStyle){const M={radius:g*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:C},D=l.xPlus(x,p/2),P=S+f;Km(r,M,D,P,s.pointStyleWidth&&p)}else{const M=S+Math.max((c-g)/2,0),D=l.leftForLtr(x,p),P=zn(T.borderRadius);r.beginPath(),Object.values(P).some(k=>k!==0)?Ja(r,{x:D,y:M,w:p,h:g,radius:P}):r.rect(D,M,p,g),r.fill(),C!==0&&r.stroke()}r.restore()},_=function(x,S,T){Yn(r,T.text,x,S+v/2,u,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},y=this.isHorizontal(),b=this._computeTitleHeight();y?d={x:qt(a,this.left+h,this.right-n[0]),y:this.top+h+b,line:0}:d={x:this.left+h,y:qt(a,this.top+b+h,this.bottom-e[0].height),line:0},a_(this.ctx,t.textDirection);const w=v+h;this.legendItems.forEach((x,S)=>{r.strokeStyle=x.fontColor,r.fillStyle=x.fontColor;const T=r.measureText(x.text).width,C=l.textAlign(x.textAlign||(x.textAlign=s.textAlign)),M=p+f+T;let D=d.x,P=d.y;l.setWidth(this.width),y?S>0&&D+M+h>this.right&&(P=d.y+=w,d.line++,D=d.x=qt(a,this.left+h,this.right-n[d.line])):S>0&&P+w>this.bottom&&(D=d.x=D+e[d.line].width+h,d.line++,P=d.y=qt(a,this.top+b+h,this.bottom-e[d.line].height));const k=l.x(D);if(m(k,P,x),D=Ux(C,D+p+f,y?D+M:this.right,t.rtl),_(l.x(D),P,x),y)d.x+=M+h;else if(typeof x.text!="string"){const L=u.lineHeight;d.y+=L_(x,L)+h}else d.y+=w}),s_(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=zt(e.font),r=Qt(e.padding);if(!e.display)return;const a=wr(t.rtl,this.left,this.width),s=this.ctx,o=e.position,l=n.size/2,u=r.top+l;let h,c=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),h=this.top+u,c=qt(t.align,c,this.right-f);else{const p=this.columnSizes.reduce((g,v)=>Math.max(g,v.height),0);h=u+qt(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const d=qt(o,c,c+f);s.textAlign=a.textAlign(qc(o)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=n.string,Yn(s,e.text,d,h,n)}_computeTitleHeight(){const t=this.options.title,e=zt(t.font),n=Qt(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,r,a;if(xi(t,this.left,this.right)&&xi(e,this.top,this.bottom)){for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(r=a[n],xi(t,r.left,r.left+r.width)&&xi(e,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(t){const e=this.options;if(!MT(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,a=wT(r,n);r&&!a&&pt(e.onLeave,[t,r,this],this),this._hoveredItem=n,n&&!a&&pt(e.onHover,[t,n,this],this)}else n&&pt(e.onClick,[t,n,this],this)}}function ST(i,t,e,n,r){const a=TT(n,i,t,e),s=CT(r,n,t.lineHeight);return{itemWidth:a,itemHeight:s}}function TT(i,t,e,n){let r=i.text;return r&&typeof r!="string"&&(r=r.reduce((a,s)=>a.length>s.length?a:s)),t+e.size/2+n.measureText(r).width}function CT(i,t,e){let n=i;return typeof t.text!="string"&&(n=L_(t,e)),n}function L_(i,t){const e=i.text?i.text.length:0;return t*e}function MT(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var DT={id:"legend",_element:dp,start(i,t,e){const n=i.legend=new dp({ctx:i.ctx,options:e,chart:i});Kt.configure(i,n,e),Kt.addBox(i,n)},stop(i){Kt.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){const n=i.legend;Kt.configure(i,n,e),n.options=e},afterUpdate(i){const t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){const n=t.datasetIndex,r=e.chart;r.isDatasetVisible(n)?(r.hide(n),t.hidden=!0):(r.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:r,color:a,useBorderRadius:s,borderRadius:o}}=i.legend.options;return i._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(e?0:void 0),h=Qt(u.borderWidth);return{text:t[l.index].label,fillStyle:u.backgroundColor,fontColor:a,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:s&&(o||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class sf extends Ai{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=xt(n.text)?n.text.length:1;this._padding=Qt(n.padding);const a=r*zt(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:n,bottom:r,right:a,options:s}=this,o=s.align;let l=0,u,h,c;return this.isHorizontal()?(h=qt(o,n,a),c=e+t,u=a-n):(s.position==="left"?(h=n+t,c=qt(o,r,e),l=yt*-.5):(h=a-t,c=qt(o,e,r),l=yt*.5),u=r-e),{titleX:h,titleY:c,maxWidth:u,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=zt(e.font),a=n.lineHeight/2+this._padding.top,{titleX:s,titleY:o,maxWidth:l,rotation:u}=this._drawArgs(a);Yn(t,e.text,0,0,n,{color:e.color,maxWidth:l,rotation:u,textAlign:qc(e.align),textBaseline:"middle",translation:[s,o]})}}function AT(i,t){const e=new sf({ctx:i.ctx,options:t,chart:i});Kt.configure(i,e,t),Kt.addBox(i,e),i.titleBlock=e}var PT={id:"title",_element:sf,start(i,t,e){AT(i,e)},stop(i){const t=i.titleBlock;Kt.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,e){const n=i.titleBlock;Kt.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ns=new WeakMap;var LT={id:"subtitle",start(i,t,e){const n=new sf({ctx:i.ctx,options:e,chart:i});Kt.configure(i,n,e),Kt.addBox(i,n),Ns.set(i,n)},stop(i){Kt.removeBox(i,Ns.get(i)),Ns.delete(i)},beforeUpdate(i,t,e){const n=Ns.get(i);Kt.configure(i,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wa={average(i){if(!i.length)return!1;let t,e,n=new Set,r=0,a=0;for(t=0,e=i.length;t<e;++t){const o=i[t].element;if(o&&o.hasValue()){const l=o.tooltipPosition();n.add(l.x),r+=l.y,++a}}return a===0||n.size===0?!1:{x:[...n].reduce((o,l)=>o+l)/n.size,y:r/a}},nearest(i,t){if(!i.length)return!1;let e=t.x,n=t.y,r=Number.POSITIVE_INFINITY,a,s,o;for(a=0,s=i.length;a<s;++a){const l=i[a].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),h=Ph(t,u);h<r&&(r=h,o=l)}}if(o){const l=o.tooltipPosition();e=l.x,n=l.y}return{x:e,y:n}}};function Ke(i,t){return t&&(xt(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function mi(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function kT(i,t){const{element:e,datasetIndex:n,index:r}=t,a=i.getDatasetMeta(n).controller,{label:s,value:o}=a.getLabelAndValue(r);return{chart:i,label:s,parsed:a.getParsed(r),raw:i.data.datasets[n].data[r],formattedValue:o,dataset:a.getDataset(),dataIndex:r,datasetIndex:n,element:e}}function pp(i,t){const e=i.chart.ctx,{body:n,footer:r,title:a}=i,{boxWidth:s,boxHeight:o}=t,l=zt(t.bodyFont),u=zt(t.titleFont),h=zt(t.footerFont),c=a.length,f=r.length,d=n.length,p=Qt(t.padding);let g=p.height,v=0,m=n.reduce((b,w)=>b+w.before.length+w.lines.length+w.after.length,0);if(m+=i.beforeBody.length+i.afterBody.length,c&&(g+=c*u.lineHeight+(c-1)*t.titleSpacing+t.titleMarginBottom),m){const b=t.displayColors?Math.max(o,l.lineHeight):l.lineHeight;g+=d*b+(m-d)*l.lineHeight+(m-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*h.lineHeight+(f-1)*t.footerSpacing);let _=0;const y=function(b){v=Math.max(v,e.measureText(b).width+_)};return e.save(),e.font=u.string,lt(i.title,y),e.font=l.string,lt(i.beforeBody.concat(i.afterBody),y),_=t.displayColors?s+2+t.boxPadding:0,lt(n,b=>{lt(b.before,y),lt(b.lines,y),lt(b.after,y)}),_=0,e.font=h.string,lt(i.footer,y),e.restore(),v+=p.width,{width:v,height:g}}function IT(i,t){const{y:e,height:n}=t;return e<n/2?"top":e>i.height-n/2?"bottom":"center"}function RT(i,t,e,n){const{x:r,width:a}=n,s=e.caretSize+e.caretPadding;if(i==="left"&&r+a+s>t.width||i==="right"&&r-a-s<0)return!0}function OT(i,t,e,n){const{x:r,width:a}=e,{width:s,chartArea:{left:o,right:l}}=i;let u="center";return n==="center"?u=r<=(o+l)/2?"left":"right":r<=a/2?u="left":r>=s-a/2&&(u="right"),RT(u,i,t,e)&&(u="center"),u}function vp(i,t,e){const n=e.yAlign||t.yAlign||IT(i,e);return{xAlign:e.xAlign||t.xAlign||OT(i,t,e,n),yAlign:n}}function ET(i,t){let{x:e,width:n}=i;return t==="right"?e-=n:t==="center"&&(e-=n/2),e}function FT(i,t,e){let{y:n,height:r}=i;return t==="top"?n+=e:t==="bottom"?n-=r+e:n-=r/2,n}function gp(i,t,e,n){const{caretSize:r,caretPadding:a,cornerRadius:s}=i,{xAlign:o,yAlign:l}=e,u=r+a,{topLeft:h,topRight:c,bottomLeft:f,bottomRight:d}=zn(s);let p=ET(t,o);const g=FT(t,l,u);return l==="center"?o==="left"?p+=u:o==="right"&&(p-=u):o==="left"?p-=Math.max(h,f)+r:o==="right"&&(p+=Math.max(c,d)+r),{x:Wt(p,0,n.width-t.width),y:Wt(g,0,n.height-t.height)}}function Vs(i,t,e){const n=Qt(e.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-n.right:i.x+n.left}function mp(i){return Ke([],mi(i))}function BT(i,t,e){return rn(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}function _p(i,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}const k_={beforeTitle:fi,title(i){if(i.length>0){const t=i[0],e=t.chart.data.labels,n=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return e[t.dataIndex]}return""},afterTitle:fi,beforeBody:fi,beforeLabel:fi,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");const e=i.formattedValue;return at(e)||(t+=e),t},labelColor(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:fi,afterBody:fi,beforeFooter:fi,footer:fi,afterFooter:fi};function ne(i,t,e,n){const r=i[t].call(e,n);return typeof r>"u"?k_[t].call(e,n):r}class zh extends Ai{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&e.options.animation&&n.animations,a=new h_(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=BT(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:n}=e,r=ne(n,"beforeTitle",this,t),a=ne(n,"title",this,t),s=ne(n,"afterTitle",this,t);let o=[];return o=Ke(o,mi(r)),o=Ke(o,mi(a)),o=Ke(o,mi(s)),o}getBeforeBody(t,e){return mp(ne(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,r=[];return lt(t,a=>{const s={before:[],lines:[],after:[]},o=_p(n,a);Ke(s.before,mi(ne(o,"beforeLabel",this,a))),Ke(s.lines,ne(o,"label",this,a)),Ke(s.after,mi(ne(o,"afterLabel",this,a))),r.push(s)}),r}getAfterBody(t,e){return mp(ne(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,r=ne(n,"beforeFooter",this,t),a=ne(n,"footer",this,t),s=ne(n,"afterFooter",this,t);let o=[];return o=Ke(o,mi(r)),o=Ke(o,mi(a)),o=Ke(o,mi(s)),o}_createItems(t){const e=this._active,n=this.chart.data,r=[],a=[],s=[];let o=[],l,u;for(l=0,u=e.length;l<u;++l)o.push(kT(this.chart,e[l]));return t.filter&&(o=o.filter((h,c,f)=>t.filter(h,c,f,n))),t.itemSort&&(o=o.sort((h,c)=>t.itemSort(h,c,n))),lt(o,h=>{const c=_p(t.callbacks,h);r.push(ne(c,"labelColor",this,h)),a.push(ne(c,"labelPointStyle",this,h)),s.push(ne(c,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=a,this.labelTextColors=s,this.dataPoints=o,o}update(t,e){const n=this.options.setContext(this.getContext()),r=this._active;let a,s=[];if(!r.length)this.opacity!==0&&(a={opacity:0});else{const o=wa[n.position].call(this,r,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const l=this._size=pp(this,n),u=Object.assign({},o,l),h=vp(this.chart,n,u),c=gp(n,u,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,a={opacity:1,x:c.x,y:c.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=s,this.$context=void 0,a&&this._resolveAnimations().update(this,a),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,r){const a=this.getCaretPosition(t,n,r);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}getCaretPosition(t,e,n){const{xAlign:r,yAlign:a}=this,{caretSize:s,cornerRadius:o}=n,{topLeft:l,topRight:u,bottomLeft:h,bottomRight:c}=zn(o),{x:f,y:d}=t,{width:p,height:g}=e;let v,m,_,y,b,w;return a==="center"?(b=d+g/2,r==="left"?(v=f,m=v-s,y=b+s,w=b-s):(v=f+p,m=v+s,y=b-s,w=b+s),_=v):(r==="left"?m=f+Math.max(l,h)+s:r==="right"?m=f+p-Math.max(u,c)-s:m=this.caretX,a==="top"?(y=d,b=y-s,v=m-s,_=m+s):(y=d+g,b=y+s,v=m+s,_=m-s),w=y),{x1:v,x2:m,x3:_,y1:y,y2:b,y3:w}}drawTitle(t,e,n){const r=this.title,a=r.length;let s,o,l;if(a){const u=wr(n.rtl,this.x,this.width);for(t.x=Vs(this,n.titleAlign,n),e.textAlign=u.textAlign(n.titleAlign),e.textBaseline="middle",s=zt(n.titleFont),o=n.titleSpacing,e.fillStyle=n.titleColor,e.font=s.string,l=0;l<a;++l)e.fillText(r[l],u.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+o,l+1===a&&(t.y+=n.titleMarginBottom-o)}}_drawColorBox(t,e,n,r,a){const s=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:l,boxWidth:u}=a,h=zt(a.bodyFont),c=Vs(this,"left",a),f=r.x(c),d=l<h.lineHeight?(h.lineHeight-l)/2:0,p=e.y+d;if(a.usePointStyle){const g={radius:Math.min(u,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},v=r.leftForLtr(f,u)+u/2,m=p+l/2;t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,kh(t,g,v,m),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,kh(t,g,v,m)}else{t.lineWidth=tt(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;const g=r.leftForLtr(f,u),v=r.leftForLtr(r.xPlus(f,1),u-2),m=zn(s.borderRadius);Object.values(m).some(_=>_!==0)?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Ja(t,{x:g,y:p,w:u,h:l,radius:m}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),Ja(t,{x:v,y:p+1,w:u-2,h:l-2,radius:m}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(g,p,u,l),t.strokeRect(g,p,u,l),t.fillStyle=s.backgroundColor,t.fillRect(v,p+1,u-2,l-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:r}=this,{bodySpacing:a,bodyAlign:s,displayColors:o,boxHeight:l,boxWidth:u,boxPadding:h}=n,c=zt(n.bodyFont);let f=c.lineHeight,d=0;const p=wr(n.rtl,this.x,this.width),g=function(T){e.fillText(T,p.x(t.x+d),t.y+f/2),t.y+=f+a},v=p.textAlign(s);let m,_,y,b,w,x,S;for(e.textAlign=s,e.textBaseline="middle",e.font=c.string,t.x=Vs(this,v,n),e.fillStyle=n.bodyColor,lt(this.beforeBody,g),d=o&&v!=="right"?s==="center"?u/2+h:u+2+h:0,b=0,x=r.length;b<x;++b){for(m=r[b],_=this.labelTextColors[b],e.fillStyle=_,lt(m.before,g),y=m.lines,o&&y.length&&(this._drawColorBox(e,t,b,p,n),f=Math.max(c.lineHeight,l)),w=0,S=y.length;w<S;++w)g(y[w]),f=c.lineHeight;lt(m.after,g)}d=0,f=c.lineHeight,lt(this.afterBody,g),t.y-=a}drawFooter(t,e,n){const r=this.footer,a=r.length;let s,o;if(a){const l=wr(n.rtl,this.x,this.width);for(t.x=Vs(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=l.textAlign(n.footerAlign),e.textBaseline="middle",s=zt(n.footerFont),e.fillStyle=n.footerColor,e.font=s.string,o=0;o<a;++o)e.fillText(r[o],l.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+n.footerSpacing}}drawBackground(t,e,n,r){const{xAlign:a,yAlign:s}=this,{x:o,y:l}=t,{width:u,height:h}=n,{topLeft:c,topRight:f,bottomLeft:d,bottomRight:p}=zn(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(o+c,l),s==="top"&&this.drawCaret(t,e,n,r),e.lineTo(o+u-f,l),e.quadraticCurveTo(o+u,l,o+u,l+f),s==="center"&&a==="right"&&this.drawCaret(t,e,n,r),e.lineTo(o+u,l+h-p),e.quadraticCurveTo(o+u,l+h,o+u-p,l+h),s==="bottom"&&this.drawCaret(t,e,n,r),e.lineTo(o+d,l+h),e.quadraticCurveTo(o,l+h,o,l+h-d),s==="center"&&a==="left"&&this.drawCaret(t,e,n,r),e.lineTo(o,l+c),e.quadraticCurveTo(o,l,o+c,l),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,r=n&&n.x,a=n&&n.y;if(r||a){const s=wa[t.position].call(this,this._active,this._eventPosition);if(!s)return;const o=this._size=pp(this,t),l=Object.assign({},s,this._size),u=vp(e,t,l),h=gp(t,l,u,e);(r._to!==h.x||a._to!==h.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=s.x,this.caretY=s.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},a={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=Qt(e.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&o&&(t.save(),t.globalAlpha=n,this.drawBackground(a,t,r,e),a_(t,e.textDirection),a.y+=s.top,this.drawTitle(a,t,e),this.drawBody(a,t,e),this.drawFooter(a,t,e),s_(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,r=t.map(({datasetIndex:o,index:l})=>{const u=this.chart.getDatasetMeta(o);if(!u)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:u.data[l],index:l}}),a=!Zo(n,r),s=this._positionChanged(r,e);(a||s)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,n=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,a=this._active||[],s=this._getActiveElements(t,a,e,n),o=this._positionChanged(s,t),l=e||!Zo(s,a)||o;return l&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),l}_getActiveElements(t,e,n,r){const a=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const s=this.chart.getElementsAtEventForMode(t,a.mode,a,n);return a.reverse&&s.reverse(),s}_positionChanged(t,e){const{caretX:n,caretY:r,options:a}=this,s=wa[a.position].call(this,t,e);return s!==!1&&(n!==s.x||r!==s.y)}}B(zh,"positioners",wa);var zT={id:"tooltip",_element:zh,positioners:wa,afterInit(i,t,e){e&&(i.tooltip=new zh({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){const t=i.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){if(i.tooltip){const e=t.replay;i.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:k_},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},NT=Object.freeze({__proto__:null,Colors:KS,Decimation:eT,Filler:xT,Legend:DT,SubTitle:LT,Title:PT,Tooltip:zT});const VT=(i,t,e,n)=>(typeof t=="string"?(e=i.push(t)-1,n.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function HT(i,t,e,n){const r=i.indexOf(t);if(r===-1)return VT(i,t,e,n);const a=i.lastIndexOf(t);return r!==a?e:r}const WT=(i,t)=>i===null?null:Wt(Math.round(i),0,t);function yp(i){const t=this.getLabels();return i>=0&&i<t.length?t[i]:i}class Nh extends jn{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const n=this.getLabels();for(const{index:r,label:a}of e)n[r]===a&&n.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(at(t))return null;const n=this.getLabels();return e=isFinite(e)&&n[e]===t?e:HT(n,t,Z(e,t),this._addedLabels),WT(e,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),e||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,r=[];let a=this.getLabels();a=t===0&&e===a.length-1?a:a.slice(t,e+1),this._valueRange=Math.max(a.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=t;s<=e;s++)r.push({value:s});return r}getLabelForValue(t){return yp.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}B(Nh,"id","category"),B(Nh,"defaults",{ticks:{callback:yp}});function UT(i,t){const e=[],{bounds:r,step:a,min:s,max:o,precision:l,count:u,maxTicks:h,maxDigits:c,includeBounds:f}=i,d=a||1,p=h-1,{min:g,max:v}=t,m=!at(s),_=!at(o),y=!at(u),b=(v-g)/(c+1);let w=pd((v-g)/p/d)*d,x,S,T,C;if(w<1e-14&&!m&&!_)return[{value:g},{value:v}];C=Math.ceil(v/w)-Math.floor(g/w),C>p&&(w=pd(C*w/p/d)*d),at(l)||(x=Math.pow(10,l),w=Math.ceil(w*x)/x),r==="ticks"?(S=Math.floor(g/w)*w,T=Math.ceil(v/w)*w):(S=g,T=v),m&&_&&a&&Fx((o-s)/a,w/1e3)?(C=Math.round(Math.min((o-s)/w,h)),w=(o-s)/C,S=s,T=o):y?(S=m?s:S,T=_?o:T,C=u-1,w=(T-S)/C):(C=(T-S)/w,ka(C,Math.round(C),w/1e3)?C=Math.round(C):C=Math.ceil(C));const M=Math.max(vd(w),vd(S));x=Math.pow(10,at(l)?M:l),S=Math.round(S*x)/x,T=Math.round(T*x)/x;let D=0;for(m&&(f&&S!==s?(e.push({value:s}),S<s&&D++,ka(Math.round((S+D*w)*x)/x,s,bp(s,b,i))&&D++):S<s&&D++);D<C;++D){const P=Math.round((S+D*w)*x)/x;if(_&&P>o)break;e.push({value:P})}return _&&f&&T!==o?e.length&&ka(e[e.length-1].value,o,bp(o,b,i))?e[e.length-1].value=o:e.push({value:o}):(!_||T===o)&&e.push({value:T}),e}function bp(i,t,{horizontal:e,minRotation:n}){const r=He(n),a=(e?Math.sin(r):Math.cos(r))||.001,s=.75*t*(""+i).length;return Math.min(t/a,s)}class nl extends jn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return at(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:a}=this;const s=l=>r=e?r:l,o=l=>a=n?a:l;if(t){const l=ni(r),u=ni(a);l<0&&u<0?o(0):l>0&&u>0&&s(0)}if(r===a){let l=a===0?1:Math.abs(a*.05);o(a+l),t||s(r-l)}this.min=r,this.max=a}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:n}=t,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},a=this._range||this,s=UT(r,a);return t.bounds==="ticks"&&Wm(s,this,"value"),t.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const r=(n-e)/Math.max(t.length-1,1)/2;e-=r,n+=r}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return gs(t,this.chart.options.locale,this.options.ticks.format)}}class Vh extends nl{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Dt(t)?t:0,this.max=Dt(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=He(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,a.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}B(Vh,"id","linear"),B(Vh,"defaults",{ticks:{callback:Al.formatters.numeric}});const es=i=>Math.floor(Wi(i)),ln=(i,t)=>Math.pow(10,es(i)+t);function xp(i){return i/Math.pow(10,es(i))===1}function wp(i,t,e){const n=Math.pow(10,e),r=Math.floor(i/n);return Math.ceil(t/n)-r}function GT(i,t){const e=t-i;let n=es(e);for(;wp(i,t,n)>10;)n++;for(;wp(i,t,n)<10;)n--;return Math.min(n,es(i))}function YT(i,{min:t,max:e}){t=xe(i.min,t);const n=[],r=es(t);let a=GT(t,e),s=a<0?Math.pow(10,Math.abs(a)):1;const o=Math.pow(10,a),l=r>a?Math.pow(10,r):0,u=Math.round((t-l)*s)/s,h=Math.floor((t-l)/o/10)*o*10;let c=Math.floor((u-h)/Math.pow(10,a)),f=xe(i.min,Math.round((l+h+c*Math.pow(10,a))*s)/s);for(;f<e;)n.push({value:f,major:xp(f),significand:c}),c>=10?c=c<15?15:20:c++,c>=20&&(a++,c=2,s=a>=0?1:s),f=Math.round((l+h+c*Math.pow(10,a))*s)/s;const d=xe(i.max,f);return n.push({value:d,major:xp(d),significand:c}),n}class Hh extends jn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=nl.prototype.parse.apply(this,[t,e]);if(n===0){this._zero=!0;return}return Dt(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Dt(t)?Math.max(0,t):null,this.max=Dt(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Dt(this._userMin)&&(this.min=t===ln(this.min,0)?ln(this.min,-1):ln(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,r=this.max;const a=o=>n=t?n:o,s=o=>r=e?r:o;n===r&&(n<=0?(a(1),s(10)):(a(ln(n,-1)),s(ln(r,1)))),n<=0&&a(ln(r,-1)),r<=0&&s(ln(n,1)),this.min=n,this.max=r}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},n=YT(e,this);return t.bounds==="ticks"&&Wm(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":gs(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Wi(t),this._valueRange=Wi(this.max)-Wi(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Wi(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}B(Hh,"id","logarithmic"),B(Hh,"defaults",{ticks:{callback:Al.formatters.logarithmic,major:{enabled:!0}}});function Wh(i){const t=i.ticks;if(t.display&&i.display){const e=Qt(t.backdropPadding);return Z(t.font&&t.font.size,wt.font.size)+e.height}return 0}function XT(i,t,e){return e=xt(e)?e:[e],{w:Jx(i,t.string,e),h:e.length*t.lineHeight}}function Sp(i,t,e,n,r){return i===n||i===r?{start:t-e/2,end:t+e/2}:i<n||i>r?{start:t-e,end:t}:{start:t,end:t+e}}function $T(i){const t={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},e=Object.assign({},t),n=[],r=[],a=i._pointLabels.length,s=i.options.pointLabels,o=s.centerPointLabels?yt/a:0;for(let l=0;l<a;l++){const u=s.setContext(i.getPointLabelContext(l));r[l]=u.padding;const h=i.getPointPosition(l,i.drawingArea+r[l],o),c=zt(u.font),f=XT(i.ctx,c,i._pointLabels[l]);n[l]=f;const d=we(i.getIndexAngle(l)+o),p=Math.round($c(d)),g=Sp(p,h.x,f.w,0,180),v=Sp(p,h.y,f.h,90,270);jT(e,t,d,g,v)}i.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),i._pointLabelItems=KT(i,n,r)}function jT(i,t,e,n,r){const a=Math.abs(Math.sin(e)),s=Math.abs(Math.cos(e));let o=0,l=0;n.start<t.l?(o=(t.l-n.start)/a,i.l=Math.min(i.l,t.l-o)):n.end>t.r&&(o=(n.end-t.r)/a,i.r=Math.max(i.r,t.r+o)),r.start<t.t?(l=(t.t-r.start)/s,i.t=Math.min(i.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/s,i.b=Math.max(i.b,t.b+l))}function qT(i,t,e){const n=i.drawingArea,{extra:r,additionalAngle:a,padding:s,size:o}=e,l=i.getPointPosition(t,n+r+s,a),u=Math.round($c(we(l.angle+kt))),h=tC(l.y,o.h,u),c=QT(u),f=JT(l.x,o.w,c);return{visible:!0,x:l.x,y:h,textAlign:c,left:f,top:h,right:f+o.w,bottom:h+o.h}}function ZT(i,t){if(!t)return!0;const{left:e,top:n,right:r,bottom:a}=i;return!(Si({x:e,y:n},t)||Si({x:e,y:a},t)||Si({x:r,y:n},t)||Si({x:r,y:a},t))}function KT(i,t,e){const n=[],r=i._pointLabels.length,a=i.options,{centerPointLabels:s,display:o}=a.pointLabels,l={extra:Wh(a)/2,additionalAngle:s?yt/r:0};let u;for(let h=0;h<r;h++){l.padding=e[h],l.size=t[h];const c=qT(i,h,l);n.push(c),o==="auto"&&(c.visible=ZT(c,u),c.visible&&(u=c))}return n}function QT(i){return i===0||i===180?"center":i<180?"left":"right"}function JT(i,t,e){return e==="right"?i-=t:e==="center"&&(i-=t/2),i}function tC(i,t,e){return e===90||e===270?i-=t/2:(e>270||e<90)&&(i-=t),i}function eC(i,t,e){const{left:n,top:r,right:a,bottom:s}=e,{backdropColor:o}=t;if(!at(o)){const l=zn(t.borderRadius),u=Qt(t.backdropPadding);i.fillStyle=o;const h=n-u.left,c=r-u.top,f=a-n+u.width,d=s-r+u.height;Object.values(l).some(p=>p!==0)?(i.beginPath(),Ja(i,{x:h,y:c,w:f,h:d,radius:l}),i.fill()):i.fillRect(h,c,f,d)}}function iC(i,t){const{ctx:e,options:{pointLabels:n}}=i;for(let r=t-1;r>=0;r--){const a=i._pointLabelItems[r];if(!a.visible)continue;const s=n.setContext(i.getPointLabelContext(r));eC(e,s,a);const o=zt(s.font),{x:l,y:u,textAlign:h}=a;Yn(e,i._pointLabels[r],l,u+o.lineHeight/2,o,{color:s.color,textAlign:h,textBaseline:"middle"})}}function I_(i,t,e,n){const{ctx:r}=i;if(e)r.arc(i.xCenter,i.yCenter,t,0,_t);else{let a=i.getPointPosition(0,t);r.moveTo(a.x,a.y);for(let s=1;s<n;s++)a=i.getPointPosition(s,t),r.lineTo(a.x,a.y)}}function nC(i,t,e,n,r){const a=i.ctx,s=t.circular,{color:o,lineWidth:l}=t;!s&&!n||!o||!l||e<0||(a.save(),a.strokeStyle=o,a.lineWidth=l,a.setLineDash(r.dash||[]),a.lineDashOffset=r.dashOffset,a.beginPath(),I_(i,e,s,n),a.closePath(),a.stroke(),a.restore())}function rC(i,t,e){return rn(i,{label:e,index:t,type:"pointLabel"})}class Sa extends nl{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Qt(Wh(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Dt(t)&&!isNaN(t)?t:0,this.max=Dt(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Wh(this.options))}generateTickLabels(t){nl.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,n)=>{const r=pt(this.options.pointLabels.callback,[e,n],this);return r||r===0?r:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?$T(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,r))}getIndexAngle(t){const e=_t/(this._pointLabels.length||1),n=this.options.startAngle||0;return we(t*e+He(n))}getDistanceFromCenterForValue(t){if(at(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(at(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return rC(this.getContext(),t,n)}}getPointPosition(t,e,n=0){const r=this.getIndexAngle(t)-kt+n;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:r,bottom:a}=this._pointLabelItems[t];return{left:e,top:n,right:r,bottom:a}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),I_(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:r,border:a}=e,s=this._pointLabels.length;let o,l,u;if(e.pointLabels.display&&iC(this,s),r.display&&this.ticks.forEach((h,c)=>{if(c!==0||c===0&&this.min<0){l=this.getDistanceFromCenterForValue(h.value);const f=this.getContext(c),d=r.setContext(f),p=a.setContext(f);nC(this,d,l,s,p)}}),n.display){for(t.save(),o=s-1;o>=0;o--){const h=n.setContext(this.getPointLabelContext(o)),{color:c,lineWidth:f}=h;!f||!c||(t.lineWidth=f,t.strokeStyle=c,t.setLineDash(h.borderDash),t.lineDashOffset=h.borderDashOffset,l=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),u=this.getPointPosition(o,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(u.x,u.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let a,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&this.min>=0&&!e.reverse)return;const u=n.setContext(this.getContext(l)),h=zt(u.font);if(a=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){t.font=h.string,s=t.measureText(o.label).width,t.fillStyle=u.backdropColor;const c=Qt(u.backdropPadding);t.fillRect(-s/2-c.left,-a-h.size/2-c.top,s+c.width,h.size+c.height)}Yn(t,o.label,0,-a,h,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),t.restore()}drawTitle(){}}B(Sa,"id","radialLinear"),B(Sa,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Al.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),B(Sa,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),B(Sa,"descriptors",{angleLines:{_fallback:"grid"}});const Il={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},he=Object.keys(Il);function Tp(i,t){return i-t}function Cp(i,t){if(at(t))return null;const e=i._adapter,{parser:n,round:r,isoWeekday:a}=i._parseOpts;let s=t;return typeof n=="function"&&(s=n(s)),Dt(s)||(s=typeof n=="string"?e.parse(s,n):e.parse(s)),s===null?null:(r&&(s=r==="week"&&(Ar(a)||a===!0)?e.startOf(s,"isoWeek",a):e.startOf(s,r)),+s)}function Mp(i,t,e,n){const r=he.length;for(let a=he.indexOf(i);a<r-1;++a){const s=Il[he[a]],o=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((e-t)/(o*s.size))<=n)return he[a]}return he[r-1]}function aC(i,t,e,n,r){for(let a=he.length-1;a>=he.indexOf(e);a--){const s=he[a];if(Il[s].common&&i._adapter.diff(r,n,s)>=t-1)return s}return he[e?he.indexOf(e):0]}function sC(i){for(let t=he.indexOf(i)+1,e=he.length;t<e;++t)if(Il[he[t]].common)return he[t]}function Dp(i,t,e){if(!e)i[t]=!0;else if(e.length){const{lo:n,hi:r}=jc(e,t),a=e[n]>=t?e[n]:e[r];i[a]=!0}}function oC(i,t,e,n){const r=i._adapter,a=+r.startOf(t[0].value,n),s=t[t.length-1].value;let o,l;for(o=a;o<=s;o=+r.add(o,1,n))l=e[o],l>=0&&(t[l].major=!0);return t}function Ap(i,t,e){const n=[],r={},a=t.length;let s,o;for(s=0;s<a;++s)o=t[s],r[o]=s,n.push({value:o,major:!1});return a===0||!e?n:oC(i,n,r,e)}class is extends jn{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const n=t.time||(t.time={}),r=this._adapter=new vw._date(t.adapters.date);r.init(e),La(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Cp(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:r,max:a,minDefined:s,maxDefined:o}=this.getUserBounds();function l(u){!s&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!o&&!isNaN(u.max)&&(a=Math.max(a,u.max))}(!s||!o)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=Dt(r)&&!isNaN(r)?r:+e.startOf(Date.now(),n),a=Dt(a)&&!isNaN(a)?a:+e.endOf(Date.now(),n)+1,this.min=Math.min(r,a-1),this.max=Math.max(r+1,a)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,r=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const a=this.min,s=this.max,o=Vx(r,a,s);return this._unit=e.unit||(n.autoSkip?Mp(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):aC(this,o.length,e.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:sC(this._unit),this.initOffsets(r),t.reverse&&o.reverse(),Ap(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,n=0,r,a;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,a=this.getDecimalForValue(t[t.length-1]),t.length===1?n=a:n=(a-this.getDecimalForValue(t[t.length-2]))/2);const s=t.length<3?.5:.25;e=Wt(e,0,s),n=Wt(n,0,s),this._offsets={start:e,end:n,factor:1/(e+1+n)}}_generate(){const t=this._adapter,e=this.min,n=this.max,r=this.options,a=r.time,s=a.unit||Mp(a.minUnit,e,n,this._getLabelCapacity(e)),o=Z(r.ticks.stepSize,1),l=s==="week"?a.isoWeekday:!1,u=Ar(l)||l===!0,h={};let c=e,f,d;if(u&&(c=+t.startOf(c,"isoWeek",l)),c=+t.startOf(c,u?"day":s),t.diff(n,e,s)>1e5*o)throw new Error(e+" and "+n+" are too far apart with stepSize of "+o+" "+s);const p=r.ticks.source==="data"&&this.getDataTimestamps();for(f=c,d=0;f<n;f=+t.add(f,o,s),d++)Dp(h,f,p);return(f===n||r.bounds==="ticks"||d===1)&&Dp(h,f,p),Object.keys(h).sort(Tp).map(g=>+g)}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,a=this._unit,s=e||r[a];return this._adapter.format(t,s)}_tickFormatFunction(t,e,n,r){const a=this.options,s=a.ticks.callback;if(s)return pt(s,[t,e,n],this);const o=a.time.displayFormats,l=this._unit,u=this._majorUnit,h=l&&o[l],c=u&&o[u],f=n[e],d=u&&c&&f&&f.major;return this._adapter.format(t,r||(d?c:h))}generateTickLabels(t){let e,n,r;for(e=0,n=t.length;e<n;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,r=He(this.isHorizontal()?e.maxRotation:e.minRotation),a=Math.cos(r),s=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:n*a+o*s,h:n*s+o*a}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,r=n[e.unit]||n.millisecond,a=this._tickFormatFunction(t,0,Ap(this,[t],this._majorUnit),r),s=this._getLabelSize(a),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let t=this._cache.data||[],e,n;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,n=r.length;e<n;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const r=this.getLabels();for(e=0,n=r.length;e<n;++e)t.push(Cp(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Ym(t.sort(Tp))}}B(is,"id","time"),B(is,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Hs(i,t,e){let n=0,r=i.length-1,a,s,o,l;e?(t>=i[n].pos&&t<=i[r].pos&&({lo:n,hi:r}=wi(i,"pos",t)),{pos:a,time:o}=i[n],{pos:s,time:l}=i[r]):(t>=i[n].time&&t<=i[r].time&&({lo:n,hi:r}=wi(i,"time",t)),{time:a,pos:o}=i[n],{time:s,pos:l}=i[r]);const u=s-a;return u?o+(l-o)*(t-a)/u:o}class Uh extends is{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Hs(e,this.min),this._tableRange=Hs(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,r=[],a=[];let s,o,l,u,h;for(s=0,o=t.length;s<o;++s)u=t[s],u>=e&&u<=n&&r.push(u);if(r.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(s=0,o=r.length;s<o;++s)h=r[s+1],l=r[s-1],u=r[s],Math.round((h+l)/2)!==u&&a.push({time:u,pos:s/(o-1)});return a}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(e)||n.length===1)&&n.push(e),n.sort((r,a)=>r-a)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return e.length&&n.length?t=this.normalize(e.concat(n)):t=e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Hs(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return Hs(this._table,n*this._tableRange+this._minPos,!0)}}B(Uh,"id","timeseries"),B(Uh,"defaults",is.defaults);var lC=Object.freeze({__proto__:null,CategoryScale:Nh,LinearScale:Vh,LogarithmicScale:Hh,RadialLinearScale:Sa,TimeScale:is,TimeSeriesScale:Uh});const uC=[pw,GS,NT,lC];Vi.register(...uC);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Gh=function(i,t){return Gh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])},Gh(i,t)};function Ot(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Gh(i,t);function e(){this.constructor=i}i.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var hC=function(){function i(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return i}(),cC=function(){function i(){this.browser=new hC,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return i}(),$=new cC;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?($.wxa=!0,$.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?$.worker=!0:!$.hasGlobalWindow||"Deno"in window?($.node=!0,$.svgSupported=!0):fC(navigator.userAgent,$);function fC(i,t){var e=t.browser,n=i.match(/Firefox\/([\d.]+)/),r=i.match(/MSIE\s([\d.]+)/)||i.match(/Trident\/.+?rv:(([\d.]+))/),a=i.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(i);n&&(e.firefox=!0,e.version=n[1]),r&&(e.ie=!0,e.version=r[1]),a&&(e.edge=!0,e.version=a[1],e.newEdge=+a[1].split(".")[0]>18),s&&(e.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,t.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11),t.domSupported=typeof document<"u";var o=document.documentElement.style;t.transform3dSupported=(e.ie&&"transition"in o||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in o)&&!("OTransition"in o),t.transformSupported=t.transform3dSupported||e.ie&&+e.version>=9}var of=12,dC="sans-serif",Xn=of+"px "+dC,pC=20,vC=100,gC="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function mC(i){var t={};if(typeof JSON>"u")return t;for(var e=0;e<i.length;e++){var n=String.fromCharCode(e+32),r=(i.charCodeAt(e)-pC)/vC;t[n]=r}return t}var _C=mC(gC),Fr={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var i,t;return function(e,n){if(!i){var r=Fr.createCanvas();i=r&&r.getContext("2d")}if(i)return t!==n&&(t=i.font=n||Xn),i.measureText(e);e=e||"",n=n||Xn;var a=/((?:\d+)?\.?\d*)px/.exec(n),s=a&&+a[1]||of,o=0;if(n.indexOf("mono")>=0)o=s*e.length;else for(var l=0;l<e.length;l++){var u=_C[e[l]];o+=u==null?s:u*s}return{width:o}}}(),loadImage:function(i,t,e){var n=new Image;return n.onload=t,n.onerror=e,n.src=i,n}},R_=en(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(i,t){return i["[object "+t+"]"]=!0,i},{}),O_=en(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(i,t){return i["[object "+t+"Array]"]=!0,i},{}),_s=Object.prototype.toString,Rl=Array.prototype,yC=Rl.forEach,bC=Rl.filter,lf=Rl.slice,xC=Rl.map,Pp=(function(){}).constructor,Ws=Pp?Pp.prototype:null,uf="__proto__",wC=2311;function E_(){return wC++}function hf(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];typeof console<"u"&&console.error.apply(console,i)}function it(i){if(i==null||typeof i!="object")return i;var t=i,e=_s.call(i);if(e==="[object Array]"){if(!Fa(i)){t=[];for(var n=0,r=i.length;n<r;n++)t[n]=it(i[n])}}else if(O_[e]){if(!Fa(i)){var a=i.constructor;if(a.from)t=a.from(i);else{t=new a(i.length);for(var n=0,r=i.length;n<r;n++)t[n]=i[n]}}}else if(!R_[e]&&!Fa(i)&&!ns(i)){t={};for(var s in i)i.hasOwnProperty(s)&&s!==uf&&(t[s]=it(i[s]))}return t}function Tt(i,t,e){if(!Y(t)||!Y(i))return e?it(t):i;for(var n in t)if(t.hasOwnProperty(n)&&n!==uf){var r=i[n],a=t[n];Y(a)&&Y(r)&&!H(a)&&!H(r)&&!ns(a)&&!ns(r)&&!Lp(a)&&!Lp(r)&&!Fa(a)&&!Fa(r)?Tt(r,a,e):(e||!(n in i))&&(i[n]=it(t[n]))}return i}function F(i,t){if(Object.assign)Object.assign(i,t);else for(var e in t)t.hasOwnProperty(e)&&e!==uf&&(i[e]=t[e]);return i}function Ct(i,t,e){for(var n=It(t),r=0,a=n.length;r<a;r++){var s=n[r];i[s]==null&&(i[s]=t[s])}return i}function gt(i,t){if(i){if(i.indexOf)return i.indexOf(t);for(var e=0,n=i.length;e<n;e++)if(i[e]===t)return e}return-1}function SC(i,t){var e=i.prototype;function n(){}n.prototype=t.prototype,i.prototype=new n;for(var r in e)e.hasOwnProperty(r)&&(i.prototype[r]=e[r]);i.prototype.constructor=i,i.superClass=t}function Pi(i,t,e){if(i="prototype"in i?i.prototype:i,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var a=n[r];a!=="constructor"&&i[a]==null&&(i[a]=t[a])}else Ct(i,t)}function pe(i){return!i||typeof i=="string"?!1:typeof i.length=="number"}function A(i,t,e){if(i&&t)if(i.forEach&&i.forEach===yC)i.forEach(t,e);else if(i.length===+i.length)for(var n=0,r=i.length;n<r;n++)t.call(e,i[n],n,i);else for(var a in i)i.hasOwnProperty(a)&&t.call(e,i[a],a,i)}function rt(i,t,e){if(!i)return[];if(!t)return cf(i);if(i.map&&i.map===xC)return i.map(t,e);for(var n=[],r=0,a=i.length;r<a;r++)n.push(t.call(e,i[r],r,i));return n}function en(i,t,e,n){if(i&&t){for(var r=0,a=i.length;r<a;r++)e=t.call(n,e,i[r],r,i);return e}}function Re(i,t,e){if(!i)return[];if(!t)return cf(i);if(i.filter&&i.filter===bC)return i.filter(t,e);for(var n=[],r=0,a=i.length;r<a;r++)t.call(e,i[r],r,i)&&n.push(i[r]);return n}function It(i){if(!i)return[];if(Object.keys)return Object.keys(i);var t=[];for(var e in i)i.hasOwnProperty(e)&&t.push(e);return t}function TC(i,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];return function(){return i.apply(t,e.concat(lf.call(arguments)))}}var mt=Ws&&ot(Ws.bind)?Ws.call.bind(Ws.bind):TC;function Bt(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){return i.apply(this,t.concat(lf.call(arguments)))}}function H(i){return Array.isArray?Array.isArray(i):_s.call(i)==="[object Array]"}function ot(i){return typeof i=="function"}function G(i){return typeof i=="string"}function Yh(i){return _s.call(i)==="[object String]"}function Rt(i){return typeof i=="number"}function Y(i){var t=typeof i;return t==="function"||!!i&&t==="object"}function Lp(i){return!!R_[_s.call(i)]}function ve(i){return!!O_[_s.call(i)]}function ns(i){return typeof i=="object"&&typeof i.nodeType=="number"&&typeof i.ownerDocument=="object"}function Ol(i){return i.colorStops!=null}function CC(i){return i.image!=null}function MC(i){return i!==i}function rs(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];for(var e=0,n=i.length;e<n;e++)if(i[e]!=null)return i[e]}function Q(i,t){return i??t}function Ea(i,t,e){return i??t??e}function cf(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return lf.apply(i,t)}function F_(i){if(typeof i=="number")return[i,i,i,i];var t=i.length;return t===2?[i[0],i[1],i[0],i[1]]:t===3?[i[0],i[1],i[2],i[1]]:i}function Mi(i,t){if(!i)throw new Error(t)}function ei(i){return i==null?null:typeof i.trim=="function"?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var B_="__ec_primitive__";function Xh(i){i[B_]=!0}function Fa(i){return i[B_]}var DC=function(){function i(){this.data={}}return i.prototype.delete=function(t){var e=this.has(t);return e&&delete this.data[t],e},i.prototype.has=function(t){return this.data.hasOwnProperty(t)},i.prototype.get=function(t){return this.data[t]},i.prototype.set=function(t,e){return this.data[t]=e,this},i.prototype.keys=function(){return It(this.data)},i.prototype.forEach=function(t){var e=this.data;for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},i}(),z_=typeof Map=="function";function AC(){return z_?new Map:new DC}var PC=function(){function i(t){var e=H(t);this.data=AC();var n=this;t instanceof i?t.each(r):t&&A(t,r);function r(a,s){e?n.set(a,s):n.set(s,a)}}return i.prototype.hasKey=function(t){return this.data.has(t)},i.prototype.get=function(t){return this.data.get(t)},i.prototype.set=function(t,e){return this.data.set(t,e),e},i.prototype.each=function(t,e){this.data.forEach(function(n,r){t.call(e,n,r)})},i.prototype.keys=function(){var t=this.data.keys();return z_?Array.from(t):t},i.prototype.removeKey=function(t){this.data.delete(t)},i}();function nt(i){return new PC(i)}function LC(i,t){for(var e=new i.constructor(i.length+t.length),n=0;n<i.length;n++)e[n]=i[n];for(var r=i.length,n=0;n<t.length;n++)e[n+r]=t[n];return e}function El(i,t){var e;if(Object.create)e=Object.create(i);else{var n=function(){};n.prototype=i,e=new n}return t&&F(e,t),e}function N_(i){var t=i.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function $n(i,t){return i.hasOwnProperty(t)}function fe(){}var kC=180/Math.PI;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var $h=function(i,t){return $h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])},$h(i,t)};function ut(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");$h(i,t);function e(){this.constructor=i}i.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function Br(i,t){return i==null&&(i=0),t==null&&(t=0),[i,t]}function IC(i){return[i[0],i[1]]}function kp(i,t,e){return i[0]=t[0]+e[0],i[1]=t[1]+e[1],i}function RC(i,t,e){return i[0]=t[0]-e[0],i[1]=t[1]-e[1],i}function OC(i){return Math.sqrt(EC(i))}function EC(i){return i[0]*i[0]+i[1]*i[1]}function pu(i,t,e){return i[0]=t[0]*e,i[1]=t[1]*e,i}function FC(i,t){var e=OC(t);return e===0?(i[0]=0,i[1]=0):(i[0]=t[0]/e,i[1]=t[1]/e),i}function jh(i,t){return Math.sqrt((i[0]-t[0])*(i[0]-t[0])+(i[1]-t[1])*(i[1]-t[1]))}var qh=jh;function BC(i,t){return(i[0]-t[0])*(i[0]-t[0])+(i[1]-t[1])*(i[1]-t[1])}var Sr=BC;function vu(i,t,e,n){return i[0]=t[0]+n*(e[0]-t[0]),i[1]=t[1]+n*(e[1]-t[1]),i}function ri(i,t,e){var n=t[0],r=t[1];return i[0]=e[0]*n+e[2]*r+e[4],i[1]=e[1]*n+e[3]*r+e[5],i}function _r(i,t,e){return i[0]=Math.min(t[0],e[0]),i[1]=Math.min(t[1],e[1]),i}function yr(i,t,e){return i[0]=Math.max(t[0],e[0]),i[1]=Math.max(t[1],e[1]),i}var er=function(){function i(t,e){this.target=t,this.topTarget=e&&e.topTarget}return i}(),zC=function(){function i(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return i.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new er(e,t),"dragstart",t.event))},i.prototype._drag=function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,r=t.offsetY,a=n-this._x,s=r-this._y;this._x=n,this._y=r,e.drift(a,s,t),this.handler.dispatchToElement(new er(e,t),"drag",t.event);var o=this.handler.findHover(n,r,e).target,l=this._dropTarget;this._dropTarget=o,e!==o&&(l&&o!==l&&this.handler.dispatchToElement(new er(l,t),"dragleave",t.event),o&&o!==l&&this.handler.dispatchToElement(new er(o,t),"dragenter",t.event))}},i.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new er(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new er(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},i}(),oi=function(){function i(t){t&&(this._$eventProcessor=t)}return i.prototype.on=function(t,e,n,r){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof e=="function"&&(r=n,n=e,e=null),!n||!t)return this;var s=this._$eventProcessor;e!=null&&s&&s.normalizeQuery&&(e=s.normalizeQuery(e)),a[t]||(a[t]=[]);for(var o=0;o<a[t].length;o++)if(a[t][o].h===n)return this;var l={h:n,query:e,ctx:r||this,callAtLast:n.zrEventfulCallAtLast},u=a[t].length-1,h=a[t][u];return h&&h.callAtLast?a[t].splice(u,0,l):a[t].push(l),this},i.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},i.prototype.off=function(t,e){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var r=[],a=0,s=n[t].length;a<s;a++)n[t][a].h!==e&&r.push(n[t][a]);n[t]=r}n[t]&&n[t].length===0&&delete n[t]}else delete n[t];return this},i.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[t],a=this._$eventProcessor;if(r)for(var s=e.length,o=r.length,l=0;l<o;l++){var u=r[l];if(!(a&&a.filter&&u.query!=null&&!a.filter(t,u.query)))switch(s){case 0:u.h.call(u.ctx);break;case 1:u.h.call(u.ctx,e[0]);break;case 2:u.h.call(u.ctx,e[0],e[1]);break;default:u.h.apply(u.ctx,e);break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},i.prototype.triggerWithContext=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[t],a=this._$eventProcessor;if(r)for(var s=e.length,o=e[s-1],l=r.length,u=0;u<l;u++){var h=r[u];if(!(a&&a.filter&&h.query!=null&&!a.filter(t,h.query)))switch(s){case 0:h.h.call(o);break;case 1:h.h.call(o,e[0]);break;case 2:h.h.call(o,e[0],e[1]);break;default:h.h.apply(o,e.slice(1,s-1));break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},i}(),NC=Math.log(2);function Zh(i,t,e,n,r,a){var s=n+"-"+r,o=i.length;if(a.hasOwnProperty(s))return a[s];if(t===1){var l=Math.round(Math.log((1<<o)-1&~r)/NC);return i[e][l]}for(var u=n|1<<e,h=e+1;n&1<<h;)h++;for(var c=0,f=0,d=0;f<o;f++){var p=1<<f;p&r||(c+=(d%2?-1:1)*i[e][f]*Zh(i,t-1,h,u,r|p,a),d++)}return a[s]=c,c}function Ip(i,t){var e=[[i[0],i[1],1,0,0,0,-t[0]*i[0],-t[0]*i[1]],[0,0,0,i[0],i[1],1,-t[1]*i[0],-t[1]*i[1]],[i[2],i[3],1,0,0,0,-t[2]*i[2],-t[2]*i[3]],[0,0,0,i[2],i[3],1,-t[3]*i[2],-t[3]*i[3]],[i[4],i[5],1,0,0,0,-t[4]*i[4],-t[4]*i[5]],[0,0,0,i[4],i[5],1,-t[5]*i[4],-t[5]*i[5]],[i[6],i[7],1,0,0,0,-t[6]*i[6],-t[6]*i[7]],[0,0,0,i[6],i[7],1,-t[7]*i[6],-t[7]*i[7]]],n={},r=Zh(e,8,0,0,0,n);if(r!==0){for(var a=[],s=0;s<8;s++)for(var o=0;o<8;o++)a[o]==null&&(a[o]=0),a[o]+=((s+o)%2?-1:1)*Zh(e,7,s===0?1:0,1<<s,1<<o,n)/r*t[s];return function(l,u,h){var c=u*a[6]+h*a[7]+1;l[0]=(u*a[0]+h*a[1]+a[2])/c,l[1]=(u*a[3]+h*a[4]+a[5])/c}}}var Rp="___zrEVENTSAVED",gu=[];function VC(i,t,e,n,r){return Kh(gu,t,n,r,!0)&&Kh(i,e,gu[0],gu[1])}function Kh(i,t,e,n,r){if(t.getBoundingClientRect&&$.domSupported&&!V_(t)){var a=t[Rp]||(t[Rp]={}),s=HC(t,a),o=WC(s,a,r);if(o)return o(i,e,n),!0}return!1}function HC(i,t){var e=t.markers;if(e)return e;e=t.markers=[];for(var n=["left","right"],r=["top","bottom"],a=0;a<4;a++){var s=document.createElement("div"),o=s.style,l=a%2,u=(a>>1)%2;o.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",r[u]+":0",n[1-l]+":auto",r[1-u]+":auto",""].join("!important;"),i.appendChild(s),e.push(s)}return e}function WC(i,t,e){for(var n=e?"invTrans":"trans",r=t[n],a=t.srcCoords,s=[],o=[],l=!0,u=0;u<4;u++){var h=i[u].getBoundingClientRect(),c=2*u,f=h.left,d=h.top;s.push(f,d),l=l&&a&&f===a[c]&&d===a[c+1],o.push(i[u].offsetLeft,i[u].offsetTop)}return l&&r?r:(t.srcCoords=s,t[n]=e?Ip(o,s):Ip(s,o))}function V_(i){return i.nodeName.toUpperCase()==="CANVAS"}var UC=/([&<>"'])/g,GC={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function oe(i){return i==null?"":(i+"").replace(UC,function(t,e){return GC[e]})}var YC=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,mu=[],XC=$.browser.firefox&&+$.browser.version.split(".")[0]<39;function Qh(i,t,e,n){return e=e||{},n?Op(i,t,e):XC&&t.layerX!=null&&t.layerX!==t.offsetX?(e.zrX=t.layerX,e.zrY=t.layerY):t.offsetX!=null?(e.zrX=t.offsetX,e.zrY=t.offsetY):Op(i,t,e),e}function Op(i,t,e){if($.domSupported&&i.getBoundingClientRect){var n=t.clientX,r=t.clientY;if(V_(i)){var a=i.getBoundingClientRect();e.zrX=n-a.left,e.zrY=r-a.top;return}else if(Kh(mu,i,n,r)){e.zrX=mu[0],e.zrY=mu[1];return}}e.zrX=e.zrY=0}function ff(i){return i||window.event}function Le(i,t,e){if(t=ff(t),t.zrX!=null)return t;var n=t.type,r=n&&n.indexOf("touch")>=0;if(r){var s=n!=="touchend"?t.targetTouches[0]:t.changedTouches[0];s&&Qh(i,s,t,e)}else{Qh(i,t,t,e);var a=$C(t);t.zrDelta=a?a/120:-(t.detail||0)/3}var o=t.button;return t.which==null&&o!==void 0&&YC.test(t.type)&&(t.which=o&1?1:o&2?3:o&4?2:0),t}function $C(i){var t=i.wheelDelta;if(t)return t;var e=i.deltaX,n=i.deltaY;if(e==null||n==null)return t;var r=Math.abs(n!==0?n:e),a=n>0?-1:n<0?1:e>0?-1:1;return 3*r*a}function jC(i,t,e,n){i.addEventListener(t,e,n)}function qC(i,t,e,n){i.removeEventListener(t,e,n)}var H_=function(i){i.preventDefault(),i.stopPropagation(),i.cancelBubble=!0},ZC=function(){function i(){this._track=[]}return i.prototype.recognize=function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},i.prototype.clear=function(){return this._track.length=0,this},i.prototype._doTrack=function(t,e,n){var r=t.touches;if(r){for(var a={points:[],touches:[],target:e,event:t},s=0,o=r.length;s<o;s++){var l=r[s],u=Qh(n,l,{});a.points.push([u.zrX,u.zrY]),a.touches.push(l)}this._track.push(a)}},i.prototype._recognize=function(t){for(var e in _u)if(_u.hasOwnProperty(e)){var n=_u[e](this._track,t);if(n)return n}},i}();function Ep(i){var t=i[1][0]-i[0][0],e=i[1][1]-i[0][1];return Math.sqrt(t*t+e*e)}function KC(i){return[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]}var _u={pinch:function(i,t){var e=i.length;if(e){var n=(i[e-1]||{}).points,r=(i[e-2]||{}).points||n;if(r&&r.length>1&&n&&n.length>1){var a=Ep(n)/Ep(r);!isFinite(a)&&(a=1),t.pinchScale=a;var s=KC(n);return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:i[0].target,event:t}}}}};function Tr(){return[1,0,0,1,0,0]}function df(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=1,i[4]=0,i[5]=0,i}function QC(i,t){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4],i[5]=t[5],i}function Cr(i,t,e){var n=t[0]*e[0]+t[2]*e[1],r=t[1]*e[0]+t[3]*e[1],a=t[0]*e[2]+t[2]*e[3],s=t[1]*e[2]+t[3]*e[3],o=t[0]*e[4]+t[2]*e[5]+t[4],l=t[1]*e[4]+t[3]*e[5]+t[5];return i[0]=n,i[1]=r,i[2]=a,i[3]=s,i[4]=o,i[5]=l,i}function Jh(i,t,e){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i[4]=t[4]+e[0],i[5]=t[5]+e[1],i}function pf(i,t,e,n){n===void 0&&(n=[0,0]);var r=t[0],a=t[2],s=t[4],o=t[1],l=t[3],u=t[5],h=Math.sin(e),c=Math.cos(e);return i[0]=r*c+o*h,i[1]=-r*h+o*c,i[2]=a*c+l*h,i[3]=-a*h+c*l,i[4]=c*(s-n[0])+h*(u-n[1])+n[0],i[5]=c*(u-n[1])-h*(s-n[0])+n[1],i}function JC(i,t,e){var n=e[0],r=e[1];return i[0]=t[0]*n,i[1]=t[1]*r,i[2]=t[2]*n,i[3]=t[3]*r,i[4]=t[4]*n,i[5]=t[5]*r,i}function W_(i,t){var e=t[0],n=t[2],r=t[4],a=t[1],s=t[3],o=t[5],l=e*s-a*n;return l?(l=1/l,i[0]=s*l,i[1]=-a*l,i[2]=-n*l,i[3]=e*l,i[4]=(n*o-s*r)*l,i[5]=(a*r-e*o)*l,i):null}var q=function(){function i(t,e){this.x=t||0,this.y=e||0}return i.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.set=function(t,e){return this.x=t,this.y=e,this},i.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},i.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},i.prototype.scale=function(t){this.x*=t,this.y*=t},i.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},i.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},i.prototype.dot=function(t){return this.x*t.x+this.y*t.y},i.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},i.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},i.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},i.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},i.prototype.distanceSquare=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},i.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},i.prototype.transform=function(t){if(t){var e=this.x,n=this.y;return this.x=t[0]*e+t[2]*n+t[4],this.y=t[1]*e+t[3]*n+t[5],this}},i.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},i.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},i.set=function(t,e,n){t.x=e,t.y=n},i.copy=function(t,e){t.x=e.x,t.y=e.y},i.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},i.lenSquare=function(t){return t.x*t.x+t.y*t.y},i.dot=function(t,e){return t.x*e.x+t.y*e.y},i.add=function(t,e,n){t.x=e.x+n.x,t.y=e.y+n.y},i.sub=function(t,e,n){t.x=e.x-n.x,t.y=e.y-n.y},i.scale=function(t,e,n){t.x=e.x*n,t.y=e.y*n},i.scaleAndAdd=function(t,e,n,r){t.x=e.x+n.x*r,t.y=e.y+n.y*r},i.lerp=function(t,e,n,r){var a=1-r;t.x=a*e.x+r*n.x,t.y=a*e.y+r*n.y},i}(),Us=Math.min,Gs=Math.max,un=new q,hn=new q,cn=new q,fn=new q,Zr=new q,Kr=new q,ct=function(){function i(t,e,n,r){n<0&&(t=t+n,n=-n),r<0&&(e=e+r,r=-r),this.x=t,this.y=e,this.width=n,this.height=r}return i.prototype.union=function(t){var e=Us(t.x,this.x),n=Us(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=Gs(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=Gs(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=e,this.y=n},i.prototype.applyTransform=function(t){i.applyTransform(this,this,t)},i.prototype.calculateTransform=function(t){var e=this,n=t.width/e.width,r=t.height/e.height,a=Tr();return Jh(a,a,[-e.x,-e.y]),JC(a,a,[n,r]),Jh(a,a,[t.x,t.y]),a},i.prototype.intersect=function(t,e){if(!t)return!1;t instanceof i||(t=i.create(t));var n=this,r=n.x,a=n.x+n.width,s=n.y,o=n.y+n.height,l=t.x,u=t.x+t.width,h=t.y,c=t.y+t.height,f=!(a<l||u<r||o<h||c<s);if(e){var d=1/0,p=0,g=Math.abs(a-l),v=Math.abs(u-r),m=Math.abs(o-h),_=Math.abs(c-s),y=Math.min(g,v),b=Math.min(m,_);a<l||u<r?y>p&&(p=y,g<v?q.set(Kr,-g,0):q.set(Kr,v,0)):y<d&&(d=y,g<v?q.set(Zr,g,0):q.set(Zr,-v,0)),o<h||c<s?b>p&&(p=b,m<_?q.set(Kr,0,-m):q.set(Kr,0,_)):y<d&&(d=y,m<_?q.set(Zr,0,m):q.set(Zr,0,-_))}return e&&q.copy(e,f?Zr:Kr),f},i.prototype.contain=function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.copy=function(t){i.copy(this,t)},i.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},i.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},i.prototype.isZero=function(){return this.width===0||this.height===0},i.create=function(t){return new i(t.x,t.y,t.width,t.height)},i.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},i.applyTransform=function(t,e,n){if(!n){t!==e&&i.copy(t,e);return}if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var r=n[0],a=n[3],s=n[4],o=n[5];t.x=e.x*r+s,t.y=e.y*a+o,t.width=e.width*r,t.height=e.height*a,t.width<0&&(t.x+=t.width,t.width=-t.width),t.height<0&&(t.y+=t.height,t.height=-t.height);return}un.x=cn.x=e.x,un.y=fn.y=e.y,hn.x=fn.x=e.x+e.width,hn.y=cn.y=e.y+e.height,un.transform(n),fn.transform(n),hn.transform(n),cn.transform(n),t.x=Us(un.x,hn.x,cn.x,fn.x),t.y=Us(un.y,hn.y,cn.y,fn.y);var l=Gs(un.x,hn.x,cn.x,fn.x),u=Gs(un.y,hn.y,cn.y,fn.y);t.width=l-t.x,t.height=u-t.y},i}(),U_="silent";function tM(i,t,e){return{type:i,event:e,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:e.zrX,offsetY:e.zrY,gestureEvent:e.gestureEvent,pinchX:e.pinchX,pinchY:e.pinchY,pinchScale:e.pinchScale,wheelDelta:e.zrDelta,zrByTouch:e.zrByTouch,which:e.which,stop:eM}}function eM(){H_(this.event)}var iM=function(i){ut(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.handler=null,e}return t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}(oi),Qr=function(){function i(t,e){this.x=t,this.y=e}return i}(),nM=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],yu=new ct(0,0,0,0),G_=function(i){ut(t,i);function t(e,n,r,a,s){var o=i.call(this)||this;return o._hovered=new Qr(0,0),o.storage=e,o.painter=n,o.painterRoot=a,o._pointerSize=s,r=r||new iM,o.proxy=null,o.setHandlerProxy(r),o._draggingMgr=new zC(o),o}return t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(A(nM,function(n){e.on&&e.on(n,this[n],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var n=e.zrX,r=e.zrY,a=Y_(this,n,r),s=this._hovered,o=s.target;o&&!o.__zr&&(s=this.findHover(s.x,s.y),o=s.target);var l=this._hovered=a?new Qr(n,r):this.findHover(n,r),u=l.target,h=this.proxy;h.setCursor&&h.setCursor(u?u.cursor:"default"),o&&u!==o&&this.dispatchToElement(s,"mouseout",e),this.dispatchToElement(l,"mousemove",e),u&&u!==o&&this.dispatchToElement(l,"mouseover",e)},t.prototype.mouseout=function(e){var n=e.zrEventControl;n!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",e),n!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new Qr(0,0)},t.prototype.dispatch=function(e,n){var r=this[e];r&&r.call(this,n)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var n=this.proxy;n.setCursor&&n.setCursor(e)},t.prototype.dispatchToElement=function(e,n,r){e=e||{};var a=e.target;if(!(a&&a.silent)){for(var s="on"+n,o=tM(n,e,r);a&&(a[s]&&(o.cancelBubble=!!a[s].call(a,o)),a.trigger(n,o),a=a.__hostTarget?a.__hostTarget:a.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(n,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){typeof l[s]=="function"&&l[s].call(l,o),l.trigger&&l.trigger(n,o)}))}},t.prototype.findHover=function(e,n,r){var a=this.storage.getDisplayList(),s=new Qr(e,n);if(Fp(a,s,e,n,r),this._pointerSize&&!s.target){for(var o=[],l=this._pointerSize,u=l/2,h=new ct(e-u,n-u,l,l),c=a.length-1;c>=0;c--){var f=a[c];f!==r&&!f.ignore&&!f.ignoreCoarsePointer&&(!f.parent||!f.parent.ignoreCoarsePointer)&&(yu.copy(f.getBoundingRect()),f.transform&&yu.applyTransform(f.transform),yu.intersect(h)&&o.push(f))}if(o.length)for(var d=4,p=Math.PI/12,g=Math.PI*2,v=0;v<u;v+=d)for(var m=0;m<g;m+=p){var _=e+v*Math.cos(m),y=n+v*Math.sin(m);if(Fp(o,s,_,y,r),s.target)return s}}return s},t.prototype.processGesture=function(e,n){this._gestureMgr||(this._gestureMgr=new ZC);var r=this._gestureMgr;n==="start"&&r.clear();var a=r.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if(n==="end"&&r.clear(),a){var s=a.type;e.gestureEvent=s;var o=new Qr;o.target=a.target,this.dispatchToElement(o,s,a.event)}},t}(oi);A(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(i){G_.prototype[i]=function(t){var e=t.zrX,n=t.zrY,r=Y_(this,e,n),a,s;if((i!=="mouseup"||!r)&&(a=this.findHover(e,n),s=a.target),i==="mousedown")this._downEl=s,this._downPoint=[t.zrX,t.zrY],this._upEl=s;else if(i==="mouseup")this._upEl=s;else if(i==="click"){if(this._downEl!==this._upEl||!this._downPoint||qh(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,i,t)}});function rM(i,t,e){if(i[i.rectHover?"rectContain":"contain"](t,e)){for(var n=i,r=void 0,a=!1;n;){if(n.ignoreClip&&(a=!0),!a){var s=n.getClipPath();if(s&&!s.contain(t,e))return!1}n.silent&&(r=!0);var o=n.__hostTarget;n=o||n.parent}return r?U_:!0}return!1}function Fp(i,t,e,n,r){for(var a=i.length-1;a>=0;a--){var s=i[a],o=void 0;if(s!==r&&!s.ignore&&(o=rM(s,e,n))&&(!t.topTarget&&(t.topTarget=s),o!==U_)){t.target=s;break}}}function Y_(i,t,e){var n=i.painter;return t<0||t>n.getWidth()||e<0||e>n.getHeight()}var X_=32,Jr=7;function aM(i){for(var t=0;i>=X_;)t|=i&1,i>>=1;return i+t}function Bp(i,t,e,n){var r=t+1;if(r===e)return 1;if(n(i[r++],i[t])<0){for(;r<e&&n(i[r],i[r-1])<0;)r++;sM(i,t,r)}else for(;r<e&&n(i[r],i[r-1])>=0;)r++;return r-t}function sM(i,t,e){for(e--;t<e;){var n=i[t];i[t++]=i[e],i[e--]=n}}function zp(i,t,e,n,r){for(n===t&&n++;n<e;n++){for(var a=i[n],s=t,o=n,l;s<o;)l=s+o>>>1,r(a,i[l])<0?o=l:s=l+1;var u=n-s;switch(u){case 3:i[s+3]=i[s+2];case 2:i[s+2]=i[s+1];case 1:i[s+1]=i[s];break;default:for(;u>0;)i[s+u]=i[s+u-1],u--}i[s]=a}}function bu(i,t,e,n,r,a){var s=0,o=0,l=1;if(a(i,t[e+r])>0){for(o=n-r;l<o&&a(i,t[e+r+l])>0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=r,l+=r}else{for(o=r+1;l<o&&a(i,t[e+r-l])<=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var u=s;s=r-l,l=r-u}for(s++;s<l;){var h=s+(l-s>>>1);a(i,t[e+h])>0?s=h+1:l=h}return l}function xu(i,t,e,n,r,a){var s=0,o=0,l=1;if(a(i,t[e+r])<0){for(o=r+1;l<o&&a(i,t[e+r-l])<0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o);var u=s;s=r-l,l=r-u}else{for(o=n-r;l<o&&a(i,t[e+r+l])>=0;)s=l,l=(l<<1)+1,l<=0&&(l=o);l>o&&(l=o),s+=r,l+=r}for(s++;s<l;){var h=s+(l-s>>>1);a(i,t[e+h])<0?l=h:s=h+1}return l}function oM(i,t){var e=Jr,n,r,a=0,s=[];n=[],r=[];function o(d,p){n[a]=d,r[a]=p,a+=1}function l(){for(;a>1;){var d=a-2;if(d>=1&&r[d-1]<=r[d]+r[d+1]||d>=2&&r[d-2]<=r[d]+r[d-1])r[d-1]<r[d+1]&&d--;else if(r[d]>r[d+1])break;h(d)}}function u(){for(;a>1;){var d=a-2;d>0&&r[d-1]<r[d+1]&&d--,h(d)}}function h(d){var p=n[d],g=r[d],v=n[d+1],m=r[d+1];r[d]=g+m,d===a-3&&(n[d+1]=n[d+2],r[d+1]=r[d+2]),a--;var _=xu(i[v],i,p,g,0,t);p+=_,g-=_,g!==0&&(m=bu(i[p+g-1],i,v,m,m-1,t),m!==0&&(g<=m?c(p,g,v,m):f(p,g,v,m)))}function c(d,p,g,v){var m=0;for(m=0;m<p;m++)s[m]=i[d+m];var _=0,y=g,b=d;if(i[b++]=i[y++],--v===0){for(m=0;m<p;m++)i[b+m]=s[_+m];return}if(p===1){for(m=0;m<v;m++)i[b+m]=i[y+m];i[b+v]=s[_];return}for(var w=e,x,S,T;;){x=0,S=0,T=!1;do if(t(i[y],s[_])<0){if(i[b++]=i[y++],S++,x=0,--v===0){T=!0;break}}else if(i[b++]=s[_++],x++,S=0,--p===1){T=!0;break}while((x|S)<w);if(T)break;do{if(x=xu(i[y],s,_,p,0,t),x!==0){for(m=0;m<x;m++)i[b+m]=s[_+m];if(b+=x,_+=x,p-=x,p<=1){T=!0;break}}if(i[b++]=i[y++],--v===0){T=!0;break}if(S=bu(s[_],i,y,v,0,t),S!==0){for(m=0;m<S;m++)i[b+m]=i[y+m];if(b+=S,y+=S,v-=S,v===0){T=!0;break}}if(i[b++]=s[_++],--p===1){T=!0;break}w--}while(x>=Jr||S>=Jr);if(T)break;w<0&&(w=0),w+=2}if(e=w,e<1&&(e=1),p===1){for(m=0;m<v;m++)i[b+m]=i[y+m];i[b+v]=s[_]}else{if(p===0)throw new Error;for(m=0;m<p;m++)i[b+m]=s[_+m]}}function f(d,p,g,v){var m=0;for(m=0;m<v;m++)s[m]=i[g+m];var _=d+p-1,y=v-1,b=g+v-1,w=0,x=0;if(i[b--]=i[_--],--p===0){for(w=b-(v-1),m=0;m<v;m++)i[w+m]=s[m];return}if(v===1){for(b-=p,_-=p,x=b+1,w=_+1,m=p-1;m>=0;m--)i[x+m]=i[w+m];i[b]=s[y];return}for(var S=e;;){var T=0,C=0,M=!1;do if(t(s[y],i[_])<0){if(i[b--]=i[_--],T++,C=0,--p===0){M=!0;break}}else if(i[b--]=s[y--],C++,T=0,--v===1){M=!0;break}while((T|C)<S);if(M)break;do{if(T=p-xu(s[y],i,d,p,p-1,t),T!==0){for(b-=T,_-=T,p-=T,x=b+1,w=_+1,m=T-1;m>=0;m--)i[x+m]=i[w+m];if(p===0){M=!0;break}}if(i[b--]=s[y--],--v===1){M=!0;break}if(C=v-bu(i[_],s,0,v,v-1,t),C!==0){for(b-=C,y-=C,v-=C,x=b+1,w=y+1,m=0;m<C;m++)i[x+m]=s[w+m];if(v<=1){M=!0;break}}if(i[b--]=i[_--],--p===0){M=!0;break}S--}while(T>=Jr||C>=Jr);if(M)break;S<0&&(S=0),S+=2}if(e=S,e<1&&(e=1),v===1){for(b-=p,_-=p,x=b+1,w=_+1,m=p-1;m>=0;m--)i[x+m]=i[w+m];i[b]=s[y]}else{if(v===0)throw new Error;for(w=b-(v-1),m=0;m<v;m++)i[w+m]=s[m]}}return{mergeRuns:l,forceMergeRuns:u,pushRun:o}}function Eo(i,t,e,n){e||(e=0),n||(n=i.length);var r=n-e;if(!(r<2)){var a=0;if(r<X_){a=Bp(i,e,n,t),zp(i,e,n,e+a,t);return}var s=oM(i,t),o=aM(r);do{if(a=Bp(i,e,n,t),a<o){var l=r;l>o&&(l=o),zp(i,e,e+l,e+a,t),a=l}s.pushRun(e,a),s.mergeRuns(),r-=a,e+=a}while(r!==0);s.forceMergeRuns()}}var Se=1,Ta=2,gr=4,Np=!1;function wu(){Np||(Np=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Vp(i,t){return i.zlevel===t.zlevel?i.z===t.z?i.z2-t.z2:i.z-t.z:i.zlevel-t.zlevel}var lM=function(){function i(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Vp}return i.prototype.traverse=function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},i.prototype.getDisplayList=function(t,e){e=e||!1;var n=this._displayList;return(t||!n.length)&&this.updateDisplayList(e),n},i.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,r=0,a=e.length;r<a;r++)this._updateAndAddDisplayable(e[r],null,t);n.length=this._displayListLen,Eo(n,Vp)},i.prototype._updateAndAddDisplayable=function(t,e,n){if(!(t.ignore&&!n)){t.beforeUpdate(),t.update(),t.afterUpdate();var r=t.getClipPath();if(t.ignoreClip)e=null;else if(r){e?e=e.slice():e=[];for(var a=r,s=t;a;)a.parent=s,a.updateTransform(),e.push(a),s=a,a=a.getClipPath()}if(t.childrenRef){for(var o=t.childrenRef(),l=0;l<o.length;l++){var u=o[l];t.__dirty&&(u.__dirty|=Se),this._updateAndAddDisplayable(u,e,n)}t.__dirty=0}else{var h=t;e&&e.length?h.__clipPaths=e:h.__clipPaths&&h.__clipPaths.length>0&&(h.__clipPaths=[]),isNaN(h.z)&&(wu(),h.z=0),isNaN(h.z2)&&(wu(),h.z2=0),isNaN(h.zlevel)&&(wu(),h.zlevel=0),this._displayList[this._displayListLen++]=h}var c=t.getDecalElement&&t.getDecalElement();c&&this._updateAndAddDisplayable(c,e,n);var f=t.getTextGuideLine();f&&this._updateAndAddDisplayable(f,e,n);var d=t.getTextContent();d&&this._updateAndAddDisplayable(d,e,n)}},i.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},i.prototype.delRoot=function(t){if(t instanceof Array){for(var e=0,n=t.length;e<n;e++)this.delRoot(t[e]);return}var r=gt(this._roots,t);r>=0&&this._roots.splice(r,1)},i.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},i.prototype.getRoots=function(){return this._roots},i.prototype.dispose=function(){this._displayList=null,this._roots=null},i}(),rl;rl=$.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(i){return setTimeout(i,16)};var Ba={linear:function(i){return i},quadraticIn:function(i){return i*i},quadraticOut:function(i){return i*(2-i)},quadraticInOut:function(i){return(i*=2)<1?.5*i*i:-.5*(--i*(i-2)-1)},cubicIn:function(i){return i*i*i},cubicOut:function(i){return--i*i*i+1},cubicInOut:function(i){return(i*=2)<1?.5*i*i*i:.5*((i-=2)*i*i+2)},quarticIn:function(i){return i*i*i*i},quarticOut:function(i){return 1- --i*i*i*i},quarticInOut:function(i){return(i*=2)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2)},quinticIn:function(i){return i*i*i*i*i},quinticOut:function(i){return--i*i*i*i*i+1},quinticInOut:function(i){return(i*=2)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2)},sinusoidalIn:function(i){return 1-Math.cos(i*Math.PI/2)},sinusoidalOut:function(i){return Math.sin(i*Math.PI/2)},sinusoidalInOut:function(i){return .5*(1-Math.cos(Math.PI*i))},exponentialIn:function(i){return i===0?0:Math.pow(1024,i-1)},exponentialOut:function(i){return i===1?1:1-Math.pow(2,-10*i)},exponentialInOut:function(i){return i===0?0:i===1?1:(i*=2)<1?.5*Math.pow(1024,i-1):.5*(-Math.pow(2,-10*(i-1))+2)},circularIn:function(i){return 1-Math.sqrt(1-i*i)},circularOut:function(i){return Math.sqrt(1- --i*i)},circularInOut:function(i){return(i*=2)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1)},elasticIn:function(i){var t,e=.1,n=.4;return i===0?0:i===1?1:(!e||e<1?(e=1,t=n/4):t=n*Math.asin(1/e)/(2*Math.PI),-(e*Math.pow(2,10*(i-=1))*Math.sin((i-t)*(2*Math.PI)/n)))},elasticOut:function(i){var t,e=.1,n=.4;return i===0?0:i===1?1:(!e||e<1?(e=1,t=n/4):t=n*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*i)*Math.sin((i-t)*(2*Math.PI)/n)+1)},elasticInOut:function(i){var t,e=.1,n=.4;return i===0?0:i===1?1:(!e||e<1?(e=1,t=n/4):t=n*Math.asin(1/e)/(2*Math.PI),(i*=2)<1?-.5*(e*Math.pow(2,10*(i-=1))*Math.sin((i-t)*(2*Math.PI)/n)):e*Math.pow(2,-10*(i-=1))*Math.sin((i-t)*(2*Math.PI)/n)*.5+1)},backIn:function(i){var t=1.70158;return i*i*((t+1)*i-t)},backOut:function(i){var t=1.70158;return--i*i*((t+1)*i+t)+1},backInOut:function(i){var t=2.5949095;return(i*=2)<1?.5*(i*i*((t+1)*i-t)):.5*((i-=2)*i*((t+1)*i+t)+2)},bounceIn:function(i){return 1-Ba.bounceOut(1-i)},bounceOut:function(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},bounceInOut:function(i){return i<.5?Ba.bounceIn(i*2)*.5:Ba.bounceOut(i*2-1)*.5+.5}},Ys=Math.pow,Zi=Math.sqrt,al=1e-8,$_=1e-4,Hp=Zi(3),Xs=1/3,Je=Br(),Oe=Br(),Mr=Br();function Yi(i){return i>-al&&i<al}function j_(i){return i>al||i<-al}function ee(i,t,e,n,r){var a=1-r;return a*a*(a*i+3*r*t)+r*r*(r*n+3*a*e)}function Wp(i,t,e,n,r){var a=1-r;return 3*(((t-i)*a+2*(e-t)*r)*a+(n-e)*r*r)}function q_(i,t,e,n,r,a){var s=n+3*(t-e)-i,o=3*(e-t*2+i),l=3*(t-i),u=i-r,h=o*o-3*s*l,c=o*l-9*s*u,f=l*l-3*o*u,d=0;if(Yi(h)&&Yi(c))if(Yi(o))a[0]=0;else{var p=-l/o;p>=0&&p<=1&&(a[d++]=p)}else{var g=c*c-4*h*f;if(Yi(g)){var v=c/h,p=-o/s+v,m=-v/2;p>=0&&p<=1&&(a[d++]=p),m>=0&&m<=1&&(a[d++]=m)}else if(g>0){var _=Zi(g),y=h*o+1.5*s*(-c+_),b=h*o+1.5*s*(-c-_);y<0?y=-Ys(-y,Xs):y=Ys(y,Xs),b<0?b=-Ys(-b,Xs):b=Ys(b,Xs);var p=(-o-(y+b))/(3*s);p>=0&&p<=1&&(a[d++]=p)}else{var w=(2*h*o-3*s*c)/(2*Zi(h*h*h)),x=Math.acos(w)/3,S=Zi(h),T=Math.cos(x),p=(-o-2*S*T)/(3*s),m=(-o+S*(T+Hp*Math.sin(x)))/(3*s),C=(-o+S*(T-Hp*Math.sin(x)))/(3*s);p>=0&&p<=1&&(a[d++]=p),m>=0&&m<=1&&(a[d++]=m),C>=0&&C<=1&&(a[d++]=C)}}return d}function Z_(i,t,e,n,r){var a=6*e-12*t+6*i,s=9*t+3*n-3*i-9*e,o=3*t-3*i,l=0;if(Yi(s)){if(j_(a)){var u=-o/a;u>=0&&u<=1&&(r[l++]=u)}}else{var h=a*a-4*s*o;if(Yi(h))r[0]=-a/(2*s);else if(h>0){var c=Zi(h),u=(-a+c)/(2*s),f=(-a-c)/(2*s);u>=0&&u<=1&&(r[l++]=u),f>=0&&f<=1&&(r[l++]=f)}}return l}function sl(i,t,e,n,r,a){var s=(t-i)*r+i,o=(e-t)*r+t,l=(n-e)*r+e,u=(o-s)*r+s,h=(l-o)*r+o,c=(h-u)*r+u;a[0]=i,a[1]=s,a[2]=u,a[3]=c,a[4]=c,a[5]=h,a[6]=l,a[7]=n}function uM(i,t,e,n,r,a,s,o,l,u,h){var c,f=.005,d=1/0,p,g,v,m;Je[0]=l,Je[1]=u;for(var _=0;_<1;_+=.05)Oe[0]=ee(i,e,r,s,_),Oe[1]=ee(t,n,a,o,_),v=Sr(Je,Oe),v<d&&(c=_,d=v);d=1/0;for(var y=0;y<32&&!(f<$_);y++)p=c-f,g=c+f,Oe[0]=ee(i,e,r,s,p),Oe[1]=ee(t,n,a,o,p),v=Sr(Oe,Je),p>=0&&v<d?(c=p,d=v):(Mr[0]=ee(i,e,r,s,g),Mr[1]=ee(t,n,a,o,g),m=Sr(Mr,Je),g<=1&&m<d?(c=g,d=m):f*=.5);return Zi(d)}function hM(i,t,e,n,r,a,s,o,l){for(var u=i,h=t,c=0,f=1/l,d=1;d<=l;d++){var p=d*f,g=ee(i,e,r,s,p),v=ee(t,n,a,o,p),m=g-u,_=v-h;c+=Math.sqrt(m*m+_*_),u=g,h=v}return c}function le(i,t,e,n){var r=1-n;return r*(r*i+2*n*t)+n*n*e}function Up(i,t,e,n){return 2*((1-n)*(t-i)+n*(e-t))}function cM(i,t,e,n,r){var a=i-2*t+e,s=2*(t-i),o=i-n,l=0;if(Yi(a)){if(j_(s)){var u=-o/s;u>=0&&u<=1&&(r[l++]=u)}}else{var h=s*s-4*a*o;if(Yi(h)){var u=-s/(2*a);u>=0&&u<=1&&(r[l++]=u)}else if(h>0){var c=Zi(h),u=(-s+c)/(2*a),f=(-s-c)/(2*a);u>=0&&u<=1&&(r[l++]=u),f>=0&&f<=1&&(r[l++]=f)}}return l}function K_(i,t,e){var n=i+e-2*t;return n===0?.5:(i-t)/n}function ol(i,t,e,n,r){var a=(t-i)*n+i,s=(e-t)*n+t,o=(s-a)*n+a;r[0]=i,r[1]=a,r[2]=o,r[3]=o,r[4]=s,r[5]=e}function fM(i,t,e,n,r,a,s,o,l){var u,h=.005,c=1/0;Je[0]=s,Je[1]=o;for(var f=0;f<1;f+=.05){Oe[0]=le(i,e,r,f),Oe[1]=le(t,n,a,f);var d=Sr(Je,Oe);d<c&&(u=f,c=d)}c=1/0;for(var p=0;p<32&&!(h<$_);p++){var g=u-h,v=u+h;Oe[0]=le(i,e,r,g),Oe[1]=le(t,n,a,g);var d=Sr(Oe,Je);if(g>=0&&d<c)u=g,c=d;else{Mr[0]=le(i,e,r,v),Mr[1]=le(t,n,a,v);var m=Sr(Mr,Je);v<=1&&m<c?(u=v,c=m):h*=.5}}return Zi(c)}function dM(i,t,e,n,r,a,s){for(var o=i,l=t,u=0,h=1/s,c=1;c<=s;c++){var f=c*h,d=le(i,e,r,f),p=le(t,n,a,f),g=d-o,v=p-l;u+=Math.sqrt(g*g+v*v),o=d,l=p}return u}var pM=/cubic-bezier\(([0-9,\.e ]+)\)/;function Q_(i){var t=i&&pM.exec(i);if(t){var e=t[1].split(","),n=+ei(e[0]),r=+ei(e[1]),a=+ei(e[2]),s=+ei(e[3]);if(isNaN(n+r+a+s))return;var o=[];return function(l){return l<=0?0:l>=1?1:q_(0,n,a,1,l,o)&&ee(0,r,s,1,o[0])}}}var vM=function(){function i(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||fe,this.ondestroy=t.ondestroy||fe,this.onrestart=t.onrestart||fe,t.easing&&this.setEasing(t.easing)}return i.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),this._paused){this._pausedTime+=e;return}var n=this._life,r=t-this._startTime-this._pausedTime,a=r/n;a<0&&(a=0),a=Math.min(a,1);var s=this.easingFunc,o=s?s(a):a;if(this.onframe(o),a===1)if(this.loop){var l=r%n;this._startTime=t-l,this._pausedTime=0,this.onrestart()}else return!0;return!1},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){this._paused=!1},i.prototype.setEasing=function(t){this.easing=t,this.easingFunc=ot(t)?t:Ba[t]||Q_(t)},i}(),J_=function(){function i(t){this.value=t}return i}(),gM=function(){function i(){this._len=0}return i.prototype.insert=function(t){var e=new J_(t);return this.insertEntry(e),e},i.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},i.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},i.prototype.len=function(){return this._len},i.prototype.clear=function(){this.head=this.tail=null,this._len=0},i}(),ys=function(){function i(t){this._list=new gM,this._maxSize=10,this._map={},this._maxSize=t}return i.prototype.put=function(t,e){var n=this._list,r=this._map,a=null;if(r[t]==null){var s=n.len(),o=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var l=n.head;n.remove(l),delete r[l.key],a=l.value,this._lastRemovedEntry=l}o?o.value=e:o=new J_(e),o.key=t,n.insertEntry(o),r[t]=o}return a},i.prototype.get=function(t){var e=this._map[t],n=this._list;if(e!=null)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},i.prototype.clear=function(){this._list.clear(),this._map={}},i.prototype.len=function(){return this._list.len()},i}(),Gp={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function za(i){return i=Math.round(i),i<0?0:i>255?255:i}function Yp(i){return i<0?0:i>1?1:i}function Su(i){var t=i;return t.length&&t.charAt(t.length-1)==="%"?za(parseFloat(t)/100*255):za(parseInt(t,10))}function Na(i){var t=i;return t.length&&t.charAt(t.length-1)==="%"?Yp(parseFloat(t)/100):Yp(parseFloat(t))}function Tu(i,t,e){return e<0?e+=1:e>1&&(e-=1),e*6<1?i+(t-i)*e*6:e*2<1?t:e*3<2?i+(t-i)*(2/3-e)*6:i}function Pe(i,t,e,n,r){return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function tc(i,t){return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i}var ty=new ys(20),$s=null;function ir(i,t){$s&&tc($s,t),$s=ty.put(i,$s||t.slice())}function Vn(i,t){if(i){t=t||[];var e=ty.get(i);if(e)return tc(t,e);i=i+"";var n=i.replace(/ /g,"").toLowerCase();if(n in Gp)return tc(t,Gp[n]),ir(i,t),t;var r=n.length;if(n.charAt(0)==="#"){if(r===4||r===5){var a=parseInt(n.slice(1,4),16);if(!(a>=0&&a<=4095)){Pe(t,0,0,0,1);return}return Pe(t,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,r===5?parseInt(n.slice(4),16)/15:1),ir(i,t),t}else if(r===7||r===9){var a=parseInt(n.slice(1,7),16);if(!(a>=0&&a<=16777215)){Pe(t,0,0,0,1);return}return Pe(t,(a&16711680)>>16,(a&65280)>>8,a&255,r===9?parseInt(n.slice(7),16)/255:1),ir(i,t),t}return}var s=n.indexOf("("),o=n.indexOf(")");if(s!==-1&&o+1===r){var l=n.substr(0,s),u=n.substr(s+1,o-(s+1)).split(","),h=1;switch(l){case"rgba":if(u.length!==4)return u.length===3?Pe(t,+u[0],+u[1],+u[2],1):Pe(t,0,0,0,1);h=Na(u.pop());case"rgb":if(u.length>=3)return Pe(t,Su(u[0]),Su(u[1]),Su(u[2]),u.length===3?h:Na(u[3])),ir(i,t),t;Pe(t,0,0,0,1);return;case"hsla":if(u.length!==4){Pe(t,0,0,0,1);return}return u[3]=Na(u[3]),Xp(u,t),ir(i,t),t;case"hsl":if(u.length!==3){Pe(t,0,0,0,1);return}return Xp(u,t),ir(i,t),t;default:return}}Pe(t,0,0,0,1)}}function Xp(i,t){var e=(parseFloat(i[0])%360+360)%360/360,n=Na(i[1]),r=Na(i[2]),a=r<=.5?r*(n+1):r+n-r*n,s=r*2-a;return t=t||[],Pe(t,za(Tu(s,a,e+1/3)*255),za(Tu(s,a,e)*255),za(Tu(s,a,e-1/3)*255),1),i.length===4&&(t[3]=i[3]),t}function $p(i,t){var e=Vn(i);if(e){for(var n=0;n<3;n++)e[n]=e[n]*(1-t)|0,e[n]>255?e[n]=255:e[n]<0&&(e[n]=0);return vf(e,e.length===4?"rgba":"rgb")}}function vf(i,t){if(!(!i||!i.length)){var e=i[0]+","+i[1]+","+i[2];return(t==="rgba"||t==="hsva"||t==="hsla")&&(e+=","+i[3]),t+"("+e+")"}}function ll(i,t){var e=Vn(i);return e?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*t:0}var jp=new ys(100);function qp(i){if(G(i)){var t=jp.get(i);return t||(t=$p(i,-.1),jp.put(i,t)),t}else if(Ol(i)){var e=F({},i);return e.colorStops=rt(i.colorStops,function(n){return{offset:n.offset,color:$p(n.color,-.1)}}),e}return i}function mM(i){return i.type==="linear"}function _M(i){return i.type==="radial"}(function(){return $.hasGlobalWindow&&ot(window.btoa)?function(i){return window.btoa(unescape(encodeURIComponent(i)))}:typeof Buffer<"u"?function(i){return Buffer.from(i).toString("base64")}:function(i){return null}})();var ec=Array.prototype.slice;function _i(i,t,e){return(t-i)*e+i}function Cu(i,t,e,n){for(var r=t.length,a=0;a<r;a++)i[a]=_i(t[a],e[a],n);return i}function yM(i,t,e,n){for(var r=t.length,a=r&&t[0].length,s=0;s<r;s++){i[s]||(i[s]=[]);for(var o=0;o<a;o++)i[s][o]=_i(t[s][o],e[s][o],n)}return i}function js(i,t,e,n){for(var r=t.length,a=0;a<r;a++)i[a]=t[a]+e[a]*n;return i}function Zp(i,t,e,n){for(var r=t.length,a=r&&t[0].length,s=0;s<r;s++){i[s]||(i[s]=[]);for(var o=0;o<a;o++)i[s][o]=t[s][o]+e[s][o]*n}return i}function bM(i,t){for(var e=i.length,n=t.length,r=e>n?t:i,a=Math.min(e,n),s=r[a-1]||{color:[0,0,0,0],offset:0},o=a;o<Math.max(e,n);o++)r.push({offset:s.offset,color:s.color.slice()})}function xM(i,t,e){var n=i,r=t;if(!(!n.push||!r.push)){var a=n.length,s=r.length;if(a!==s){var o=a>s;if(o)n.length=s;else for(var l=a;l<s;l++)n.push(e===1?r[l]:ec.call(r[l]))}for(var u=n[0]&&n[0].length,l=0;l<n.length;l++)if(e===1)isNaN(n[l])&&(n[l]=r[l]);else for(var h=0;h<u;h++)isNaN(n[l][h])&&(n[l][h]=r[l][h])}}function Fo(i){if(pe(i)){var t=i.length;if(pe(i[0])){for(var e=[],n=0;n<t;n++)e.push(ec.call(i[n]));return e}return ec.call(i)}return i}function Bo(i){return i[0]=Math.floor(i[0])||0,i[1]=Math.floor(i[1])||0,i[2]=Math.floor(i[2])||0,i[3]=i[3]==null?1:i[3],"rgba("+i.join(",")+")"}function wM(i){return pe(i&&i[0])?2:1}var qs=0,zo=1,ey=2,Ca=3,ic=4,nc=5,Kp=6;function Qp(i){return i===ic||i===nc}function Zs(i){return i===zo||i===ey}var ta=[0,0,0,0],SM=function(){function i(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return i.prototype.isFinished=function(){return this._finished},i.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},i.prototype.needsAnimate=function(){return this.keyframes.length>=1},i.prototype.getAdditiveTrack=function(){return this._additiveTrack},i.prototype.addKeyframe=function(t,e,n){this._needsSort=!0;var r=this.keyframes,a=r.length,s=!1,o=Kp,l=e;if(pe(e)){var u=wM(e);o=u,(u===1&&!Rt(e[0])||u===2&&!Rt(e[0][0]))&&(s=!0)}else if(Rt(e)&&!MC(e))o=qs;else if(G(e))if(!isNaN(+e))o=qs;else{var h=Vn(e);h&&(l=h,o=Ca)}else if(Ol(e)){var c=F({},l);c.colorStops=rt(e.colorStops,function(d){return{offset:d.offset,color:Vn(d.color)}}),mM(e)?o=ic:_M(e)&&(o=nc),l=c}a===0?this.valType=o:(o!==this.valType||o===Kp)&&(s=!0),this.discrete=this.discrete||s;var f={time:t,value:l,rawValue:e,percent:0};return n&&(f.easing=n,f.easingFunc=ot(n)?n:Ba[n]||Q_(n)),r.push(f),f},i.prototype.prepare=function(t,e){var n=this.keyframes;this._needsSort&&n.sort(function(g,v){return g.time-v.time});for(var r=this.valType,a=n.length,s=n[a-1],o=this.discrete,l=Zs(r),u=Qp(r),h=0;h<a;h++){var c=n[h],f=c.value,d=s.value;c.percent=c.time/t,o||(l&&h!==a-1?xM(f,d,r):u&&bM(f.colorStops,d.colorStops))}if(!o&&r!==nc&&e&&this.needsAnimate()&&e.needsAnimate()&&r===e.valType&&!e._finished){this._additiveTrack=e;for(var p=n[0].value,h=0;h<a;h++)r===qs?n[h].additiveValue=n[h].value-p:r===Ca?n[h].additiveValue=js([],n[h].value,p,-1):Zs(r)&&(n[h].additiveValue=r===zo?js([],n[h].value,p,-1):Zp([],n[h].value,p,-1))}},i.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n=this._additiveTrack!=null,r=n?"additiveValue":"value",a=this.valType,s=this.keyframes,o=s.length,l=this.propName,u=a===Ca,h,c=this._lastFr,f=Math.min,d,p;if(o===1)d=p=s[0];else{if(e<0)h=0;else if(e<this._lastFrP){var g=f(c+1,o-1);for(h=g;h>=0&&!(s[h].percent<=e);h--);h=f(h,o-2)}else{for(h=c;h<o&&!(s[h].percent>e);h++);h=f(h-1,o-2)}p=s[h+1],d=s[h]}if(d&&p){this._lastFr=h,this._lastFrP=e;var v=p.percent-d.percent,m=v===0?1:f((e-d.percent)/v,1);p.easingFunc&&(m=p.easingFunc(m));var _=n?this._additiveValue:u?ta:t[l];if((Zs(a)||u)&&!_&&(_=this._additiveValue=[]),this.discrete)t[l]=m<1?d.rawValue:p.rawValue;else if(Zs(a))a===zo?Cu(_,d[r],p[r],m):yM(_,d[r],p[r],m);else if(Qp(a)){var y=d[r],b=p[r],w=a===ic;t[l]={type:w?"linear":"radial",x:_i(y.x,b.x,m),y:_i(y.y,b.y,m),colorStops:rt(y.colorStops,function(S,T){var C=b.colorStops[T];return{offset:_i(S.offset,C.offset,m),color:Bo(Cu([],S.color,C.color,m))}}),global:b.global},w?(t[l].x2=_i(y.x2,b.x2,m),t[l].y2=_i(y.y2,b.y2,m)):t[l].r=_i(y.r,b.r,m)}else if(u)Cu(_,d[r],p[r],m),n||(t[l]=Bo(_));else{var x=_i(d[r],p[r],m);n?this._additiveValue=x:t[l]=x}n&&this._addToTarget(t)}}},i.prototype._addToTarget=function(t){var e=this.valType,n=this.propName,r=this._additiveValue;e===qs?t[n]=t[n]+r:e===Ca?(Vn(t[n],ta),js(ta,ta,r,1),t[n]=Bo(ta)):e===zo?js(t[n],t[n],r,1):e===ey&&Zp(t[n],t[n],r,1)},i}(),gf=function(){function i(t,e,n,r){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&r){hf("Can' use additive animation on looped animation.");return}this._additiveAnimators=r,this._allowDiscrete=n}return i.prototype.getMaxTime=function(){return this._maxTime},i.prototype.getDelay=function(){return this._delay},i.prototype.getLoop=function(){return this._loop},i.prototype.getTarget=function(){return this._target},i.prototype.changeTarget=function(t){this._target=t},i.prototype.when=function(t,e,n){return this.whenWithKeys(t,e,It(e),n)},i.prototype.whenWithKeys=function(t,e,n,r){for(var a=this._tracks,s=0;s<n.length;s++){var o=n[s],l=a[o];if(!l){l=a[o]=new SM(o);var u=void 0,h=this._getAdditiveTrack(o);if(h){var c=h.keyframes,f=c[c.length-1];u=f&&f.value,h.valType===Ca&&u&&(u=Bo(u))}else u=this._target[o];if(u==null)continue;t>0&&l.addKeyframe(0,Fo(u),r),this._trackKeys.push(o)}l.addKeyframe(t,Fo(e[o]),r)}return this._maxTime=Math.max(this._maxTime,t),this},i.prototype.pause=function(){this._clip.pause(),this._paused=!0},i.prototype.resume=function(){this._clip.resume(),this._paused=!1},i.prototype.isPaused=function(){return!!this._paused},i.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},i.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,n=0;n<e;n++)t[n].call(this)},i.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var n=0;n<e.length;n++)e[n].call(this)},i.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,n=0;n<e.length;n++)t[e[n]].setFinished()},i.prototype._getAdditiveTrack=function(t){var e,n=this._additiveAnimators;if(n)for(var r=0;r<n.length;r++){var a=n[r].getTrack(t);a&&(e=a)}return e},i.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,n=[],r=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var s=this._trackKeys[a],o=this._tracks[s],l=this._getAdditiveTrack(s),u=o.keyframes,h=u.length;if(o.prepare(r,l),o.needsAnimate())if(!this._allowDiscrete&&o.discrete){var c=u[h-1];c&&(e._target[o.propName]=c.rawValue),o.setFinished()}else n.push(o)}if(n.length||this._force){var f=new vM({life:r,loop:this._loop,delay:this._delay||0,onframe:function(d){e._started=2;var p=e._additiveAnimators;if(p){for(var g=!1,v=0;v<p.length;v++)if(p[v]._clip){g=!0;break}g||(e._additiveAnimators=null)}for(var v=0;v<n.length;v++)n[v].step(e._target,d);var m=e._onframeCbs;if(m)for(var v=0;v<m.length;v++)m[v](e._target,d)},ondestroy:function(){e._doneCallback()}});this._clip=f,this.animation&&this.animation.addClip(f),t&&f.setEasing(t)}else this._doneCallback();return this}},i.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},i.prototype.delay=function(t){return this._delay=t,this},i.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},i.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},i.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},i.prototype.getClip=function(){return this._clip},i.prototype.getTrack=function(t){return this._tracks[t]},i.prototype.getTracks=function(){var t=this;return rt(this._trackKeys,function(e){return t._tracks[e]})},i.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var n=this._tracks,r=this._trackKeys,a=0;a<t.length;a++){var s=n[t[a]];s&&!s.isFinished()&&(e?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var o=!0,a=0;a<r.length;a++)if(!n[r[a]].isFinished()){o=!1;break}return o&&this._abortedCallback(),o},i.prototype.saveTo=function(t,e,n){if(t){e=e||this._trackKeys;for(var r=0;r<e.length;r++){var a=e[r],s=this._tracks[a];if(!(!s||s.isFinished())){var o=s.keyframes,l=o[n?0:o.length-1];l&&(t[a]=Fo(l.rawValue))}}}},i.prototype.__changeFinalValue=function(t,e){e=e||It(t);for(var n=0;n<e.length;n++){var r=e[n],a=this._tracks[r];if(a){var s=a.keyframes;if(s.length>1){var o=s.pop();a.addKeyframe(o.time,t[r]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},i}();function br(){return new Date().getTime()}var TM=function(i){ut(t,i);function t(e){var n=i.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,e=e||{},n.stage=e.stage||{},n}return t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var n=e.getClip();n&&this.addClip(n)},t.prototype.removeClip=function(e){if(e.animation){var n=e.prev,r=e.next;n?n.next=r:this._head=r,r?r.prev=n:this._tail=n,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var n=e.getClip();n&&this.removeClip(n),e.animation=null},t.prototype.update=function(e){for(var n=br()-this._pausedTime,r=n-this._time,a=this._head;a;){var s=a.next,o=a.step(n,r);o&&(a.ondestroy(),this.removeClip(a)),a=s}this._time=n,e||(this.trigger("frame",r),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0;function n(){e._running&&(rl(n),!e._paused&&e.update())}rl(n)},t.prototype.start=function(){this._running||(this._time=br(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=br(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=br()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var n=e.next;e.prev=e.next=e.animation=null,e=n}this._head=this._tail=null},t.prototype.isFinished=function(){return this._head==null},t.prototype.animate=function(e,n){n=n||{},this.start();var r=new gf(e,n.loop);return this.addAnimator(r),r},t}(oi),CM=300,Mu=$.domSupported,Du=function(){var i=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],e={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},n=rt(i,function(r){var a=r.replace("mouse","pointer");return e.hasOwnProperty(a)?a:r});return{mouse:i,touch:t,pointer:n}}(),Jp={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},tv=!1;function rc(i){var t=i.pointerType;return t==="pen"||t==="touch"}function MM(i){i.touching=!0,i.touchTimer!=null&&(clearTimeout(i.touchTimer),i.touchTimer=null),i.touchTimer=setTimeout(function(){i.touching=!1,i.touchTimer=null},700)}function Au(i){i&&(i.zrByTouch=!0)}function DM(i,t){return Le(i.dom,new AM(i,t),!0)}function iy(i,t){for(var e=t,n=!1;e&&e.nodeType!==9&&!(n=e.domBelongToZr||e!==t&&e===i.painterRoot);)e=e.parentNode;return n}var AM=function(){function i(t,e){this.stopPropagation=fe,this.stopImmediatePropagation=fe,this.preventDefault=fe,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}return i}(),Ne={mousedown:function(i){i=Le(this.dom,i),this.__mayPointerCapture=[i.zrX,i.zrY],this.trigger("mousedown",i)},mousemove:function(i){i=Le(this.dom,i);var t=this.__mayPointerCapture;t&&(i.zrX!==t[0]||i.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",i)},mouseup:function(i){i=Le(this.dom,i),this.__togglePointerCapture(!1),this.trigger("mouseup",i)},mouseout:function(i){i=Le(this.dom,i);var t=i.toElement||i.relatedTarget;iy(this,t)||(this.__pointerCapturing&&(i.zrEventControl="no_globalout"),this.trigger("mouseout",i))},wheel:function(i){tv=!0,i=Le(this.dom,i),this.trigger("mousewheel",i)},mousewheel:function(i){tv||(i=Le(this.dom,i),this.trigger("mousewheel",i))},touchstart:function(i){i=Le(this.dom,i),Au(i),this.__lastTouchMoment=new Date,this.handler.processGesture(i,"start"),Ne.mousemove.call(this,i),Ne.mousedown.call(this,i)},touchmove:function(i){i=Le(this.dom,i),Au(i),this.handler.processGesture(i,"change"),Ne.mousemove.call(this,i)},touchend:function(i){i=Le(this.dom,i),Au(i),this.handler.processGesture(i,"end"),Ne.mouseup.call(this,i),+new Date-+this.__lastTouchMoment<CM&&Ne.click.call(this,i)},pointerdown:function(i){Ne.mousedown.call(this,i)},pointermove:function(i){rc(i)||Ne.mousemove.call(this,i)},pointerup:function(i){Ne.mouseup.call(this,i)},pointerout:function(i){rc(i)||Ne.mouseout.call(this,i)}};A(["click","dblclick","contextmenu"],function(i){Ne[i]=function(t){t=Le(this.dom,t),this.trigger(i,t)}});var ac={pointermove:function(i){rc(i)||ac.mousemove.call(this,i)},pointerup:function(i){ac.mouseup.call(this,i)},mousemove:function(i){this.trigger("mousemove",i)},mouseup:function(i){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",i),t&&(i.zrEventControl="only_globalout",this.trigger("mouseout",i))}};function PM(i,t){var e=t.domHandlers;$.pointerEventsSupported?A(Du.pointer,function(n){No(t,n,function(r){e[n].call(i,r)})}):($.touchEventsSupported&&A(Du.touch,function(n){No(t,n,function(r){e[n].call(i,r),MM(t)})}),A(Du.mouse,function(n){No(t,n,function(r){r=ff(r),t.touching||e[n].call(i,r)})}))}function LM(i,t){$.pointerEventsSupported?A(Jp.pointer,e):$.touchEventsSupported||A(Jp.mouse,e);function e(n){function r(a){a=ff(a),iy(i,a.target)||(a=DM(i,a),t.domHandlers[n].call(i,a))}No(t,n,r,{capture:!0})}}function No(i,t,e,n){i.mounted[t]=e,i.listenerOpts[t]=n,jC(i.domTarget,t,e,n)}function Pu(i){var t=i.mounted;for(var e in t)t.hasOwnProperty(e)&&qC(i.domTarget,e,t[e],i.listenerOpts[e]);i.mounted={}}var ev=function(){function i(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e}return i}(),kM=function(i){ut(t,i);function t(e,n){var r=i.call(this)||this;return r.__pointerCapturing=!1,r.dom=e,r.painterRoot=n,r._localHandlerScope=new ev(e,Ne),Mu&&(r._globalHandlerScope=new ev(document,ac)),PM(r,r._localHandlerScope),r}return t.prototype.dispose=function(){Pu(this._localHandlerScope),Mu&&Pu(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,Mu&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var n=this._globalHandlerScope;e?LM(this,n):Pu(n)}},t}(oi),ny=1;$.hasGlobalWindow&&(ny=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var ul=ny,sc=.4,oc="#333",lc="#ccc",IM="#eee",iv=df,nv=5e-5;function dn(i){return i>nv||i<-nv}var pn=[],nr=[],Lu=Tr(),ku=Math.abs,mf=function(){function i(){}return i.prototype.getLocalTransform=function(t){return i.getLocalTransform(this,t)},i.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},i.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},i.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},i.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},i.prototype.needLocalTransform=function(){return dn(this.rotation)||dn(this.x)||dn(this.y)||dn(this.scaleX-1)||dn(this.scaleY-1)||dn(this.skewX)||dn(this.skewY)},i.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),n=this.transform;if(!(e||t)){n&&(iv(n),this.invTransform=null);return}n=n||Tr(),e?this.getLocalTransform(n):iv(n),t&&(e?Cr(n,t,n):QC(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)},i.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(e!=null&&e!==1){this.getGlobalScale(pn);var n=pn[0]<0?-1:1,r=pn[1]<0?-1:1,a=((pn[0]-n)*e+n)/pn[0]||0,s=((pn[1]-r)*e+r)/pn[1]||0;t[0]*=a,t[1]*=a,t[2]*=s,t[3]*=s}this.invTransform=this.invTransform||Tr(),W_(this.invTransform,t)},i.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},i.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],r=Math.atan2(t[1],t[0]),a=Math.PI/2+r-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(a),e=Math.sqrt(e),this.skewX=a,this.skewY=0,this.rotation=-r,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=n,this.originX=0,this.originY=0}},i.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||Tr(),Cr(nr,t.invTransform,e),e=nr);var n=this.originX,r=this.originY;(n||r)&&(Lu[4]=n,Lu[5]=r,Cr(nr,e,Lu),nr[4]-=n,nr[5]-=r,e=nr),this.setLocalTransform(e)}},i.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},i.prototype.transformCoordToLocal=function(t,e){var n=[t,e],r=this.invTransform;return r&&ri(n,n,r),n},i.prototype.transformCoordToGlobal=function(t,e){var n=[t,e],r=this.transform;return r&&ri(n,n,r),n},i.prototype.getLineScale=function(){var t=this.transform;return t&&ku(t[0]-1)>1e-10&&ku(t[3]-1)>1e-10?Math.sqrt(ku(t[0]*t[3]-t[2]*t[1])):1},i.prototype.copyTransform=function(t){RM(this,t)},i.getLocalTransform=function(t,e){e=e||[];var n=t.originX||0,r=t.originY||0,a=t.scaleX,s=t.scaleY,o=t.anchorX,l=t.anchorY,u=t.rotation||0,h=t.x,c=t.y,f=t.skewX?Math.tan(t.skewX):0,d=t.skewY?Math.tan(-t.skewY):0;if(n||r||o||l){var p=n+o,g=r+l;e[4]=-p*a-f*g*s,e[5]=-g*s-d*p*a}else e[4]=e[5]=0;return e[0]=a,e[3]=s,e[1]=d*a,e[2]=f*s,u&&pf(e,e,u),e[4]+=n+h,e[5]+=r+c,e},i.initDefaultProps=function(){var t=i.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),i}(),as=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function RM(i,t){for(var e=0;e<as.length;e++){var n=as[e];i[n]=t[n]}}var rv={};function Te(i,t){t=t||Xn;var e=rv[t];e||(e=rv[t]=new ys(500));var n=e.get(i);return n==null&&(n=Fr.measureText(i,t).width,e.put(i,n)),n}function av(i,t,e,n){var r=Te(i,t),a=_f(t),s=Ma(0,r,e),o=mr(0,a,n),l=new ct(s,o,r,a);return l}function ry(i,t,e,n){var r=((i||"")+"").split(`
`),a=r.length;if(a===1)return av(r[0],t,e,n);for(var s=new ct(0,0,0,0),o=0;o<r.length;o++){var l=av(r[o],t,e,n);o===0?s.copy(l):s.union(l)}return s}function Ma(i,t,e){return e==="right"?i-=t:e==="center"&&(i-=t/2),i}function mr(i,t,e){return e==="middle"?i-=t/2:e==="bottom"&&(i-=t),i}function _f(i){return Te("",i)}function kr(i,t){return typeof i=="string"?i.lastIndexOf("%")>=0?parseFloat(i)/100*t:parseFloat(i):i}function ay(i,t,e){var n=t.position||"inside",r=t.distance!=null?t.distance:5,a=e.height,s=e.width,o=a/2,l=e.x,u=e.y,h="left",c="top";if(n instanceof Array)l+=kr(n[0],e.width),u+=kr(n[1],e.height),h=null,c=null;else switch(n){case"left":l-=r,u+=o,h="right",c="middle";break;case"right":l+=r+s,u+=o,c="middle";break;case"top":l+=s/2,u-=r,h="center",c="bottom";break;case"bottom":l+=s/2,u+=a+r,h="center";break;case"inside":l+=s/2,u+=o,h="center",c="middle";break;case"insideLeft":l+=r,u+=o,c="middle";break;case"insideRight":l+=s-r,u+=o,h="right",c="middle";break;case"insideTop":l+=s/2,u+=r,h="center";break;case"insideBottom":l+=s/2,u+=a-r,h="center",c="bottom";break;case"insideTopLeft":l+=r,u+=r;break;case"insideTopRight":l+=s-r,u+=r,h="right";break;case"insideBottomLeft":l+=r,u+=a-r,c="bottom";break;case"insideBottomRight":l+=s-r,u+=a-r,h="right",c="bottom";break}return i=i||{},i.x=l,i.y=u,i.align=h,i.verticalAlign=c,i}var Iu="__zr_normal__",Ru=as.concat(["ignore"]),OM=en(as,function(i,t){return i[t]=!0,i},{ignore:!1}),rr={},EM=new ct(0,0,0,0),Fl=function(){function i(t){this.id=E_(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return i.prototype._init=function(t){this.attr(t)},i.prototype.drift=function(t,e,n){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0;break}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=t,r[5]+=e,this.decomposeTransform(),this.markRedraw()},i.prototype.beforeUpdate=function(){},i.prototype.afterUpdate=function(){},i.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},i.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,r=n.local,a=e.innerTransformable,s=void 0,o=void 0,l=!1;a.parent=r?this:null;var u=!1;if(a.copyTransform(e),n.position!=null){var h=EM;n.layoutRect?h.copy(n.layoutRect):h.copy(this.getBoundingRect()),r||h.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(rr,n,h):ay(rr,n,h),a.x=rr.x,a.y=rr.y,s=rr.align,o=rr.verticalAlign;var c=n.origin;if(c&&n.rotation!=null){var f=void 0,d=void 0;c==="center"?(f=h.width*.5,d=h.height*.5):(f=kr(c[0],h.width),d=kr(c[1],h.height)),u=!0,a.originX=-a.x+f+(r?0:h.x),a.originY=-a.y+d+(r?0:h.y)}}n.rotation!=null&&(a.rotation=n.rotation);var p=n.offset;p&&(a.x+=p[0],a.y+=p[1],u||(a.originX=-p[0],a.originY=-p[1]));var g=n.inside==null?typeof n.position=="string"&&n.position.indexOf("inside")>=0:n.inside,v=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),m=void 0,_=void 0,y=void 0;g&&this.canBeInsideText()?(m=n.insideFill,_=n.insideStroke,(m==null||m==="auto")&&(m=this.getInsideTextFill()),(_==null||_==="auto")&&(_=this.getInsideTextStroke(m),y=!0)):(m=n.outsideFill,_=n.outsideStroke,(m==null||m==="auto")&&(m=this.getOutsideFill()),(_==null||_==="auto")&&(_=this.getOutsideStroke(m),y=!0)),m=m||"#000",(m!==v.fill||_!==v.stroke||y!==v.autoStroke||s!==v.align||o!==v.verticalAlign)&&(l=!0,v.fill=m,v.stroke=_,v.autoStroke=y,v.align=s,v.verticalAlign=o,e.setDefaultTextStyle(v)),e.__dirty|=Se,l&&e.dirtyStyle(!0)}},i.prototype.canBeInsideText=function(){return!0},i.prototype.getInsideTextFill=function(){return"#fff"},i.prototype.getInsideTextStroke=function(t){return"#000"},i.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?lc:oc},i.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),n=typeof e=="string"&&Vn(e);n||(n=[255,255,255,1]);for(var r=n[3],a=this.__zr.isDarkMode(),s=0;s<3;s++)n[s]=n[s]*r+(a?0:255)*(1-r);return n[3]=1,vf(n,"rgba")},i.prototype.traverse=function(t,e){},i.prototype.attrKV=function(t,e){t==="textConfig"?this.setTextConfig(e):t==="textContent"?this.setTextContent(e):t==="clipPath"?this.setClipPath(e):t==="extra"?(this.extra=this.extra||{},F(this.extra,e)):this[t]=e},i.prototype.hide=function(){this.ignore=!0,this.markRedraw()},i.prototype.show=function(){this.ignore=!1,this.markRedraw()},i.prototype.attr=function(t,e){if(typeof t=="string")this.attrKV(t,e);else if(Y(t))for(var n=t,r=It(n),a=0;a<r.length;a++){var s=r[a];this.attrKV(s,t[s])}return this.markRedraw(),this},i.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,n=0;n<this.animators.length;n++){var r=this.animators[n],a=r.__fromStateTransition;if(!(r.getLoop()||a&&a!==Iu)){var s=r.targetName,o=s?e[s]:e;r.saveTo(o)}}},i.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,Ru)},i.prototype._savePrimaryToNormal=function(t,e,n){for(var r=0;r<n.length;r++){var a=n[r];t[a]!=null&&!(a in e)&&(e[a]=this[a])}},i.prototype.hasState=function(){return this.currentStates.length>0},i.prototype.getState=function(t){return this.states[t]},i.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},i.prototype.clearStates=function(t){this.useState(Iu,!1,t)},i.prototype.useState=function(t,e,n,r){var a=t===Iu,s=this.hasState();if(!(!s&&a)){var o=this.currentStates,l=this.stateTransition;if(!(gt(o,t)>=0&&(e||o.length===1))){var u;if(this.stateProxy&&!a&&(u=this.stateProxy(t)),u||(u=this.states&&this.states[t]),!u&&!a){hf("State "+t+" not exists.");return}a||this.saveCurrentToNormalState(u);var h=!!(u&&u.hoverLayer||r);h&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,u,this._normalState,e,!n&&!this.__inHover&&l&&l.duration>0,l);var c=this._textContent,f=this._textGuide;return c&&c.useState(t,e,n,h),f&&f.useState(t,e,n,h),a?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!h&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Se),u}}},i.prototype.useStates=function(t,e,n){if(!t.length)this.clearStates();else{var r=[],a=this.currentStates,s=t.length,o=s===a.length;if(o){for(var l=0;l<s;l++)if(t[l]!==a[l]){o=!1;break}}if(o)return;for(var l=0;l<s;l++){var u=t[l],h=void 0;this.stateProxy&&(h=this.stateProxy(u,t)),h||(h=this.states[u]),h&&r.push(h)}var c=r[s-1],f=!!(c&&c.hoverLayer||n);f&&this._toggleHoverLayerFlag(!0);var d=this._mergeStates(r),p=this.stateTransition;this.saveCurrentToNormalState(d),this._applyStateObj(t.join(","),d,this._normalState,!1,!e&&!this.__inHover&&p&&p.duration>0,p);var g=this._textContent,v=this._textGuide;g&&g.useStates(t,e,f),v&&v.useStates(t,e,f),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Se)}},i.prototype.isSilent=function(){for(var t=this.silent,e=this.parent;!t&&e;){if(e.silent){t=!0;break}e=e.parent}return t},i.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},i.prototype.removeState=function(t){var e=gt(this.currentStates,t);if(e>=0){var n=this.currentStates.slice();n.splice(e,1),this.useStates(n)}},i.prototype.replaceState=function(t,e,n){var r=this.currentStates.slice(),a=gt(r,t),s=gt(r,e)>=0;a>=0?s?r.splice(a,1):r[a]=e:n&&!s&&r.push(e),this.useStates(r)},i.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},i.prototype._mergeStates=function(t){for(var e={},n,r=0;r<t.length;r++){var a=t[r];F(e,a),a.textConfig&&(n=n||{},F(n,a.textConfig))}return n&&(e.textConfig=n),e},i.prototype._applyStateObj=function(t,e,n,r,a,s){var o=!(e&&r);e&&e.textConfig?(this.textConfig=F({},r?this.textConfig:n.textConfig),F(this.textConfig,e.textConfig)):o&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},u=!1,h=0;h<Ru.length;h++){var c=Ru[h],f=a&&OM[c];e&&e[c]!=null?f?(u=!0,l[c]=e[c]):this[c]=e[c]:o&&n[c]!=null&&(f?(u=!0,l[c]=n[c]):this[c]=n[c])}if(!a)for(var h=0;h<this.animators.length;h++){var d=this.animators[h],p=d.targetName;d.getLoop()||d.__changeFinalValue(p?(e||n)[p]:e||n)}u&&this._transitionState(t,l,s)},i.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},i.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},i.prototype.getClipPath=function(){return this._clipPath},i.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},i.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},i.prototype.getTextContent=function(){return this._textContent},i.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new mf,this._attachComponent(t),this._textContent=t,this.markRedraw())},i.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),F(this.textConfig,t),this.markRedraw()},i.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},i.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},i.prototype.getTextGuideLine=function(){return this._textGuide},i.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},i.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},i.prototype.markRedraw=function(){this.__dirty|=Se;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},i.prototype.dirty=function(){this.markRedraw()},i.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,n=this._textGuide;e&&(e.__inHover=t),n&&(n.__inHover=t)},i.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},i.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},i.prototype.animate=function(t,e,n){var r=t?this[t]:this,a=new gf(r,e,n);return t&&(a.targetName=t),this.addAnimator(a,t),a},i.prototype.addAnimator=function(t,e){var n=this.__zr,r=this;t.during(function(){r.updateDuringAnimation(e)}).done(function(){var a=r.animators,s=gt(a,t);s>=0&&a.splice(s,1)}),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},i.prototype.updateDuringAnimation=function(t){this.markRedraw()},i.prototype.stopAnimation=function(t,e){for(var n=this.animators,r=n.length,a=[],s=0;s<r;s++){var o=n[s];!t||t===o.scope?o.stop(e):a.push(o)}return this.animators=a,this},i.prototype.animateTo=function(t,e,n){Ou(this,t,e,n)},i.prototype.animateFrom=function(t,e,n){Ou(this,t,e,n,!0)},i.prototype._transitionState=function(t,e,n,r){for(var a=Ou(this,e,n,r),s=0;s<a.length;s++)a[s].__fromStateTransition=t},i.prototype.getBoundingRect=function(){return null},i.prototype.getPaintRect=function(){return null},i.initDefaultProps=function(){var t=i.prototype;t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=Se;function e(n,r,a,s){Object.defineProperty(t,n,{get:function(){if(!this[r]){var l=this[r]=[];o(this,l)}return this[r]},set:function(l){this[a]=l[0],this[s]=l[1],this[r]=l,o(this,l)}});function o(l,u){Object.defineProperty(u,0,{get:function(){return l[a]},set:function(h){l[a]=h}}),Object.defineProperty(u,1,{get:function(){return l[s]},set:function(h){l[s]=h}})}}Object.defineProperty&&(e("position","_legacyPos","x","y"),e("scale","_legacyScale","scaleX","scaleY"),e("origin","_legacyOrigin","originX","originY"))}(),i}();Pi(Fl,oi);Pi(Fl,mf);function Ou(i,t,e,n,r){e=e||{};var a=[];sy(i,"",i,t,e,n,a,r);var s=a.length,o=!1,l=e.done,u=e.aborted,h=function(){o=!0,s--,s<=0&&(o?l&&l():u&&u())},c=function(){s--,s<=0&&(o?l&&l():u&&u())};s||l&&l(),a.length>0&&e.during&&a[0].during(function(p,g){e.during(g)});for(var f=0;f<a.length;f++){var d=a[f];d.done(h),d.aborted(c),e.force&&d.duration(e.duration),d.start(e.easing)}return a}function Eu(i,t,e){for(var n=0;n<e;n++)i[n]=t[n]}function FM(i){return pe(i[0])}function BM(i,t,e){if(pe(t[e]))if(pe(i[e])||(i[e]=[]),ve(t[e])){var n=t[e].length;i[e].length!==n&&(i[e]=new t[e].constructor(n),Eu(i[e],t[e],n))}else{var r=t[e],a=i[e],s=r.length;if(FM(r))for(var o=r[0].length,l=0;l<s;l++)a[l]?Eu(a[l],r[l],o):a[l]=Array.prototype.slice.call(r[l]);else Eu(a,r,s);a.length=r.length}else i[e]=t[e]}function zM(i,t){return i===t||pe(i)&&pe(t)&&NM(i,t)}function NM(i,t){var e=i.length;if(e!==t.length)return!1;for(var n=0;n<e;n++)if(i[n]!==t[n])return!1;return!0}function sy(i,t,e,n,r,a,s,o){for(var l=It(n),u=r.duration,h=r.delay,c=r.additive,f=r.setToFinal,d=!Y(a),p=i.animators,g=[],v=0;v<l.length;v++){var m=l[v],_=n[m];if(_!=null&&e[m]!=null&&(d||a[m]))if(Y(_)&&!pe(_)&&!Ol(_)){if(t){o||(e[m]=_,i.updateDuringAnimation(t));continue}sy(i,m,e[m],_,r,a&&a[m],s,o)}else g.push(m);else o||(e[m]=_,i.updateDuringAnimation(t),g.push(m))}var y=g.length;if(!c&&y)for(var b=0;b<p.length;b++){var w=p[b];if(w.targetName===t){var x=w.stopTracks(g);if(x){var S=gt(p,w);p.splice(S,1)}}}if(r.force||(g=Re(g,function(D){return!zM(n[D],e[D])}),y=g.length),y>0||r.force&&!s.length){var T=void 0,C=void 0,M=void 0;if(o){C={},f&&(T={});for(var b=0;b<y;b++){var m=g[b];C[m]=e[m],f?T[m]=n[m]:e[m]=n[m]}}else if(f){M={};for(var b=0;b<y;b++){var m=g[b];M[m]=Fo(e[m]),BM(e,n,m)}}var w=new gf(e,!1,!1,c?Re(p,function(P){return P.targetName===t}):null);w.targetName=t,r.scope&&(w.scope=r.scope),f&&T&&w.whenWithKeys(0,T,g),M&&w.whenWithKeys(0,M,g),w.whenWithKeys(u??500,o?C:n,g).delay(h||0),i.addAnimator(w,t),s.push(w)}}var Ue=function(i){ut(t,i);function t(e){var n=i.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(e),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var n=this._children,r=0;r<n.length;r++)if(n[r].name===e)return n[r]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,n){if(e&&e!==this&&e.parent!==this&&n&&n.parent===this){var r=this._children,a=r.indexOf(n);a>=0&&(r.splice(a,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,n){var r=gt(this._children,e);return r>=0&&this.replaceAt(n,r),this},t.prototype.replaceAt=function(e,n){var r=this._children,a=r[n];if(e&&e!==this&&e.parent!==this&&e!==a){r[n]=e,a.parent=null;var s=this.__zr;s&&a.removeSelfFromZr(s),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var n=this.__zr;n&&n!==e.__zr&&e.addSelfToZr(n),n&&n.refresh()},t.prototype.remove=function(e){var n=this.__zr,r=this._children,a=gt(r,e);return a<0?this:(r.splice(a,1),e.parent=null,n&&e.removeSelfFromZr(n),n&&n.refresh(),this)},t.prototype.removeAll=function(){for(var e=this._children,n=this.__zr,r=0;r<e.length;r++){var a=e[r];n&&a.removeSelfFromZr(n),a.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,n){for(var r=this._children,a=0;a<r.length;a++){var s=r[a];e.call(n,s,a)}return this},t.prototype.traverse=function(e,n){for(var r=0;r<this._children.length;r++){var a=this._children[r],s=e.call(n,a);a.isGroup&&!s&&a.traverse(e,n)}return this},t.prototype.addSelfToZr=function(e){i.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++){var r=this._children[n];r.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){i.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++){var r=this._children[n];r.removeSelfFromZr(e)}},t.prototype.getBoundingRect=function(e){for(var n=new ct(0,0,0,0),r=e||this._children,a=[],s=null,o=0;o<r.length;o++){var l=r[o];if(!(l.ignore||l.invisible)){var u=l.getBoundingRect(),h=l.getLocalTransform(a);h?(ct.applyTransform(n,u,h),s=s||n.clone(),s.union(n)):(s=s||u.clone(),s.union(u))}}return s||n},t}(Fl);Ue.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var Vo={},oy={};function VM(i){delete oy[i]}function HM(i){if(!i)return!1;if(typeof i=="string")return ll(i,1)<sc;if(i.colorStops){for(var t=i.colorStops,e=0,n=t.length,r=0;r<n;r++)e+=ll(t[r].color,1);return e/=n,e<sc}return!1}var WM=function(){function i(t,e,n){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=e,this.id=t;var a=new lM,s=n.renderer||"canvas";Vo[s]||(s=It(Vo)[0]),n.useDirtyRect=n.useDirtyRect==null?!1:n.useDirtyRect;var o=new Vo[s](e,a,n,t),l=n.ssr||o.ssrOnly;this.storage=a,this.painter=o;var u=!$.node&&!$.worker&&!l?new kM(o.getViewportRoot(),o.root):null,h=n.useCoarsePointer,c=h==null||h==="auto"?$.touchEventsSupported:!!h,f=44,d;c&&(d=Q(n.pointerSize,f)),this.handler=new G_(a,o,u,o.root,d),this.animation=new TM({stage:{update:l?null:function(){return r._flush(!0)}}}),l||this.animation.start()}return i.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},i.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},i.prototype.configLayer=function(t,e){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh())},i.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=HM(t))},i.prototype.getBackgroundColor=function(){return this._backgroundColor},i.prototype.setDarkMode=function(t){this._darkMode=t},i.prototype.isDarkMode=function(){return this._darkMode},i.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},i.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},i.prototype.flush=function(){this._disposed||this._flush(!1)},i.prototype._flush=function(t){var e,n=br();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var r=br();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},i.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},i.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},i.prototype.refreshHover=function(){this._needsRefreshHover=!0},i.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},i.prototype.resize=function(t){this._disposed||(t=t||{},this.painter.resize(t.width,t.height),this.handler.resize())},i.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},i.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},i.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},i.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},i.prototype.findHover=function(t,e){if(!this._disposed)return this.handler.findHover(t,e)},i.prototype.on=function(t,e,n){return this._disposed||this.handler.on(t,e,n),this},i.prototype.off=function(t,e){this._disposed||this.handler.off(t,e)},i.prototype.trigger=function(t,e){this._disposed||this.handler.trigger(t,e)},i.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof Ue&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},i.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,VM(this.id))},i}();function sv(i,t){var e=new WM(E_(),i,t);return oy[e.id]=e,e}function UM(i,t){Vo[i]=t}var ov=1e-4,ly=20;function GM(i){return i.replace(/^\s+|\s+$/g,"")}function YM(i,t,e,n){var r=t[0],a=t[1],s=e[0],o=e[1],l=a-r,u=o-s;if(l===0)return u===0?s:(s+o)/2;{if(i===r)return s;if(i===a)return o}return(i-r)/l*u+s}function Ft(i,t){switch(i){case"center":case"middle":i="50%";break;case"left":case"top":i="0%";break;case"right":case"bottom":i="100%";break}return G(i)?GM(i).match(/%$/)?parseFloat(i)/100*t:parseFloat(i):i==null?NaN:+i}function XM(i,t,e){return t==null&&(t=10),t=Math.min(Math.max(0,t),ly),i=(+i).toFixed(t),e?i:+i}function lv(i){if(i=+i,isNaN(i))return 0;if(i>1e-14){for(var t=1,e=0;e<15;e++,t*=10)if(Math.round(i*t)/t===i)return e}return $M(i)}function $M(i){var t=i.toString().toLowerCase(),e=t.indexOf("e"),n=e>0?+t.slice(e+1):0,r=e>0?e:t.length,a=t.indexOf("."),s=a<0?0:r-1-a;return Math.max(0,s-n)}function jM(i,t){var e=en(i,function(d,p){return d+(isNaN(p)?0:p)},0);if(e===0)return[];for(var n=Math.pow(10,t),r=rt(i,function(d){return(isNaN(d)?0:d)/e*n*100}),a=n*100,s=rt(r,function(d){return Math.floor(d)}),o=en(s,function(d,p){return d+p},0),l=rt(r,function(d,p){return d-s[p]});o<a;){for(var u=Number.NEGATIVE_INFINITY,h=null,c=0,f=l.length;c<f;++c)l[c]>u&&(u=l[c],h=c);++s[h],l[h]=0,++o}return rt(s,function(d){return d/n})}function qM(i,t){var e=Math.max(lv(i),lv(t)),n=i+t;return e>ly?n:XM(n,e)}function uy(i){var t=Math.PI*2;return(i%t+t)%t}function hl(i){return i>-ov&&i<ov}var ZM=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Bl(i){if(i instanceof Date)return i;if(G(i)){var t=ZM.exec(i);if(!t)return new Date(NaN);if(t[8]){var e=+t[4]||0;return t[8].toUpperCase()!=="Z"&&(e-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,e,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}else return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}else if(i==null)return new Date(NaN);return new Date(Math.round(i))}function cl(i){var t=parseFloat(i);return t==i&&(t!==0||!G(i)||i.indexOf("x")<=0)?t:NaN}function KM(i){return!isNaN(cl(i))}function hy(){return Math.round(Math.random()*9)}function cy(i,t){return t===0?i:cy(t,i%t)}function uv(i,t){return i==null?t:t==null?i:i*t/cy(i,t)}function ue(i){throw new Error(i)}var fy="series\0",QM="\0_ec_\0";function ie(i){return i instanceof Array?i:i==null?[]:[i]}function uc(i,t,e){if(i){i[t]=i[t]||{},i.emphasis=i.emphasis||{},i.emphasis[t]=i.emphasis[t]||{};for(var n=0,r=e.length;n<r;n++){var a=e[n];!i.emphasis[t].hasOwnProperty(a)&&i[t].hasOwnProperty(a)&&(i.emphasis[t][a]=i[t][a])}}}var hv=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function zl(i){return Y(i)&&!H(i)&&!(i instanceof Date)?i.value:i}function JM(i){return Y(i)&&!(i instanceof Array)}function tD(i,t,e){var n=e==="normalMerge",r=e==="replaceMerge",a=e==="replaceAll";i=i||[],t=(t||[]).slice();var s=nt();A(t,function(l,u){if(!Y(l)){t[u]=null;return}});var o=eD(i,s,e);return(n||r)&&iD(o,i,s,t),n&&nD(o,t),n||r?rD(o,t,r):a&&aD(o,t),sD(o),o}function eD(i,t,e){var n=[];if(e==="replaceAll")return n;for(var r=0;r<i.length;r++){var a=i[r];a&&a.id!=null&&t.set(a.id,r),n.push({existing:e==="replaceMerge"||ss(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return n}function iD(i,t,e,n){A(n,function(r,a){if(!(!r||r.id==null)){var s=Va(r.id),o=e.get(s);if(o!=null){var l=i[o];Mi(!l.newOption,'Duplicated option on id "'+s+'".'),l.newOption=r,l.existing=t[o],n[a]=null}}})}function nD(i,t){A(t,function(e,n){if(!(!e||e.name==null))for(var r=0;r<i.length;r++){var a=i[r].existing;if(!i[r].newOption&&a&&(a.id==null||e.id==null)&&!ss(e)&&!ss(a)&&dy("name",a,e)){i[r].newOption=e,t[n]=null;return}}})}function rD(i,t,e){A(t,function(n){if(n){for(var r,a=0;(r=i[a])&&(r.newOption||ss(r.existing)||r.existing&&n.id!=null&&!dy("id",n,r.existing));)a++;r?(r.newOption=n,r.brandNew=e):i.push({newOption:n,brandNew:e,existing:null,keyInfo:null}),a++}})}function aD(i,t){A(t,function(e){i.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})})}function sD(i){var t=nt();A(i,function(e){var n=e.existing;n&&t.set(n.id,e)}),A(i,function(e){var n=e.newOption;Mi(!n||n.id==null||!t.get(n.id)||t.get(n.id)===e,"id duplicates: "+(n&&n.id)),n&&n.id!=null&&t.set(n.id,e),!e.keyInfo&&(e.keyInfo={})}),A(i,function(e,n){var r=e.existing,a=e.newOption,s=e.keyInfo;if(Y(a)){if(s.name=a.name!=null?Va(a.name):r?r.name:fy+n,r)s.id=Va(r.id);else if(a.id!=null)s.id=Va(a.id);else{var o=0;do s.id="\0"+s.name+"\0"+o++;while(t.get(s.id))}t.set(s.id,e)}})}function dy(i,t,e){var n=ai(t[i],null),r=ai(e[i],null);return n!=null&&r!=null&&n===r}function Va(i){return ai(i,"")}function ai(i,t){return i==null?t:G(i)?i:Rt(i)||Yh(i)?i+"":t}function yf(i){var t=i.name;return!!(t&&t.indexOf(fy))}function ss(i){return i&&i.id!=null&&Va(i.id).indexOf(QM)===0}function oD(i,t,e){A(i,function(n){var r=n.newOption;Y(r)&&(n.keyInfo.mainType=t,n.keyInfo.subType=lD(t,r,n.existing,e))})}function lD(i,t,e,n){var r=t.type?t.type:e?e.subType:n.determineSubType(i,t);return r}function bs(i,t){if(t.dataIndexInside!=null)return t.dataIndexInside;if(t.dataIndex!=null)return H(t.dataIndex)?rt(t.dataIndex,function(e){return i.indexOfRawIndex(e)}):i.indexOfRawIndex(t.dataIndex);if(t.name!=null)return H(t.name)?rt(t.name,function(e){return i.indexOfName(e)}):i.indexOfName(t.name)}function Nt(){var i="__ec_inner_"+uD++;return function(t){return t[i]||(t[i]={})}}var uD=hy();function Fu(i,t,e){var n=bf(t,e),r=n.mainTypeSpecified,a=n.queryOptionMap,s=n.others,o=s,l=e?e.defaultMainType:null;return!r&&l&&a.set(l,{}),a.each(function(u,h){var c=xs(i,h,u,{useDefault:l===h,enableAll:e&&e.enableAll!=null?e.enableAll:!0,enableNone:e&&e.enableNone!=null?e.enableNone:!0});o[h+"Models"]=c.models,o[h+"Model"]=c.models[0]}),o}function bf(i,t){var e;if(G(i)){var n={};n[i+"Index"]=0,e=n}else e=i;var r=nt(),a={},s=!1;return A(e,function(o,l){if(l==="dataIndex"||l==="dataIndexInside"){a[l]=o;return}var u=l.match(/^(\w+)(Index|Id|Name)$/)||[],h=u[1],c=(u[2]||"").toLowerCase();if(!(!h||!c||t&&t.includeMainTypes&&gt(t.includeMainTypes,h)<0)){s=s||!!h;var f=r.get(h)||r.set(h,{});f[c]=o}}),{mainTypeSpecified:s,queryOptionMap:r,others:a}}var xf={useDefault:!0,enableAll:!1,enableNone:!1};function xs(i,t,e,n){n=n||xf;var r=e.index,a=e.id,s=e.name,o={models:null,specified:r!=null||a!=null||s!=null};if(!o.specified){var l=void 0;return o.models=n.useDefault&&(l=i.getComponent(t))?[l]:[],o}return r==="none"||r===!1?(Mi(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),o.models=[],o):(r==="all"&&(Mi(n.enableAll,'`"all"` is not a valid value on index option.'),r=a=s=null),o.models=i.queryComponents({mainType:t,index:r,id:a,name:s}),o)}function py(i,t,e){i.setAttribute?i.setAttribute(t,e):i[t]=e}function hD(i,t){return i.getAttribute?i.getAttribute(t):i[t]}function cD(i){return i==="auto"?$.domSupported?"html":"richText":i||"html"}var fD=".",vn="___EC__COMPONENT__CONTAINER___",vy="___EC__EXTENDED_CLASS___";function ii(i){var t={main:"",sub:""};if(i){var e=i.split(fD);t.main=e[0]||"",t.sub=e[1]||""}return t}function dD(i){Mi(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(i),'componentType "'+i+'" illegal')}function pD(i){return!!(i&&i[vy])}function wf(i,t){i.$constructor=i,i.extend=function(e){var n=this,r;return vD(n)?r=function(a){Ot(s,a);function s(){return a.apply(this,arguments)||this}return s}(n):(r=function(){(e.$constructor||n).apply(this,arguments)},SC(r,this)),F(r.prototype,e),r[vy]=!0,r.extend=this.extend,r.superCall=_D,r.superApply=yD,r.superClass=n,r}}function vD(i){return ot(i)&&/^class\s/.test(Function.prototype.toString.call(i))}function gy(i,t){i.extend=t.extend}var gD=Math.round(Math.random()*10);function mD(i){var t=["__\0is_clz",gD++].join("_");i.prototype[t]=!0,i.isInstance=function(e){return!!(e&&e[t])}}function _D(i,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];return this.superClass.prototype[t].apply(i,e)}function yD(i,t,e){return this.superClass.prototype[t].apply(i,e)}function Sf(i){var t={};i.registerClass=function(n){var r=n.type||n.prototype.type;if(r){dD(r),n.prototype.type=r;var a=ii(r);if(!a.sub)t[a.main]=n;else if(a.sub!==vn){var s=e(a);s[a.sub]=n}}return n},i.getClass=function(n,r,a){var s=t[n];if(s&&s[vn]&&(s=r?s[r]:null),a&&!s)throw new Error(r?"Component "+n+"."+(r||"")+" is used but not imported.":n+".type should be specified.");return s},i.getClassesByMainType=function(n){var r=ii(n),a=[],s=t[r.main];return s&&s[vn]?A(s,function(o,l){l!==vn&&a.push(o)}):a.push(s),a},i.hasClass=function(n){var r=ii(n);return!!t[r.main]},i.getAllClassMainTypes=function(){var n=[];return A(t,function(r,a){n.push(a)}),n},i.hasSubTypes=function(n){var r=ii(n),a=t[r.main];return a&&a[vn]};function e(n){var r=t[n.main];return(!r||!r[vn])&&(r=t[n.main]={},r[vn]=!0),r}}function os(i,t){for(var e=0;e<i.length;e++)i[e][1]||(i[e][1]=i[e][0]);return t=t||!1,function(n,r,a){for(var s={},o=0;o<i.length;o++){var l=i[o][1];if(!(r&&gt(r,l)>=0||a&&gt(a,l)<0)){var u=n.getShallow(l,t);u!=null&&(s[i[o][0]]=u)}}return s}}var bD=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],xD=os(bD),wD=function(){function i(){}return i.prototype.getAreaStyle=function(t,e){return xD(this,t,e)},i}(),hc=new ys(50);function SD(i){if(typeof i=="string"){var t=hc.get(i);return t&&t.image}else return i}function my(i,t,e,n,r){if(i)if(typeof i=="string"){if(t&&t.__zrImageSrc===i||!e)return t;var a=hc.get(i),s={hostEl:e,cb:n,cbPayload:r};return a?(t=a.image,!Nl(t)&&a.pending.push(s)):(t=Fr.loadImage(i,cv,cv),t.__zrImageSrc=i,hc.put(i,t.__cachedImgObj={image:t,pending:[s]})),t}else return i;else return t}function cv(){var i=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<i.pending.length;t++){var e=i.pending[t],n=e.cb;n&&n(this,e.cbPayload),e.hostEl.dirty()}i.pending.length=0}function Nl(i){return i&&i.width&&i.height}var Bu=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function TD(i,t,e,n,r,a){if(!e){i.text="",i.isTruncated=!1;return}var s=(t+"").split(`
`);a=_y(e,n,r,a);for(var o=!1,l={},u=0,h=s.length;u<h;u++)yy(l,s[u],a),s[u]=l.textLine,o=o||l.isTruncated;i.text=s.join(`
`),i.isTruncated=o}function _y(i,t,e,n){n=n||{};var r=F({},n);r.font=t,e=Q(e,"..."),r.maxIterations=Q(n.maxIterations,2);var a=r.minChar=Q(n.minChar,0);r.cnCharWidth=Te("",t);var s=r.ascCharWidth=Te("a",t);r.placeholder=Q(n.placeholder,"");for(var o=i=Math.max(0,i-1),l=0;l<a&&o>=s;l++)o-=s;var u=Te(e,t);return u>o&&(e="",u=0),o=i-u,r.ellipsis=e,r.ellipsisWidth=u,r.contentWidth=o,r.containerWidth=i,r}function yy(i,t,e){var n=e.containerWidth,r=e.font,a=e.contentWidth;if(!n){i.textLine="",i.isTruncated=!1;return}var s=Te(t,r);if(s<=n){i.textLine=t,i.isTruncated=!1;return}for(var o=0;;o++){if(s<=a||o>=e.maxIterations){t+=e.ellipsis;break}var l=o===0?CD(t,a,e.ascCharWidth,e.cnCharWidth):s>0?Math.floor(t.length*a/s):0;t=t.substr(0,l),s=Te(t,r)}t===""&&(t=e.placeholder),i.textLine=t,i.isTruncated=!0}function CD(i,t,e,n){for(var r=0,a=0,s=i.length;a<s&&r<t;a++){var o=i.charCodeAt(a);r+=0<=o&&o<=127?e:n}return a}function MD(i,t){i!=null&&(i+="");var e=t.overflow,n=t.padding,r=t.font,a=e==="truncate",s=_f(r),o=Q(t.lineHeight,s),l=!!t.backgroundColor,u=t.lineOverflow==="truncate",h=!1,c=t.width,f;c!=null&&(e==="break"||e==="breakAll")?f=i?by(i,t.font,c,e==="breakAll",0).lines:[]:f=i?i.split(`
`):[];var d=f.length*o,p=Q(t.height,d);if(d>p&&u){var g=Math.floor(p/o);h=h||f.length>g,f=f.slice(0,g)}if(i&&a&&c!=null)for(var v=_y(c,r,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),m={},_=0;_<f.length;_++)yy(m,f[_],v),f[_]=m.textLine,h=h||m.isTruncated;for(var y=p,b=0,_=0;_<f.length;_++)b=Math.max(Te(f[_],r),b);c==null&&(c=b);var w=b;return n&&(y+=n[0]+n[2],w+=n[1]+n[3],c+=n[1]+n[3]),l&&(w=c),{lines:f,height:p,outerWidth:w,outerHeight:y,lineHeight:o,calculatedLineHeight:s,contentWidth:b,contentHeight:d,width:c,isTruncated:h}}var DD=function(){function i(){}return i}(),fv=function(){function i(t){this.tokens=[],t&&(this.tokens=t)}return i}(),AD=function(){function i(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return i}();function PD(i,t){var e=new AD;if(i!=null&&(i+=""),!i)return e;for(var n=t.width,r=t.height,a=t.overflow,s=(a==="break"||a==="breakAll")&&n!=null?{width:n,accumWidth:0,breakAll:a==="breakAll"}:null,o=Bu.lastIndex=0,l;(l=Bu.exec(i))!=null;){var u=l.index;u>o&&zu(e,i.substring(o,u),t,s),zu(e,l[2],t,s,l[1]),o=Bu.lastIndex}o<i.length&&zu(e,i.substring(o,i.length),t,s);var h=[],c=0,f=0,d=t.padding,p=a==="truncate",g=t.lineOverflow==="truncate",v={};function m(j,K,U){j.width=K,j.lineHeight=U,c+=U,f=Math.max(f,K)}t:for(var _=0;_<e.lines.length;_++){for(var y=e.lines[_],b=0,w=0,x=0;x<y.tokens.length;x++){var S=y.tokens[x],T=S.styleName&&t.rich[S.styleName]||{},C=S.textPadding=T.padding,M=C?C[1]+C[3]:0,D=S.font=T.font||t.font;S.contentHeight=_f(D);var P=Q(T.height,S.contentHeight);if(S.innerHeight=P,C&&(P+=C[0]+C[2]),S.height=P,S.lineHeight=Ea(T.lineHeight,t.lineHeight,P),S.align=T&&T.align||t.align,S.verticalAlign=T&&T.verticalAlign||"middle",g&&r!=null&&c+S.lineHeight>r){var k=e.lines.length;x>0?(y.tokens=y.tokens.slice(0,x),m(y,w,b),e.lines=e.lines.slice(0,_+1)):e.lines=e.lines.slice(0,_),e.isTruncated=e.isTruncated||e.lines.length<k;break t}var L=T.width,I=L==null||L==="auto";if(typeof L=="string"&&L.charAt(L.length-1)==="%")S.percentWidth=L,h.push(S),S.contentWidth=Te(S.text,D);else{if(I){var R=T.backgroundColor,V=R&&R.image;V&&(V=SD(V),Nl(V)&&(S.width=Math.max(S.width,V.width*P/V.height)))}var W=p&&n!=null?n-w:null;W!=null&&W<S.width?!I||W<M?(S.text="",S.width=S.contentWidth=0):(TD(v,S.text,W-M,D,t.ellipsis,{minChar:t.truncateMinChar}),S.text=v.text,e.isTruncated=e.isTruncated||v.isTruncated,S.width=S.contentWidth=Te(S.text,D)):S.contentWidth=Te(S.text,D)}S.width+=M,w+=S.width,T&&(b=Math.max(b,S.lineHeight))}m(y,w,b)}e.outerWidth=e.width=Q(n,f),e.outerHeight=e.height=Q(r,c),e.contentHeight=c,e.contentWidth=f,d&&(e.outerWidth+=d[1]+d[3],e.outerHeight+=d[0]+d[2]);for(var _=0;_<h.length;_++){var S=h[_],N=S.percentWidth;S.width=parseInt(N,10)/100*e.width}return e}function zu(i,t,e,n,r){var a=t==="",s=r&&e.rich[r]||{},o=i.lines,l=s.font||e.font,u=!1,h,c;if(n){var f=s.padding,d=f?f[1]+f[3]:0;if(s.width!=null&&s.width!=="auto"){var p=kr(s.width,n.width)+d;o.length>0&&p+n.accumWidth>n.width&&(h=t.split(`
`),u=!0),n.accumWidth=p}else{var g=by(t,l,n.width,n.breakAll,n.accumWidth);n.accumWidth=g.accumWidth+d,c=g.linesWidths,h=g.lines}}else h=t.split(`
`);for(var v=0;v<h.length;v++){var m=h[v],_=new DD;if(_.styleName=r,_.text=m,_.isLineHolder=!m&&!a,typeof s.width=="number"?_.width=s.width:_.width=c?c[v]:Te(m,l),!v&&!u){var y=(o[o.length-1]||(o[0]=new fv)).tokens,b=y.length;b===1&&y[0].isLineHolder?y[0]=_:(m||!b||a)&&y.push(_)}else o.push(new fv([_]))}}function LD(i){var t=i.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}var kD=en(",&?/;] ".split(""),function(i,t){return i[t]=!0,i},{});function ID(i){return LD(i)?!!kD[i]:!0}function by(i,t,e,n,r){for(var a=[],s=[],o="",l="",u=0,h=0,c=0;c<i.length;c++){var f=i.charAt(c);if(f===`
`){l&&(o+=l,h+=u),a.push(o),s.push(h),o="",l="",u=0,h=0;continue}var d=Te(f,t),p=n?!1:!ID(f);if(a.length?h+d>e:r+h+d>e){h?(o||l)&&(p?(o||(o=l,l="",u=0,h=u),a.push(o),s.push(h-u),l+=f,u+=d,o="",h=u):(l&&(o+=l,l="",u=0),a.push(o),s.push(h),o=f,h=d)):p?(a.push(l),s.push(u),l=f,u=d):(a.push(f),s.push(d));continue}h+=d,p?(l+=f,u+=d):(l&&(o+=l,l="",u=0),o+=f)}return!a.length&&!o&&(o=i,l="",u=0),l&&(o+=l),o&&(a.push(o),s.push(h)),a.length===1&&(h+=r),{accumWidth:h,lines:a,linesWidths:s}}var cc="__zr_style_"+Math.round(Math.random()*10),Hn={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Vl={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Hn[cc]=!0;var dv=["z","z2","invisible"],RD=["invisible"],ws=function(i){ut(t,i);function t(e){return i.call(this,e)||this}return t.prototype._init=function(e){for(var n=It(e),r=0;r<n.length;r++){var a=n[r];a==="style"?this.useStyle(e[a]):i.prototype.attrKV.call(this,a,e[a])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(e,n,r,a){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&OD(this,e,n)||s&&!s[0]&&!s[3])return!1;if(r&&this.__clipPaths){for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1}if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},t.prototype.contain=function(e,n){return this.rectContain(e,n)},t.prototype.traverse=function(e,n){e.call(n,this)},t.prototype.rectContain=function(e,n){var r=this.transformCoordToLocal(e,n),a=this.getBoundingRect();return a.contain(r[0],r[1])},t.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,r=this.getBoundingRect(),a=this.style,s=a.shadowBlur||0,o=a.shadowOffsetX||0,l=a.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new ct(0,0,0,0)),n?ct.applyTransform(e,r,n):e.copy(r),(s||o||l)&&(e.width+=s*2+Math.abs(o),e.height+=s*2+Math.abs(l),e.x=Math.min(e.x,e.x+o-s),e.y=Math.min(e.y,e.y+l-s));var u=this.dirtyRectTolerance;e.isZero()||(e.x=Math.floor(e.x-u),e.y=Math.floor(e.y-u),e.width=Math.ceil(e.width+1+u*2),e.height=Math.ceil(e.height+1+u*2))}return e},t.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new ct(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(e){return this.animate("style",e)},t.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(e,n){e!=="style"?i.prototype.attrKV.call(this,e,n):this.style?this.setStyle(n):this.useStyle(n)},t.prototype.setStyle=function(e,n){return typeof e=="string"?this.style[e]=n:F(this.style,e),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(e){e||this.markRedraw(),this.__dirty|=Ta,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(this.__dirty&Ta)},t.prototype.styleUpdated=function(){this.__dirty&=~Ta},t.prototype.createStyle=function(e){return El(Hn,e)},t.prototype.useStyle=function(e){e[cc]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},t.prototype.isStyleObject=function(e){return e[cc]},t.prototype._innerSaveToNormal=function(e){i.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,n,dv)},t.prototype._applyStateObj=function(e,n,r,a,s,o){i.prototype._applyStateObj.call(this,e,n,r,a,s,o);var l=!(n&&a),u;if(n&&n.style?s?a?u=n.style:(u=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(u,n.style)):(u=this._mergeStyle(this.createStyle(),a?this.style:r.style),this._mergeStyle(u,n.style)):l&&(u=r.style),u)if(s){var h=this.style;if(this.style=this.createStyle(l?{}:h),l)for(var c=It(h),f=0;f<c.length;f++){var d=c[f];d in u&&(u[d]=u[d],this.style[d]=h[d])}for(var p=It(u),f=0;f<p.length;f++){var d=p[f];this.style[d]=this.style[d]}this._transitionState(e,{style:u},o,this.getAnimationStyleProps())}else this.useStyle(u);for(var g=this.__inHover?RD:dv,f=0;f<g.length;f++){var d=g[f];n&&n[d]!=null?this[d]=n[d]:l&&r[d]!=null&&(this[d]=r[d])}},t.prototype._mergeStates=function(e){for(var n=i.prototype._mergeStates.call(this,e),r,a=0;a<e.length;a++){var s=e[a];s.style&&(r=r||{},this._mergeStyle(r,s.style))}return r&&(n.style=r),n},t.prototype._mergeStyle=function(e,n){return F(e,n),e},t.prototype.getAnimationStyleProps=function(){return Vl},t.initDefaultProps=function(){var e=t.prototype;e.type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,e.__dirty=Se|Ta}(),t}(Fl),Nu=new ct(0,0,0,0),Vu=new ct(0,0,0,0);function OD(i,t,e){return Nu.copy(i.getBoundingRect()),i.transform&&Nu.applyTransform(i.transform),Vu.width=t,Vu.height=e,!Nu.intersect(Vu)}var Ee=Math.min,Fe=Math.max,Hu=Math.sin,Wu=Math.cos,gn=Math.PI*2,Ks=Br(),Qs=Br(),Js=Br();function pv(i,t,e,n,r,a){r[0]=Ee(i,e),r[1]=Ee(t,n),a[0]=Fe(i,e),a[1]=Fe(t,n)}var vv=[],gv=[];function ED(i,t,e,n,r,a,s,o,l,u){var h=Z_,c=ee,f=h(i,e,r,s,vv);l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0;for(var d=0;d<f;d++){var p=c(i,e,r,s,vv[d]);l[0]=Ee(p,l[0]),u[0]=Fe(p,u[0])}f=h(t,n,a,o,gv);for(var d=0;d<f;d++){var g=c(t,n,a,o,gv[d]);l[1]=Ee(g,l[1]),u[1]=Fe(g,u[1])}l[0]=Ee(i,l[0]),u[0]=Fe(i,u[0]),l[0]=Ee(s,l[0]),u[0]=Fe(s,u[0]),l[1]=Ee(t,l[1]),u[1]=Fe(t,u[1]),l[1]=Ee(o,l[1]),u[1]=Fe(o,u[1])}function FD(i,t,e,n,r,a,s,o){var l=K_,u=le,h=Fe(Ee(l(i,e,r),1),0),c=Fe(Ee(l(t,n,a),1),0),f=u(i,e,r,h),d=u(t,n,a,c);s[0]=Ee(i,r,f),s[1]=Ee(t,a,d),o[0]=Fe(i,r,f),o[1]=Fe(t,a,d)}function BD(i,t,e,n,r,a,s,o,l){var u=_r,h=yr,c=Math.abs(r-a);if(c%gn<1e-4&&c>1e-4){o[0]=i-e,o[1]=t-n,l[0]=i+e,l[1]=t+n;return}if(Ks[0]=Wu(r)*e+i,Ks[1]=Hu(r)*n+t,Qs[0]=Wu(a)*e+i,Qs[1]=Hu(a)*n+t,u(o,Ks,Qs),h(l,Ks,Qs),r=r%gn,r<0&&(r=r+gn),a=a%gn,a<0&&(a=a+gn),r>a&&!s?a+=gn:r<a&&s&&(r+=gn),s){var f=a;a=r,r=f}for(var d=0;d<a;d+=Math.PI/2)d>r&&(Js[0]=Wu(d)*e+i,Js[1]=Hu(d)*n+t,u(o,Js,o),h(l,Js,l))}var st={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},mn=[],_n=[],$e=[],Ii=[],je=[],qe=[],Uu=Math.min,Gu=Math.max,yn=Math.cos,bn=Math.sin,di=Math.abs,fc=Math.PI,zi=fc*2,Yu=typeof Float32Array<"u",ea=[];function Xu(i){var t=Math.round(i/fc*1e8)/1e8;return t%2*fc}function xy(i,t){var e=Xu(i[0]);e<0&&(e+=zi);var n=e-i[0],r=i[1];r+=n,!t&&r-e>=zi?r=e+zi:t&&e-r>=zi?r=e-zi:!t&&e>r?r=e+(zi-Xu(e-r)):t&&e<r&&(r=e-(zi-Xu(r-e))),i[0]=e,i[1]=r}var Ir=function(){function i(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return i.prototype.increaseVersion=function(){this._version++},i.prototype.getVersion=function(){return this._version},i.prototype.setScale=function(t,e,n){n=n||0,n>0&&(this._ux=di(n/ul/t)||0,this._uy=di(n/ul/e)||0)},i.prototype.setDPR=function(t){this.dpr=t},i.prototype.setContext=function(t){this._ctx=t},i.prototype.getContext=function(){return this._ctx},i.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},i.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},i.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(st.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},i.prototype.lineTo=function(t,e){var n=di(t-this._xi),r=di(e-this._yi),a=n>this._ux||r>this._uy;if(this.addData(st.L,t,e),this._ctx&&a&&this._ctx.lineTo(t,e),a)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var s=n*n+r*r;s>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=s)}return this},i.prototype.bezierCurveTo=function(t,e,n,r,a,s){return this._drawPendingPt(),this.addData(st.C,t,e,n,r,a,s),this._ctx&&this._ctx.bezierCurveTo(t,e,n,r,a,s),this._xi=a,this._yi=s,this},i.prototype.quadraticCurveTo=function(t,e,n,r){return this._drawPendingPt(),this.addData(st.Q,t,e,n,r),this._ctx&&this._ctx.quadraticCurveTo(t,e,n,r),this._xi=n,this._yi=r,this},i.prototype.arc=function(t,e,n,r,a,s){this._drawPendingPt(),ea[0]=r,ea[1]=a,xy(ea,s),r=ea[0],a=ea[1];var o=a-r;return this.addData(st.A,t,e,n,n,r,o,0,s?0:1),this._ctx&&this._ctx.arc(t,e,n,r,a,s),this._xi=yn(a)*n+t,this._yi=bn(a)*n+e,this},i.prototype.arcTo=function(t,e,n,r,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,n,r,a),this},i.prototype.rect=function(t,e,n,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,n,r),this.addData(st.R,t,e,n,r),this},i.prototype.closePath=function(){this._drawPendingPt(),this.addData(st.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&t.closePath(),this._xi=e,this._yi=n,this},i.prototype.fill=function(t){t&&t.fill(),this.toStatic()},i.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},i.prototype.len=function(){return this._len},i.prototype.setData=function(t){var e=t.length;!(this.data&&this.data.length===e)&&Yu&&(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},i.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,r=this._len,a=0;a<e;a++)n+=t[a].len();Yu&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n));for(var a=0;a<e;a++)for(var s=t[a].data,o=0;o<s.length;o++)this.data[r++]=s[o];this._len=r},i.prototype.addData=function(t,e,n,r,a,s,o,l,u){if(this._saveData){var h=this.data;this._len+arguments.length>h.length&&(this._expandData(),h=this.data);for(var c=0;c<arguments.length;c++)h[this._len++]=arguments[c]}},i.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},i.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},i.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,Yu&&this._len>11&&(this.data=new Float32Array(t)))}},i.prototype.getBoundingRect=function(){$e[0]=$e[1]=je[0]=je[1]=Number.MAX_VALUE,Ii[0]=Ii[1]=qe[0]=qe[1]=-Number.MAX_VALUE;var t=this.data,e=0,n=0,r=0,a=0,s;for(s=0;s<this._len;){var o=t[s++],l=s===1;switch(l&&(e=t[s],n=t[s+1],r=e,a=n),o){case st.M:e=r=t[s++],n=a=t[s++],je[0]=r,je[1]=a,qe[0]=r,qe[1]=a;break;case st.L:pv(e,n,t[s],t[s+1],je,qe),e=t[s++],n=t[s++];break;case st.C:ED(e,n,t[s++],t[s++],t[s++],t[s++],t[s],t[s+1],je,qe),e=t[s++],n=t[s++];break;case st.Q:FD(e,n,t[s++],t[s++],t[s],t[s+1],je,qe),e=t[s++],n=t[s++];break;case st.A:var u=t[s++],h=t[s++],c=t[s++],f=t[s++],d=t[s++],p=t[s++]+d;s+=1;var g=!t[s++];l&&(r=yn(d)*c+u,a=bn(d)*f+h),BD(u,h,c,f,d,p,g,je,qe),e=yn(p)*c+u,n=bn(p)*f+h;break;case st.R:r=e=t[s++],a=n=t[s++];var v=t[s++],m=t[s++];pv(r,a,r+v,a+m,je,qe);break;case st.Z:e=r,n=a;break}_r($e,$e,je),yr(Ii,Ii,qe)}return s===0&&($e[0]=$e[1]=Ii[0]=Ii[1]=0),new ct($e[0],$e[1],Ii[0]-$e[0],Ii[1]-$e[1])},i.prototype._calculateLength=function(){var t=this.data,e=this._len,n=this._ux,r=this._uy,a=0,s=0,o=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,h=0,c=0,f=0;f<e;){var d=t[f++],p=f===1;p&&(a=t[f],s=t[f+1],o=a,l=s);var g=-1;switch(d){case st.M:a=o=t[f++],s=l=t[f++];break;case st.L:{var v=t[f++],m=t[f++],_=v-a,y=m-s;(di(_)>n||di(y)>r||f===e-1)&&(g=Math.sqrt(_*_+y*y),a=v,s=m);break}case st.C:{var b=t[f++],w=t[f++],v=t[f++],m=t[f++],x=t[f++],S=t[f++];g=hM(a,s,b,w,v,m,x,S,10),a=x,s=S;break}case st.Q:{var b=t[f++],w=t[f++],v=t[f++],m=t[f++];g=dM(a,s,b,w,v,m,10),a=v,s=m;break}case st.A:var T=t[f++],C=t[f++],M=t[f++],D=t[f++],P=t[f++],k=t[f++],L=k+P;f+=1,p&&(o=yn(P)*M+T,l=bn(P)*D+C),g=Gu(M,D)*Uu(zi,Math.abs(k)),a=yn(L)*M+T,s=bn(L)*D+C;break;case st.R:{o=a=t[f++],l=s=t[f++];var I=t[f++],R=t[f++];g=I*2+R*2;break}case st.Z:{var _=o-a,y=l-s;g=Math.sqrt(_*_+y*y),a=o,s=l;break}}g>=0&&(u[c++]=g,h+=g)}return this._pathLen=h,h},i.prototype.rebuildPath=function(t,e){var n=this.data,r=this._ux,a=this._uy,s=this._len,o,l,u,h,c,f,d=e<1,p,g,v=0,m=0,_,y=0,b,w;if(!(d&&(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,g=this._pathLen,_=e*g,!_)))t:for(var x=0;x<s;){var S=n[x++],T=x===1;switch(T&&(u=n[x],h=n[x+1],o=u,l=h),S!==st.L&&y>0&&(t.lineTo(b,w),y=0),S){case st.M:o=u=n[x++],l=h=n[x++],t.moveTo(u,h);break;case st.L:{c=n[x++],f=n[x++];var C=di(c-u),M=di(f-h);if(C>r||M>a){if(d){var D=p[m++];if(v+D>_){var P=(_-v)/D;t.lineTo(u*(1-P)+c*P,h*(1-P)+f*P);break t}v+=D}t.lineTo(c,f),u=c,h=f,y=0}else{var k=C*C+M*M;k>y&&(b=c,w=f,y=k)}break}case st.C:{var L=n[x++],I=n[x++],R=n[x++],V=n[x++],W=n[x++],N=n[x++];if(d){var D=p[m++];if(v+D>_){var P=(_-v)/D;sl(u,L,R,W,P,mn),sl(h,I,V,N,P,_n),t.bezierCurveTo(mn[1],_n[1],mn[2],_n[2],mn[3],_n[3]);break t}v+=D}t.bezierCurveTo(L,I,R,V,W,N),u=W,h=N;break}case st.Q:{var L=n[x++],I=n[x++],R=n[x++],V=n[x++];if(d){var D=p[m++];if(v+D>_){var P=(_-v)/D;ol(u,L,R,P,mn),ol(h,I,V,P,_n),t.quadraticCurveTo(mn[1],_n[1],mn[2],_n[2]);break t}v+=D}t.quadraticCurveTo(L,I,R,V),u=R,h=V;break}case st.A:var j=n[x++],K=n[x++],U=n[x++],ft=n[x++],dt=n[x++],Et=n[x++],Vt=n[x++],Ce=!n[x++],_e=U>ft?U:ft,Ut=di(U-ft)>.001,Pt=dt+Et,X=!1;if(d){var D=p[m++];v+D>_&&(Pt=dt+Et*(_-v)/D,X=!0),v+=D}if(Ut&&t.ellipse?t.ellipse(j,K,U,ft,Vt,dt,Pt,Ce):t.arc(j,K,_e,dt,Pt,Ce),X)break t;T&&(o=yn(dt)*U+j,l=bn(dt)*ft+K),u=yn(Pt)*U+j,h=bn(Pt)*ft+K;break;case st.R:o=u=n[x],l=h=n[x+1],c=n[x++],f=n[x++];var J=n[x++],Xe=n[x++];if(d){var D=p[m++];if(v+D>_){var Ht=_-v;t.moveTo(c,f),t.lineTo(c+Uu(Ht,J),f),Ht-=J,Ht>0&&t.lineTo(c+J,f+Uu(Ht,Xe)),Ht-=Xe,Ht>0&&t.lineTo(c+Gu(J-Ht,0),f+Xe),Ht-=J,Ht>0&&t.lineTo(c,f+Gu(Xe-Ht,0));break t}v+=D}t.rect(c,f,J,Xe);break;case st.Z:if(d){var D=p[m++];if(v+D>_){var P=(_-v)/D;t.lineTo(u*(1-P)+o*P,h*(1-P)+l*P);break t}v+=D}t.closePath(),u=o,h=l}}},i.prototype.clone=function(){var t=new i,e=this.data;return t.data=e.slice?e.slice():Array.prototype.slice.call(e),t._len=this._len,t},i.CMD=st,i.initDefaultProps=function(){var t=i.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),i}();function ar(i,t,e,n,r,a,s){if(r===0)return!1;var o=r,l=0,u=i;if(s>t+o&&s>n+o||s<t-o&&s<n-o||a>i+o&&a>e+o||a<i-o&&a<e-o)return!1;if(i!==e)l=(t-n)/(i-e),u=(i*n-e*t)/(i-e);else return Math.abs(a-i)<=o/2;var h=l*a-s+u,c=h*h/(l*l+1);return c<=o/2*o/2}function zD(i,t,e,n,r,a,s,o,l,u,h){if(l===0)return!1;var c=l;if(h>t+c&&h>n+c&&h>a+c&&h>o+c||h<t-c&&h<n-c&&h<a-c&&h<o-c||u>i+c&&u>e+c&&u>r+c&&u>s+c||u<i-c&&u<e-c&&u<r-c&&u<s-c)return!1;var f=uM(i,t,e,n,r,a,s,o,u,h);return f<=c/2}function ND(i,t,e,n,r,a,s,o,l){if(s===0)return!1;var u=s;if(l>t+u&&l>n+u&&l>a+u||l<t-u&&l<n-u&&l<a-u||o>i+u&&o>e+u&&o>r+u||o<i-u&&o<e-u&&o<r-u)return!1;var h=fM(i,t,e,n,r,a,o,l);return h<=u/2}var mv=Math.PI*2;function to(i){return i%=mv,i<0&&(i+=mv),i}var ia=Math.PI*2;function VD(i,t,e,n,r,a,s,o,l){if(s===0)return!1;var u=s;o-=i,l-=t;var h=Math.sqrt(o*o+l*l);if(h-u>e||h+u<e)return!1;if(Math.abs(n-r)%ia<1e-4)return!0;if(a){var c=n;n=to(r),r=to(c)}else n=to(n),r=to(r);n>r&&(r+=ia);var f=Math.atan2(l,o);return f<0&&(f+=ia),f>=n&&f<=r||f+ia>=n&&f+ia<=r}function xn(i,t,e,n,r,a){if(a>t&&a>n||a<t&&a<n||n===t)return 0;var s=(a-t)/(n-t),o=n<t?1:-1;(s===1||s===0)&&(o=n<t?.5:-.5);var l=s*(e-i)+i;return l===r?1/0:l>r?o:0}var Ri=Ir.CMD,wn=Math.PI*2,HD=1e-4;function WD(i,t){return Math.abs(i-t)<HD}var Jt=[-1,-1,-1],Ie=[-1,-1];function UD(){var i=Ie[0];Ie[0]=Ie[1],Ie[1]=i}function GD(i,t,e,n,r,a,s,o,l,u){if(u>t&&u>n&&u>a&&u>o||u<t&&u<n&&u<a&&u<o)return 0;var h=q_(t,n,a,o,u,Jt);if(h===0)return 0;for(var c=0,f=-1,d=void 0,p=void 0,g=0;g<h;g++){var v=Jt[g],m=v===0||v===1?.5:1,_=ee(i,e,r,s,v);_<l||(f<0&&(f=Z_(t,n,a,o,Ie),Ie[1]<Ie[0]&&f>1&&UD(),d=ee(t,n,a,o,Ie[0]),f>1&&(p=ee(t,n,a,o,Ie[1]))),f===2?v<Ie[0]?c+=d<t?m:-m:v<Ie[1]?c+=p<d?m:-m:c+=o<p?m:-m:v<Ie[0]?c+=d<t?m:-m:c+=o<d?m:-m)}return c}function YD(i,t,e,n,r,a,s,o){if(o>t&&o>n&&o>a||o<t&&o<n&&o<a)return 0;var l=cM(t,n,a,o,Jt);if(l===0)return 0;var u=K_(t,n,a);if(u>=0&&u<=1){for(var h=0,c=le(t,n,a,u),f=0;f<l;f++){var d=Jt[f]===0||Jt[f]===1?.5:1,p=le(i,e,r,Jt[f]);p<s||(Jt[f]<u?h+=c<t?d:-d:h+=a<c?d:-d)}return h}else{var d=Jt[0]===0||Jt[0]===1?.5:1,p=le(i,e,r,Jt[0]);return p<s?0:a<t?d:-d}}function XD(i,t,e,n,r,a,s,o){if(o-=t,o>e||o<-e)return 0;var l=Math.sqrt(e*e-o*o);Jt[0]=-l,Jt[1]=l;var u=Math.abs(n-r);if(u<1e-4)return 0;if(u>=wn-1e-4){n=0,r=wn;var h=a?1:-1;return s>=Jt[0]+i&&s<=Jt[1]+i?h:0}if(n>r){var c=n;n=r,r=c}n<0&&(n+=wn,r+=wn);for(var f=0,d=0;d<2;d++){var p=Jt[d];if(p+i>s){var g=Math.atan2(o,p),h=a?1:-1;g<0&&(g=wn+g),(g>=n&&g<=r||g+wn>=n&&g+wn<=r)&&(g>Math.PI/2&&g<Math.PI*1.5&&(h=-h),f+=h)}}return f}function wy(i,t,e,n,r){for(var a=i.data,s=i.len(),o=0,l=0,u=0,h=0,c=0,f,d,p=0;p<s;){var g=a[p++],v=p===1;switch(g===Ri.M&&p>1&&(e||(o+=xn(l,u,h,c,n,r))),v&&(l=a[p],u=a[p+1],h=l,c=u),g){case Ri.M:h=a[p++],c=a[p++],l=h,u=c;break;case Ri.L:if(e){if(ar(l,u,a[p],a[p+1],t,n,r))return!0}else o+=xn(l,u,a[p],a[p+1],n,r)||0;l=a[p++],u=a[p++];break;case Ri.C:if(e){if(zD(l,u,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],t,n,r))return!0}else o+=GD(l,u,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],n,r)||0;l=a[p++],u=a[p++];break;case Ri.Q:if(e){if(ND(l,u,a[p++],a[p++],a[p],a[p+1],t,n,r))return!0}else o+=YD(l,u,a[p++],a[p++],a[p],a[p+1],n,r)||0;l=a[p++],u=a[p++];break;case Ri.A:var m=a[p++],_=a[p++],y=a[p++],b=a[p++],w=a[p++],x=a[p++];p+=1;var S=!!(1-a[p++]);f=Math.cos(w)*y+m,d=Math.sin(w)*b+_,v?(h=f,c=d):o+=xn(l,u,f,d,n,r);var T=(n-m)*b/y+m;if(e){if(VD(m,_,b,w,w+x,S,t,T,r))return!0}else o+=XD(m,_,b,w,w+x,S,T,r);l=Math.cos(w+x)*y+m,u=Math.sin(w+x)*b+_;break;case Ri.R:h=l=a[p++],c=u=a[p++];var C=a[p++],M=a[p++];if(f=h+C,d=c+M,e){if(ar(h,c,f,c,t,n,r)||ar(f,c,f,d,t,n,r)||ar(f,d,h,d,t,n,r)||ar(h,d,h,c,t,n,r))return!0}else o+=xn(f,c,f,d,n,r),o+=xn(h,d,h,c,n,r);break;case Ri.Z:if(e){if(ar(l,u,h,c,t,n,r))return!0}else o+=xn(l,u,h,c,n,r);l=h,u=c;break}}return!e&&!WD(u,c)&&(o+=xn(l,u,h,c,n,r)||0),o!==0}function $D(i,t,e){return wy(i,0,!1,t,e)}function jD(i,t,e,n){return wy(i,t,!0,e,n)}var Sy=Ct({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Hn),qD={style:Ct({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Vl.style)},$u=as.concat(["invisible","culling","z","z2","zlevel","parent"]),bt=function(i){ut(t,i);function t(e){return i.call(this,e)||this}return t.prototype.update=function(){var e=this;i.prototype.update.call(this);var n=this.style;if(n.decal){var r=this._decalEl=this._decalEl||new t;r.buildPath===t.prototype.buildPath&&(r.buildPath=function(l){e.buildPath(l,e.shape)}),r.silent=!0;var a=r.style;for(var s in n)a[s]!==n[s]&&(a[s]=n[s]);a.fill=n.fill?n.decal:null,a.decal=null,a.shadowColor=null,n.strokeFirst&&(a.stroke=null);for(var o=0;o<$u.length;++o)r[$u[o]]=this[$u[o]];r.__dirty|=Se}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(e){var n=It(e);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var a=0;a<n.length;a++){var s=n[a],o=e[s];s==="style"?this.style?F(this.style,o):this.useStyle(o):s==="shape"?F(this.shape,o):i.prototype.attrKV.call(this,s,o)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var e=this.style.fill;if(e!=="none"){if(G(e)){var n=ll(e,0);return n>.5?oc:n>.2?IM:lc}else if(e)return lc}return oc},t.prototype.getInsideTextStroke=function(e){var n=this.style.fill;if(G(n)){var r=this.__zr,a=!!(r&&r.isDarkMode()),s=ll(e,0)<sc;if(a===s)return n}},t.prototype.buildPath=function(e,n,r){},t.prototype.pathUpdated=function(){this.__dirty&=~gr},t.prototype.getUpdatedPathProxy=function(e){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,e),this.path},t.prototype.createPathProxy=function(){this.path=new Ir(!1)},t.prototype.hasStroke=function(){var e=this.style,n=e.stroke;return!(n==null||n==="none"||!(e.lineWidth>0))},t.prototype.hasFill=function(){var e=this.style,n=e.fill;return n!=null&&n!=="none"},t.prototype.getBoundingRect=function(){var e=this._rect,n=this.style,r=!e;if(r){var a=!1;this.path||(a=!0,this.createPathProxy());var s=this.path;(a||this.__dirty&gr)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),e=s.getBoundingRect()}if(this._rect=e,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=e.clone());if(this.__dirty||r){o.copy(e);var l=n.strokeNoScale?this.getLineScale():1,u=n.lineWidth;if(!this.hasFill()){var h=this.strokeContainThreshold;u=Math.max(u,h??4)}l>1e-10&&(o.width+=u/l,o.height+=u/l,o.x-=u/l/2,o.y-=u/l/2)}return o}return e},t.prototype.contain=function(e,n){var r=this.transformCoordToLocal(e,n),a=this.getBoundingRect(),s=this.style;if(e=r[0],n=r[1],a.contain(e,n)){var o=this.path;if(this.hasStroke()){var l=s.lineWidth,u=s.strokeNoScale?this.getLineScale():1;if(u>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),jD(o,l/u,e,n)))return!0}if(this.hasFill())return $D(o,e,n)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=gr,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(e){return this.animate("shape",e)},t.prototype.updateDuringAnimation=function(e){e==="style"?this.dirtyStyle():e==="shape"?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(e,n){e==="shape"?this.setShape(n):i.prototype.attrKV.call(this,e,n)},t.prototype.setShape=function(e,n){var r=this.shape;return r||(r=this.shape={}),typeof e=="string"?r[e]=n:F(r,e),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&gr)},t.prototype.createStyle=function(e){return El(Sy,e)},t.prototype._innerSaveToNormal=function(e){i.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.shape&&!n.shape&&(n.shape=F({},this.shape))},t.prototype._applyStateObj=function(e,n,r,a,s,o){i.prototype._applyStateObj.call(this,e,n,r,a,s,o);var l=!(n&&a),u;if(n&&n.shape?s?a?u=n.shape:(u=F({},r.shape),F(u,n.shape)):(u=F({},a?this.shape:r.shape),F(u,n.shape)):l&&(u=r.shape),u)if(s){this.shape=F({},this.shape);for(var h={},c=It(u),f=0;f<c.length;f++){var d=c[f];typeof u[d]=="object"?this.shape[d]=u[d]:h[d]=u[d]}this._transitionState(e,{shape:h},o)}else this.shape=u,this.dirtyShape()},t.prototype._mergeStates=function(e){for(var n=i.prototype._mergeStates.call(this,e),r,a=0;a<e.length;a++){var s=e[a];s.shape&&(r=r||{},this._mergeStyle(r,s.shape))}return r&&(n.shape=r),n},t.prototype.getAnimationStyleProps=function(){return qD},t.prototype.isZeroArea=function(){return!1},t.extend=function(e){var n=function(a){ut(s,a);function s(o){var l=a.call(this,o)||this;return e.init&&e.init.call(l,o),l}return s.prototype.getDefaultStyle=function(){return it(e.style)},s.prototype.getDefaultShape=function(){return it(e.shape)},s}(t);for(var r in e)typeof e[r]=="function"&&(n.prototype[r]=e[r]);return n},t.initDefaultProps=function(){var e=t.prototype;e.type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,e.__dirty=Se|Ta|gr}(),t}(ws),ZD=Ct({strokeFirst:!0,font:Xn,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Sy),fl=function(i){ut(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.hasStroke=function(){var e=this.style,n=e.stroke;return n!=null&&n!=="none"&&e.lineWidth>0},t.prototype.hasFill=function(){var e=this.style,n=e.fill;return n!=null&&n!=="none"},t.prototype.createStyle=function(e){return El(ZD,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var n=e.text;n!=null?n+="":n="";var r=ry(n,e.font,e.textAlign,e.textBaseline);if(r.x+=e.x||0,r.y+=e.y||0,this.hasStroke()){var a=e.lineWidth;r.x-=a/2,r.y-=a/2,r.width+=a,r.height+=a}this._rect=r}return this._rect},t.initDefaultProps=function(){var e=t.prototype;e.dirtyRectTolerance=10}(),t}(ws);fl.prototype.type="tspan";var KD=Ct({x:0,y:0},Hn),QD={style:Ct({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Vl.style)};function JD(i){return!!(i&&typeof i!="string"&&i.width&&i.height)}var qn=function(i){ut(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.createStyle=function(e){return El(KD,e)},t.prototype._getSize=function(e){var n=this.style,r=n[e];if(r!=null)return r;var a=JD(n.image)?n.image:this.__image;if(!a)return 0;var s=e==="width"?"height":"width",o=n[s];return o==null?a[e]:a[e]/a[s]*o},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return QD},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new ct(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(ws);qn.prototype.type="image";function tA(i,t){var e=t.x,n=t.y,r=t.width,a=t.height,s=t.r,o,l,u,h;r<0&&(e=e+r,r=-r),a<0&&(n=n+a,a=-a),typeof s=="number"?o=l=u=h=s:s instanceof Array?s.length===1?o=l=u=h=s[0]:s.length===2?(o=u=s[0],l=h=s[1]):s.length===3?(o=s[0],l=h=s[1],u=s[2]):(o=s[0],l=s[1],u=s[2],h=s[3]):o=l=u=h=0;var c;o+l>r&&(c=o+l,o*=r/c,l*=r/c),u+h>r&&(c=u+h,u*=r/c,h*=r/c),l+u>a&&(c=l+u,l*=a/c,u*=a/c),o+h>a&&(c=o+h,o*=a/c,h*=a/c),i.moveTo(e+o,n),i.lineTo(e+r-l,n),l!==0&&i.arc(e+r-l,n+l,l,-Math.PI/2,0),i.lineTo(e+r,n+a-u),u!==0&&i.arc(e+r-u,n+a-u,u,0,Math.PI/2),i.lineTo(e+h,n+a),h!==0&&i.arc(e+h,n+a-h,h,Math.PI/2,Math.PI),i.lineTo(e,n+o),o!==0&&i.arc(e+o,n+o,o,Math.PI,Math.PI*1.5)}var xr=Math.round;function Ty(i,t,e){if(t){var n=t.x1,r=t.x2,a=t.y1,s=t.y2;i.x1=n,i.x2=r,i.y1=a,i.y2=s;var o=e&&e.lineWidth;return o&&(xr(n*2)===xr(r*2)&&(i.x1=i.x2=En(n,o,!0)),xr(a*2)===xr(s*2)&&(i.y1=i.y2=En(a,o,!0))),i}}function Cy(i,t,e){if(t){var n=t.x,r=t.y,a=t.width,s=t.height;i.x=n,i.y=r,i.width=a,i.height=s;var o=e&&e.lineWidth;return o&&(i.x=En(n,o,!0),i.y=En(r,o,!0),i.width=Math.max(En(n+a,o,!1)-i.x,a===0?0:1),i.height=Math.max(En(r+s,o,!1)-i.y,s===0?0:1)),i}}function En(i,t,e){if(!t)return i;var n=xr(i*2);return(n+xr(t))%2===0?n/2:(n+(e?1:-1))/2}var eA=function(){function i(){this.x=0,this.y=0,this.width=0,this.height=0}return i}(),iA={},de=function(i){ut(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new eA},t.prototype.buildPath=function(e,n){var r,a,s,o;if(this.subPixelOptimize){var l=Cy(iA,n,this.style);r=l.x,a=l.y,s=l.width,o=l.height,l.r=n.r,n=l}else r=n.x,a=n.y,s=n.width,o=n.height;n.r?tA(e,n):e.rect(r,a,s,o)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(bt);de.prototype.type="rect";var _v={fill:"#000"},yv=2,nA={style:Ct({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Vl.style)},ge=function(i){ut(t,i);function t(e){var n=i.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=_v,n.attr(e),n}return t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){i.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var n=this._children[e];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},t.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):i.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(e){var n=this.innerTransformable;return n?n.getLocalTransform(e):i.prototype.getLocalTransform.call(this,e)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),i.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,lA(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(e){i.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=e},t.prototype.removeSelfFromZr=function(e){i.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new ct(0,0,0,0),n=this._children,r=[],a=null,s=0;s<n.length;s++){var o=n[s],l=o.getBoundingRect(),u=o.getLocalTransform(r);u?(e.copy(l),e.applyTransform(u),a=a||e.clone(),a.union(e)):(a=a||l.clone(),a.union(l))}this._rect=a||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||_v},t.prototype.setTextContent=function(e){},t.prototype._mergeStyle=function(e,n){if(!n)return e;var r=n.rich,a=e.rich||r&&{};return F(e,n),r&&a?(this._mergeRich(a,r),e.rich=a):a&&(e.rich=a),e},t.prototype._mergeRich=function(e,n){for(var r=It(n),a=0;a<r.length;a++){var s=r[a];e[s]=e[s]||{},F(e[s],n[s])}},t.prototype.getAnimationStyleProps=function(){return nA},t.prototype._getOrCreateChild=function(e){var n=this._children[this._childCursor];return(!n||!(n instanceof e))&&(n=new e),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},t.prototype._updatePlainTexts=function(){var e=this.style,n=e.font||Xn,r=e.padding,a=Mv(e),s=MD(a,e),o=ju(e),l=!!e.backgroundColor,u=s.outerHeight,h=s.outerWidth,c=s.contentWidth,f=s.lines,d=s.lineHeight,p=this._defaultStyle;this.isTruncated=!!s.isTruncated;var g=e.x||0,v=e.y||0,m=e.align||p.align||"left",_=e.verticalAlign||p.verticalAlign||"top",y=g,b=mr(v,s.contentHeight,_);if(o||r){var w=Ma(g,h,m),x=mr(v,u,_);o&&this._renderBackground(e,e,w,x,h,u)}b+=d/2,r&&(y=Cv(g,m,r),_==="top"?b+=r[0]:_==="bottom"&&(b-=r[2]));for(var S=0,T=!1,C=Tv("fill"in e?e.fill:(T=!0,p.fill)),M=Sv("stroke"in e?e.stroke:!l&&(!p.autoStroke||T)?(S=yv,p.stroke):null),D=e.textShadowBlur>0,P=e.width!=null&&(e.overflow==="truncate"||e.overflow==="break"||e.overflow==="breakAll"),k=s.calculatedLineHeight,L=0;L<f.length;L++){var I=this._getOrCreateChild(fl),R=I.createStyle();I.useStyle(R),R.text=f[L],R.x=y,R.y=b,R.textAlign=m,R.textBaseline="middle",R.opacity=e.opacity,R.strokeFirst=!0,D&&(R.shadowBlur=e.textShadowBlur||0,R.shadowColor=e.textShadowColor||"transparent",R.shadowOffsetX=e.textShadowOffsetX||0,R.shadowOffsetY=e.textShadowOffsetY||0),R.stroke=M,R.fill=C,M&&(R.lineWidth=e.lineWidth||S,R.lineDash=e.lineDash,R.lineDashOffset=e.lineDashOffset||0),R.font=n,xv(R,e),b+=d,P&&I.setBoundingRect(new ct(Ma(R.x,c,R.textAlign),mr(R.y,k,R.textBaseline),c,k))}},t.prototype._updateRichTexts=function(){var e=this.style,n=Mv(e),r=PD(n,e),a=r.width,s=r.outerWidth,o=r.outerHeight,l=e.padding,u=e.x||0,h=e.y||0,c=this._defaultStyle,f=e.align||c.align,d=e.verticalAlign||c.verticalAlign;this.isTruncated=!!r.isTruncated;var p=Ma(u,s,f),g=mr(h,o,d),v=p,m=g;l&&(v+=l[3],m+=l[0]);var _=v+a;ju(e)&&this._renderBackground(e,e,p,g,s,o);for(var y=!!e.backgroundColor,b=0;b<r.lines.length;b++){for(var w=r.lines[b],x=w.tokens,S=x.length,T=w.lineHeight,C=w.width,M=0,D=v,P=_,k=S-1,L=void 0;M<S&&(L=x[M],!L.align||L.align==="left");)this._placeToken(L,e,T,m,D,"left",y),C-=L.width,D+=L.width,M++;for(;k>=0&&(L=x[k],L.align==="right");)this._placeToken(L,e,T,m,P,"right",y),C-=L.width,P-=L.width,k--;for(D+=(a-(D-v)-(_-P)-C)/2;M<=k;)L=x[M],this._placeToken(L,e,T,m,D+L.width/2,"center",y),D+=L.width,M++;m+=T}},t.prototype._placeToken=function(e,n,r,a,s,o,l){var u=n.rich[e.styleName]||{};u.text=e.text;var h=e.verticalAlign,c=a+r/2;h==="top"?c=a+e.height/2:h==="bottom"&&(c=a+r-e.height/2);var f=!e.isLineHolder&&ju(u);f&&this._renderBackground(u,n,o==="right"?s-e.width:o==="center"?s-e.width/2:s,c-e.height/2,e.width,e.height);var d=!!u.backgroundColor,p=e.textPadding;p&&(s=Cv(s,o,p),c-=e.height/2-p[0]-e.innerHeight/2);var g=this._getOrCreateChild(fl),v=g.createStyle();g.useStyle(v);var m=this._defaultStyle,_=!1,y=0,b=Tv("fill"in u?u.fill:"fill"in n?n.fill:(_=!0,m.fill)),w=Sv("stroke"in u?u.stroke:"stroke"in n?n.stroke:!d&&!l&&(!m.autoStroke||_)?(y=yv,m.stroke):null),x=u.textShadowBlur>0||n.textShadowBlur>0;v.text=e.text,v.x=s,v.y=c,x&&(v.shadowBlur=u.textShadowBlur||n.textShadowBlur||0,v.shadowColor=u.textShadowColor||n.textShadowColor||"transparent",v.shadowOffsetX=u.textShadowOffsetX||n.textShadowOffsetX||0,v.shadowOffsetY=u.textShadowOffsetY||n.textShadowOffsetY||0),v.textAlign=o,v.textBaseline="middle",v.font=e.font||Xn,v.opacity=Ea(u.opacity,n.opacity,1),xv(v,u),w&&(v.lineWidth=Ea(u.lineWidth,n.lineWidth,y),v.lineDash=Q(u.lineDash,n.lineDash),v.lineDashOffset=n.lineDashOffset||0,v.stroke=w),b&&(v.fill=b);var S=e.contentWidth,T=e.contentHeight;g.setBoundingRect(new ct(Ma(v.x,S,v.textAlign),mr(v.y,T,v.textBaseline),S,T))},t.prototype._renderBackground=function(e,n,r,a,s,o){var l=e.backgroundColor,u=e.borderWidth,h=e.borderColor,c=l&&l.image,f=l&&!c,d=e.borderRadius,p=this,g,v;if(f||e.lineHeight||u&&h){g=this._getOrCreateChild(de),g.useStyle(g.createStyle()),g.style.fill=null;var m=g.shape;m.x=r,m.y=a,m.width=s,m.height=o,m.r=d,g.dirtyShape()}if(f){var _=g.style;_.fill=l||null,_.fillOpacity=Q(e.fillOpacity,1)}else if(c){v=this._getOrCreateChild(qn),v.onload=function(){p.dirtyStyle()};var y=v.style;y.image=l.image,y.x=r,y.y=a,y.width=s,y.height=o}if(u&&h){var _=g.style;_.lineWidth=u,_.stroke=h,_.strokeOpacity=Q(e.strokeOpacity,1),_.lineDash=e.borderDash,_.lineDashOffset=e.borderDashOffset||0,g.strokeContainThreshold=0,g.hasFill()&&g.hasStroke()&&(_.strokeFirst=!0,_.lineWidth*=2)}var b=(g||v).style;b.shadowBlur=e.shadowBlur||0,b.shadowColor=e.shadowColor||"transparent",b.shadowOffsetX=e.shadowOffsetX||0,b.shadowOffsetY=e.shadowOffsetY||0,b.opacity=Ea(e.opacity,n.opacity,1)},t.makeFont=function(e){var n="";return oA(e)&&(n=[e.fontStyle,e.fontWeight,sA(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),n&&ei(n)||e.textFont||e.font},t}(ws),rA={left:!0,right:1,center:1},aA={top:1,bottom:1,middle:1},bv=["fontStyle","fontWeight","fontSize","fontFamily"];function sA(i){return typeof i=="string"&&(i.indexOf("px")!==-1||i.indexOf("rem")!==-1||i.indexOf("em")!==-1)?i:isNaN(+i)?of+"px":i+"px"}function xv(i,t){for(var e=0;e<bv.length;e++){var n=bv[e],r=t[n];r!=null&&(i[n]=r)}}function oA(i){return i.fontSize!=null||i.fontFamily||i.fontWeight}function lA(i){return wv(i),A(i.rich,wv),i}function wv(i){if(i){i.font=ge.makeFont(i);var t=i.align;t==="middle"&&(t="center"),i.align=t==null||rA[t]?t:"left";var e=i.verticalAlign;e==="center"&&(e="middle"),i.verticalAlign=e==null||aA[e]?e:"top";var n=i.padding;n&&(i.padding=F_(i.padding))}}function Sv(i,t){return i==null||t<=0||i==="transparent"||i==="none"?null:i.image||i.colorStops?"#000":i}function Tv(i){return i==null||i==="none"?null:i.image||i.colorStops?"#000":i}function Cv(i,t,e){return t==="right"?i-e[1]:t==="center"?i+e[3]/2-e[1]/2:i+e[3]}function Mv(i){var t=i.text;return t!=null&&(t+=""),t}function ju(i){return!!(i.backgroundColor||i.lineHeight||i.borderWidth&&i.borderColor)}var St=Nt(),uA=function(i,t,e,n){if(n){var r=St(n);r.dataIndex=e,r.dataType=t,r.seriesIndex=i,r.ssrType="chart",n.type==="group"&&n.traverse(function(a){var s=St(a);s.seriesIndex=i,s.dataIndex=e,s.dataType=t,s.ssrType="chart"})}},Dv=1,Av={},My=Nt(),Tf=Nt(),Dy=0,Cf=1,Mf=2,si=["emphasis","blur","select"],dl=["normal","emphasis","blur","select"],hA=10,cA=9,Wn="highlight",Ho="downplay",Ha="select",Wo="unselect",Wa="toggleSelect";function sr(i){return i!=null&&i!=="none"}function Hl(i,t,e){i.onHoverStateChange&&(i.hoverState||0)!==e&&i.onHoverStateChange(t),i.hoverState=e}function Ay(i){Hl(i,"emphasis",Mf)}function Py(i){i.hoverState===Mf&&Hl(i,"normal",Dy)}function Df(i){Hl(i,"blur",Cf)}function Ly(i){i.hoverState===Cf&&Hl(i,"normal",Dy)}function fA(i){i.selected=!0}function dA(i){i.selected=!1}function Pv(i,t,e){t(i,e)}function Li(i,t,e){Pv(i,t,e),i.isGroup&&i.traverse(function(n){Pv(n,t,e)})}function pA(i,t,e,n){for(var r=i.style,a={},s=0;s<t.length;s++){var o=t[s],l=r[o];a[o]=l??n[o]}for(var s=0;s<i.animators.length;s++){var u=i.animators[s];u.__fromStateTransition&&u.__fromStateTransition.indexOf(e)<0&&u.targetName==="style"&&u.saveTo(a,t)}return a}function vA(i,t,e,n){var r=e&&gt(e,"select")>=0,a=!1;if(i instanceof bt){var s=My(i),o=r&&s.selectFill||s.normalFill,l=r&&s.selectStroke||s.normalStroke;if(sr(o)||sr(l)){n=n||{};var u=n.style||{};u.fill==="inherit"?(a=!0,n=F({},n),u=F({},u),u.fill=o):!sr(u.fill)&&sr(o)?(a=!0,n=F({},n),u=F({},u),u.fill=qp(o)):!sr(u.stroke)&&sr(l)&&(a||(n=F({},n),u=F({},u)),u.stroke=qp(l)),n.style=u}}if(n&&n.z2==null){a||(n=F({},n));var h=i.z2EmphasisLift;n.z2=i.z2+(h??hA)}return n}function gA(i,t,e){if(e&&e.z2==null){e=F({},e);var n=i.z2SelectLift;e.z2=i.z2+(n??cA)}return e}function mA(i,t,e){var n=gt(i.currentStates,t)>=0,r=i.style.opacity,a=n?null:pA(i,["opacity"],t,{opacity:1});e=e||{};var s=e.style||{};return s.opacity==null&&(e=F({},e),s=F({opacity:n?r:a.opacity*.1},s),e.style=s),e}function qu(i,t){var e=this.states[i];if(this.style){if(i==="emphasis")return vA(this,i,t,e);if(i==="blur")return mA(this,i,e);if(i==="select")return gA(this,i,e)}return e}function _A(i){i.stateProxy=qu;var t=i.getTextContent(),e=i.getTextGuideLine();t&&(t.stateProxy=qu),e&&(e.stateProxy=qu)}function Lv(i,t){!Oy(i,t)&&!i.__highByOuter&&Li(i,Ay)}function kv(i,t){!Oy(i,t)&&!i.__highByOuter&&Li(i,Py)}function dc(i,t){i.__highByOuter|=1<<(t||0),Li(i,Ay)}function pc(i,t){!(i.__highByOuter&=~(1<<(t||0)))&&Li(i,Py)}function yA(i){Li(i,Df)}function ky(i){Li(i,Ly)}function Iy(i){Li(i,fA)}function Ry(i){Li(i,dA)}function Oy(i,t){return i.__highDownSilentOnTouch&&t.zrByTouch}function Ey(i){var t=i.getModel(),e=[],n=[];t.eachComponent(function(r,a){var s=Tf(a),o=r==="series",l=o?i.getViewOfSeriesModel(a):i.getViewOfComponentModel(a);!o&&n.push(l),s.isBlured&&(l.group.traverse(function(u){Ly(u)}),o&&e.push(a)),s.isBlured=!1}),A(n,function(r){r&&r.toggleBlurSeries&&r.toggleBlurSeries(e,!1,t)})}function vc(i,t,e,n){var r=n.getModel();e=e||"coordinateSystem";function a(u,h){for(var c=0;c<h.length;c++){var f=u.getItemGraphicEl(h[c]);f&&ky(f)}}if(i!=null&&!(!t||t==="none")){var s=r.getSeriesByIndex(i),o=s.coordinateSystem;o&&o.master&&(o=o.master);var l=[];r.eachSeries(function(u){var h=s===u,c=u.coordinateSystem;c&&c.master&&(c=c.master);var f=c&&o?c===o:h;if(!(e==="series"&&!h||e==="coordinateSystem"&&!f||t==="series"&&h)){var d=n.getViewOfSeriesModel(u);if(d.group.traverse(function(v){v.__highByOuter&&h&&t==="self"||Df(v)}),pe(t))a(u.getData(),t);else if(Y(t))for(var p=It(t),g=0;g<p.length;g++)a(u.getData(p[g]),t[p[g]]);l.push(u),Tf(u).isBlured=!0}}),r.eachComponent(function(u,h){if(u!=="series"){var c=n.getViewOfComponentModel(h);c&&c.toggleBlurSeries&&c.toggleBlurSeries(l,!0,r)}})}}function gc(i,t,e){if(!(i==null||t==null)){var n=e.getModel().getComponent(i,t);if(n){Tf(n).isBlured=!0;var r=e.getViewOfComponentModel(n);!r||!r.focusBlurEnabled||r.group.traverse(function(a){Df(a)})}}}function bA(i,t,e){var n=i.seriesIndex,r=i.getData(t.dataType);if(r){var a=bs(r,t);a=(H(a)?a[0]:a)||0;var s=r.getItemGraphicEl(a);if(!s)for(var o=r.count(),l=0;!s&&l<o;)s=r.getItemGraphicEl(l++);if(s){var u=St(s);vc(n,u.focus,u.blurScope,e)}else{var h=i.get(["emphasis","focus"]),c=i.get(["emphasis","blurScope"]);h!=null&&vc(n,h,c,e)}}}function Af(i,t,e,n){var r={focusSelf:!1,dispatchers:null};if(i==null||i==="series"||t==null||e==null)return r;var a=n.getModel().getComponent(i,t);if(!a)return r;var s=n.getViewOfComponentModel(a);if(!s||!s.findHighDownDispatchers)return r;for(var o=s.findHighDownDispatchers(e),l,u=0;u<o.length;u++)if(St(o[u]).focus==="self"){l=!0;break}return{focusSelf:l,dispatchers:o}}function xA(i,t,e){var n=St(i),r=Af(n.componentMainType,n.componentIndex,n.componentHighDownName,e),a=r.dispatchers,s=r.focusSelf;a?(s&&gc(n.componentMainType,n.componentIndex,e),A(a,function(o){return Lv(o,t)})):(vc(n.seriesIndex,n.focus,n.blurScope,e),n.focus==="self"&&gc(n.componentMainType,n.componentIndex,e),Lv(i,t))}function wA(i,t,e){Ey(e);var n=St(i),r=Af(n.componentMainType,n.componentIndex,n.componentHighDownName,e).dispatchers;r?A(r,function(a){return kv(a,t)}):kv(i,t)}function SA(i,t,e){if(yc(t)){var n=t.dataType,r=i.getData(n),a=bs(r,t);H(a)||(a=[a]),i[t.type===Wa?"toggleSelect":t.type===Ha?"select":"unselect"](a,n)}}function Iv(i){var t=i.getAllData();A(t,function(e){var n=e.data,r=e.type;n.eachItemGraphicEl(function(a,s){i.isSelected(s,r)?Iy(a):Ry(a)})})}function TA(i){var t=[];return i.eachSeries(function(e){var n=e.getAllData();A(n,function(r){r.data;var a=r.type,s=e.getSelectedDataIndices();if(s.length>0){var o={dataIndex:s,seriesIndex:e.seriesIndex};a!=null&&(o.dataType=a),t.push(o)}})}),t}function mc(i,t,e){Fy(i,!0),Li(i,_A),DA(i,t,e)}function CA(i){Fy(i,!1)}function MA(i,t,e,n){n?CA(i):mc(i,t,e)}function DA(i,t,e){var n=St(i);t!=null?(n.focus=t,n.blurScope=e):n.focus&&(n.focus=null)}var Rv=["emphasis","blur","select"],AA={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function PA(i,t,e,n){e=e||"itemStyle";for(var r=0;r<Rv.length;r++){var a=Rv[r],s=t.getModel([a,e]),o=i.ensureState(a);o.style=s[AA[e]]()}}function Fy(i,t){var e=t===!1,n=i;i.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=i.highDownSilentOnTouch),(!e||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!e)}function _c(i){return!!(i&&i.__highDownDispatcher)}function LA(i){var t=Av[i];return t==null&&Dv<=32&&(t=Av[i]=Dv++),t}function yc(i){var t=i.type;return t===Ha||t===Wo||t===Wa}function Ov(i){var t=i.type;return t===Wn||t===Ho}function kA(i){var t=My(i);t.normalFill=i.style.fill,t.normalStroke=i.style.stroke;var e=i.states.select||{};t.selectFill=e.style&&e.style.fill||null,t.selectStroke=e.style&&e.style.stroke||null}var or=Ir.CMD,IA=[[],[],[]],Ev=Math.sqrt,RA=Math.atan2;function OA(i,t){if(t){var e=i.data,n=i.len(),r,a,s,o,l,u,h=or.M,c=or.C,f=or.L,d=or.R,p=or.A,g=or.Q;for(s=0,o=0;s<n;){switch(r=e[s++],o=s,a=0,r){case h:a=1;break;case f:a=1;break;case c:a=3;break;case g:a=2;break;case p:var v=t[4],m=t[5],_=Ev(t[0]*t[0]+t[1]*t[1]),y=Ev(t[2]*t[2]+t[3]*t[3]),b=RA(-t[1]/y,t[0]/_);e[s]*=_,e[s++]+=v,e[s]*=y,e[s++]+=m,e[s++]*=_,e[s++]*=y,e[s++]+=b,e[s++]+=b,s+=2,o=s;break;case d:u[0]=e[s++],u[1]=e[s++],ri(u,u,t),e[o++]=u[0],e[o++]=u[1],u[0]+=e[s++],u[1]+=e[s++],ri(u,u,t),e[o++]=u[0],e[o++]=u[1]}for(l=0;l<a;l++){var w=IA[l];w[0]=e[s++],w[1]=e[s++],ri(w,w,t),e[o++]=w[0],e[o++]=w[1]}}i.increaseVersion()}}var Zu=Math.sqrt,eo=Math.sin,io=Math.cos,na=Math.PI;function Fv(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function bc(i,t){return(i[0]*t[0]+i[1]*t[1])/(Fv(i)*Fv(t))}function Bv(i,t){return(i[0]*t[1]<i[1]*t[0]?-1:1)*Math.acos(bc(i,t))}function zv(i,t,e,n,r,a,s,o,l,u,h){var c=l*(na/180),f=io(c)*(i-e)/2+eo(c)*(t-n)/2,d=-1*eo(c)*(i-e)/2+io(c)*(t-n)/2,p=f*f/(s*s)+d*d/(o*o);p>1&&(s*=Zu(p),o*=Zu(p));var g=(r===a?-1:1)*Zu((s*s*(o*o)-s*s*(d*d)-o*o*(f*f))/(s*s*(d*d)+o*o*(f*f)))||0,v=g*s*d/o,m=g*-o*f/s,_=(i+e)/2+io(c)*v-eo(c)*m,y=(t+n)/2+eo(c)*v+io(c)*m,b=Bv([1,0],[(f-v)/s,(d-m)/o]),w=[(f-v)/s,(d-m)/o],x=[(-1*f-v)/s,(-1*d-m)/o],S=Bv(w,x);if(bc(w,x)<=-1&&(S=na),bc(w,x)>=1&&(S=0),S<0){var T=Math.round(S/na*1e6)/1e6;S=na*2+T%2*na}h.addData(u,_,y,s,o,b,S,c,a)}var EA=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,FA=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function BA(i){var t=new Ir;if(!i)return t;var e=0,n=0,r=e,a=n,s,o=Ir.CMD,l=i.match(EA);if(!l)return t;for(var u=0;u<l.length;u++){for(var h=l[u],c=h.charAt(0),f=void 0,d=h.match(FA)||[],p=d.length,g=0;g<p;g++)d[g]=parseFloat(d[g]);for(var v=0;v<p;){var m=void 0,_=void 0,y=void 0,b=void 0,w=void 0,x=void 0,S=void 0,T=e,C=n,M=void 0,D=void 0;switch(c){case"l":e+=d[v++],n+=d[v++],f=o.L,t.addData(f,e,n);break;case"L":e=d[v++],n=d[v++],f=o.L,t.addData(f,e,n);break;case"m":e+=d[v++],n+=d[v++],f=o.M,t.addData(f,e,n),r=e,a=n,c="l";break;case"M":e=d[v++],n=d[v++],f=o.M,t.addData(f,e,n),r=e,a=n,c="L";break;case"h":e+=d[v++],f=o.L,t.addData(f,e,n);break;case"H":e=d[v++],f=o.L,t.addData(f,e,n);break;case"v":n+=d[v++],f=o.L,t.addData(f,e,n);break;case"V":n=d[v++],f=o.L,t.addData(f,e,n);break;case"C":f=o.C,t.addData(f,d[v++],d[v++],d[v++],d[v++],d[v++],d[v++]),e=d[v-2],n=d[v-1];break;case"c":f=o.C,t.addData(f,d[v++]+e,d[v++]+n,d[v++]+e,d[v++]+n,d[v++]+e,d[v++]+n),e+=d[v-2],n+=d[v-1];break;case"S":m=e,_=n,M=t.len(),D=t.data,s===o.C&&(m+=e-D[M-4],_+=n-D[M-3]),f=o.C,T=d[v++],C=d[v++],e=d[v++],n=d[v++],t.addData(f,m,_,T,C,e,n);break;case"s":m=e,_=n,M=t.len(),D=t.data,s===o.C&&(m+=e-D[M-4],_+=n-D[M-3]),f=o.C,T=e+d[v++],C=n+d[v++],e+=d[v++],n+=d[v++],t.addData(f,m,_,T,C,e,n);break;case"Q":T=d[v++],C=d[v++],e=d[v++],n=d[v++],f=o.Q,t.addData(f,T,C,e,n);break;case"q":T=d[v++]+e,C=d[v++]+n,e+=d[v++],n+=d[v++],f=o.Q,t.addData(f,T,C,e,n);break;case"T":m=e,_=n,M=t.len(),D=t.data,s===o.Q&&(m+=e-D[M-4],_+=n-D[M-3]),e=d[v++],n=d[v++],f=o.Q,t.addData(f,m,_,e,n);break;case"t":m=e,_=n,M=t.len(),D=t.data,s===o.Q&&(m+=e-D[M-4],_+=n-D[M-3]),e+=d[v++],n+=d[v++],f=o.Q,t.addData(f,m,_,e,n);break;case"A":y=d[v++],b=d[v++],w=d[v++],x=d[v++],S=d[v++],T=e,C=n,e=d[v++],n=d[v++],f=o.A,zv(T,C,e,n,x,S,y,b,w,f,t);break;case"a":y=d[v++],b=d[v++],w=d[v++],x=d[v++],S=d[v++],T=e,C=n,e+=d[v++],n+=d[v++],f=o.A,zv(T,C,e,n,x,S,y,b,w,f,t);break}}(c==="z"||c==="Z")&&(f=o.Z,t.addData(f),e=r,n=a),s=f}return t.toStatic(),t}var By=function(i){ut(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.applyTransform=function(e){},t}(bt);function zy(i){return i.setData!=null}function Ny(i,t){var e=BA(i),n=F({},t);return n.buildPath=function(r){if(zy(r)){r.setData(e.data);var a=r.getContext();a&&r.rebuildPath(a,1)}else{var a=r;e.rebuildPath(a,1)}},n.applyTransform=function(r){OA(e,r),this.dirtyShape()},n}function zA(i,t){return new By(Ny(i,t))}function NA(i,t){var e=Ny(i,t),n=function(r){ut(a,r);function a(s){var o=r.call(this,s)||this;return o.applyTransform=e.applyTransform,o.buildPath=e.buildPath,o}return a}(By);return n}function VA(i,t){for(var e=[],n=i.length,r=0;r<n;r++){var a=i[r];e.push(a.getUpdatedPathProxy(!0))}var s=new bt(t);return s.createPathProxy(),s.buildPath=function(o){if(zy(o)){o.appendPath(e);var l=o.getContext();l&&o.rebuildPath(l,1)}},s}var HA=function(){function i(){this.cx=0,this.cy=0,this.r=0}return i}(),Wl=function(i){ut(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new HA},t.prototype.buildPath=function(e,n){e.moveTo(n.cx+n.r,n.cy),e.arc(n.cx,n.cy,n.r,0,Math.PI*2)},t}(bt);Wl.prototype.type="circle";var WA=function(){function i(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return i}(),Pf=function(i){ut(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new WA},t.prototype.buildPath=function(e,n){var r=.5522848,a=n.cx,s=n.cy,o=n.rx,l=n.ry,u=o*r,h=l*r;e.moveTo(a-o,s),e.bezierCurveTo(a-o,s-h,a-u,s-l,a,s-l),e.bezierCurveTo(a+u,s-l,a+o,s-h,a+o,s),e.bezierCurveTo(a+o,s+h,a+u,s+l,a,s+l),e.bezierCurveTo(a-u,s+l,a-o,s+h,a-o,s),e.closePath()},t}(bt);Pf.prototype.type="ellipse";var Vy=Math.PI,Ku=Vy*2,Sn=Math.sin,lr=Math.cos,UA=Math.acos,Xt=Math.atan2,Nv=Math.abs,Ua=Math.sqrt,Da=Math.max,Ze=Math.min,ze=1e-4;function GA(i,t,e,n,r,a,s,o){var l=e-i,u=n-t,h=s-r,c=o-a,f=c*l-h*u;if(!(f*f<ze))return f=(h*(t-a)-c*(i-r))/f,[i+f*l,t+f*u]}function no(i,t,e,n,r,a,s){var o=i-e,l=t-n,u=(s?a:-a)/Ua(o*o+l*l),h=u*l,c=-u*o,f=i+h,d=t+c,p=e+h,g=n+c,v=(f+p)/2,m=(d+g)/2,_=p-f,y=g-d,b=_*_+y*y,w=r-a,x=f*g-p*d,S=(y<0?-1:1)*Ua(Da(0,w*w*b-x*x)),T=(x*y-_*S)/b,C=(-x*_-y*S)/b,M=(x*y+_*S)/b,D=(-x*_+y*S)/b,P=T-v,k=C-m,L=M-v,I=D-m;return P*P+k*k>L*L+I*I&&(T=M,C=D),{cx:T,cy:C,x0:-h,y0:-c,x1:T*(r/w-1),y1:C*(r/w-1)}}function YA(i){var t;if(H(i)){var e=i.length;if(!e)return i;e===1?t=[i[0],i[0],0,0]:e===2?t=[i[0],i[0],i[1],i[1]]:e===3?t=i.concat(i[2]):t=i}else t=[i,i,i,i];return t}function XA(i,t){var e,n=Da(t.r,0),r=Da(t.r0||0,0),a=n>0,s=r>0;if(!(!a&&!s)){if(a||(n=r,r=0),r>n){var o=n;n=r,r=o}var l=t.startAngle,u=t.endAngle;if(!(isNaN(l)||isNaN(u))){var h=t.cx,c=t.cy,f=!!t.clockwise,d=Nv(u-l),p=d>Ku&&d%Ku;if(p>ze&&(d=p),!(n>ze))i.moveTo(h,c);else if(d>Ku-ze)i.moveTo(h+n*lr(l),c+n*Sn(l)),i.arc(h,c,n,l,u,!f),r>ze&&(i.moveTo(h+r*lr(u),c+r*Sn(u)),i.arc(h,c,r,u,l,f));else{var g=void 0,v=void 0,m=void 0,_=void 0,y=void 0,b=void 0,w=void 0,x=void 0,S=void 0,T=void 0,C=void 0,M=void 0,D=void 0,P=void 0,k=void 0,L=void 0,I=n*lr(l),R=n*Sn(l),V=r*lr(u),W=r*Sn(u),N=d>ze;if(N){var j=t.cornerRadius;j&&(e=YA(j),g=e[0],v=e[1],m=e[2],_=e[3]);var K=Nv(n-r)/2;if(y=Ze(K,m),b=Ze(K,_),w=Ze(K,g),x=Ze(K,v),C=S=Da(y,b),M=T=Da(w,x),(S>ze||T>ze)&&(D=n*lr(u),P=n*Sn(u),k=r*lr(l),L=r*Sn(l),d<Vy)){var U=GA(I,R,k,L,D,P,V,W);if(U){var ft=I-U[0],dt=R-U[1],Et=D-U[0],Vt=P-U[1],Ce=1/Sn(UA((ft*Et+dt*Vt)/(Ua(ft*ft+dt*dt)*Ua(Et*Et+Vt*Vt)))/2),_e=Ua(U[0]*U[0]+U[1]*U[1]);C=Ze(S,(n-_e)/(Ce+1)),M=Ze(T,(r-_e)/(Ce-1))}}}if(!N)i.moveTo(h+I,c+R);else if(C>ze){var Ut=Ze(m,C),Pt=Ze(_,C),X=no(k,L,I,R,n,Ut,f),J=no(D,P,V,W,n,Pt,f);i.moveTo(h+X.cx+X.x0,c+X.cy+X.y0),C<S&&Ut===Pt?i.arc(h+X.cx,c+X.cy,C,Xt(X.y0,X.x0),Xt(J.y0,J.x0),!f):(Ut>0&&i.arc(h+X.cx,c+X.cy,Ut,Xt(X.y0,X.x0),Xt(X.y1,X.x1),!f),i.arc(h,c,n,Xt(X.cy+X.y1,X.cx+X.x1),Xt(J.cy+J.y1,J.cx+J.x1),!f),Pt>0&&i.arc(h+J.cx,c+J.cy,Pt,Xt(J.y1,J.x1),Xt(J.y0,J.x0),!f))}else i.moveTo(h+I,c+R),i.arc(h,c,n,l,u,!f);if(!(r>ze)||!N)i.lineTo(h+V,c+W);else if(M>ze){var Ut=Ze(g,M),Pt=Ze(v,M),X=no(V,W,D,P,r,-Pt,f),J=no(I,R,k,L,r,-Ut,f);i.lineTo(h+X.cx+X.x0,c+X.cy+X.y0),M<T&&Ut===Pt?i.arc(h+X.cx,c+X.cy,M,Xt(X.y0,X.x0),Xt(J.y0,J.x0),!f):(Pt>0&&i.arc(h+X.cx,c+X.cy,Pt,Xt(X.y0,X.x0),Xt(X.y1,X.x1),!f),i.arc(h,c,r,Xt(X.cy+X.y1,X.cx+X.x1),Xt(J.cy+J.y1,J.cx+J.x1),f),Ut>0&&i.arc(h+J.cx,c+J.cy,Ut,Xt(J.y1,J.x1),Xt(J.y0,J.x0),!f))}else i.lineTo(h+V,c+W),i.arc(h,c,r,u,l,f)}i.closePath()}}}var $A=function(){function i(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return i}(),Ss=function(i){ut(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new $A},t.prototype.buildPath=function(e,n){XA(e,n)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(bt);Ss.prototype.type="sector";var jA=function(){function i(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return i}(),Lf=function(i){ut(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new jA},t.prototype.buildPath=function(e,n){var r=n.cx,a=n.cy,s=Math.PI*2;e.moveTo(r+n.r,a),e.arc(r,a,n.r,0,s,!1),e.moveTo(r+n.r0,a),e.arc(r,a,n.r0,0,s,!0)},t}(bt);Lf.prototype.type="ring";function qA(i,t,e,n){var r=[],a=[],s=[],o=[],l,u,h,c;if(n){h=[1/0,1/0],c=[-1/0,-1/0];for(var f=0,d=i.length;f<d;f++)_r(h,h,i[f]),yr(c,c,i[f]);_r(h,h,n[0]),yr(c,c,n[1])}for(var f=0,d=i.length;f<d;f++){var p=i[f];if(e)l=i[f?f-1:d-1],u=i[(f+1)%d];else if(f===0||f===d-1){r.push(IC(i[f]));continue}else l=i[f-1],u=i[f+1];RC(a,u,l),pu(a,a,t);var g=jh(p,l),v=jh(p,u),m=g+v;m!==0&&(g/=m,v/=m),pu(s,a,-g),pu(o,a,v);var _=kp([],p,s),y=kp([],p,o);n&&(yr(_,_,h),_r(_,_,c),yr(y,y,h),_r(y,y,c)),r.push(_),r.push(y)}return e&&r.push(r.shift()),r}function Hy(i,t,e){var n=t.smooth,r=t.points;if(r&&r.length>=2){if(n){var a=qA(r,n,e,t.smoothConstraint);i.moveTo(r[0][0],r[0][1]);for(var s=r.length,o=0;o<(e?s:s-1);o++){var l=a[o*2],u=a[o*2+1],h=r[(o+1)%s];i.bezierCurveTo(l[0],l[1],u[0],u[1],h[0],h[1])}}else{i.moveTo(r[0][0],r[0][1]);for(var o=1,c=r.length;o<c;o++)i.lineTo(r[o][0],r[o][1])}e&&i.closePath()}}var ZA=function(){function i(){this.points=null,this.smooth=0,this.smoothConstraint=null}return i}(),kf=function(i){ut(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getDefaultShape=function(){return new ZA},t.prototype.buildPath=function(e,n){Hy(e,n,!0)},t}(bt);kf.prototype.type="polygon";var KA=function(){function i(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return i}(),Ts=function(i){ut(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new KA},t.prototype.buildPath=function(e,n){Hy(e,n,!1)},t}(bt);Ts.prototype.type="polyline";var QA={},JA=function(){function i(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return i}(),zr=function(i){ut(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new JA},t.prototype.buildPath=function(e,n){var r,a,s,o;if(this.subPixelOptimize){var l=Ty(QA,n,this.style);r=l.x1,a=l.y1,s=l.x2,o=l.y2}else r=n.x1,a=n.y1,s=n.x2,o=n.y2;var u=n.percent;u!==0&&(e.moveTo(r,a),u<1&&(s=r*(1-u)+s*u,o=a*(1-u)+o*u),e.lineTo(s,o))},t.prototype.pointAt=function(e){var n=this.shape;return[n.x1*(1-e)+n.x2*e,n.y1*(1-e)+n.y2*e]},t}(bt);zr.prototype.type="line";var re=[],tP=function(){function i(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return i}();function Vv(i,t,e){var n=i.cpx2,r=i.cpy2;return n!=null||r!=null?[(e?Wp:ee)(i.x1,i.cpx1,i.cpx2,i.x2,t),(e?Wp:ee)(i.y1,i.cpy1,i.cpy2,i.y2,t)]:[(e?Up:le)(i.x1,i.cpx1,i.x2,t),(e?Up:le)(i.y1,i.cpy1,i.y2,t)]}var If=function(i){ut(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new tP},t.prototype.buildPath=function(e,n){var r=n.x1,a=n.y1,s=n.x2,o=n.y2,l=n.cpx1,u=n.cpy1,h=n.cpx2,c=n.cpy2,f=n.percent;f!==0&&(e.moveTo(r,a),h==null||c==null?(f<1&&(ol(r,l,s,f,re),l=re[1],s=re[2],ol(a,u,o,f,re),u=re[1],o=re[2]),e.quadraticCurveTo(l,u,s,o)):(f<1&&(sl(r,l,h,s,f,re),l=re[1],h=re[2],s=re[3],sl(a,u,c,o,f,re),u=re[1],c=re[2],o=re[3]),e.bezierCurveTo(l,u,h,c,s,o)))},t.prototype.pointAt=function(e){return Vv(this.shape,e,!1)},t.prototype.tangentAt=function(e){var n=Vv(this.shape,e,!0);return FC(n,n)},t}(bt);If.prototype.type="bezier-curve";var eP=function(){function i(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return i}(),Ul=function(i){ut(t,i);function t(e){return i.call(this,e)||this}return t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new eP},t.prototype.buildPath=function(e,n){var r=n.cx,a=n.cy,s=Math.max(n.r,0),o=n.startAngle,l=n.endAngle,u=n.clockwise,h=Math.cos(o),c=Math.sin(o);e.moveTo(h*s+r,c*s+a),e.arc(r,a,s,o,l,!u)},t}(bt);Ul.prototype.type="arc";var iP=function(i){ut(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="compound",e}return t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,n=this.shapeChanged(),r=0;r<e.length;r++)n=n||e[r].shapeChanged();n&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],n=this.getGlobalScale(),r=0;r<e.length;r++)e[r].path||e[r].createPathProxy(),e[r].path.setScale(n[0],n[1],e[r].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,n){for(var r=n.paths||[],a=0;a<r.length;a++)r[a].buildPath(e,r[a].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],n=0;n<e.length;n++)e[n].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),bt.prototype.getBoundingRect.call(this)},t}(bt),Wy=function(){function i(t){this.colorStops=t||[]}return i.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},i}(),nP=function(i){ut(t,i);function t(e,n,r,a,s,o){var l=i.call(this,s)||this;return l.x=e??0,l.y=n??0,l.x2=r??1,l.y2=a??0,l.type="linear",l.global=o||!1,l}return t}(Wy),rP=function(i){ut(t,i);function t(e,n,r,a,s){var o=i.call(this,a)||this;return o.x=e??.5,o.y=n??.5,o.r=r??.5,o.type="radial",o.global=s||!1,o}return t}(Wy),Tn=[0,0],Cn=[0,0],ro=new q,ao=new q,pl=function(){function i(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new q;for(var n=0;n<2;n++)this._axes[n]=new q;t&&this.fromBoundingRect(t,e)}return i.prototype.fromBoundingRect=function(t,e){var n=this._corners,r=this._axes,a=t.x,s=t.y,o=a+t.width,l=s+t.height;if(n[0].set(a,s),n[1].set(o,s),n[2].set(o,l),n[3].set(a,l),e)for(var u=0;u<4;u++)n[u].transform(e);q.sub(r[0],n[1],n[0]),q.sub(r[1],n[3],n[0]),r[0].normalize(),r[1].normalize();for(var u=0;u<2;u++)this._origin[u]=r[u].dot(n[0])},i.prototype.intersect=function(t,e){var n=!0,r=!e;return ro.set(1/0,1/0),ao.set(0,0),!this._intersectCheckOneSide(this,t,ro,ao,r,1)&&(n=!1,r)||!this._intersectCheckOneSide(t,this,ro,ao,r,-1)&&(n=!1,r)||r||q.copy(e,n?ro:ao),n},i.prototype._intersectCheckOneSide=function(t,e,n,r,a,s){for(var o=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,t._corners,Tn),this._getProjMinMaxOnAxis(l,e._corners,Cn),Tn[1]<Cn[0]||Tn[0]>Cn[1]){if(o=!1,a)return o;var h=Math.abs(Cn[0]-Tn[1]),c=Math.abs(Tn[0]-Cn[1]);Math.min(h,c)>r.len()&&(h<c?q.scale(r,u,-h*s):q.scale(r,u,c*s))}else if(n){var h=Math.abs(Cn[0]-Tn[1]),c=Math.abs(Tn[0]-Cn[1]);Math.min(h,c)<n.len()&&(h<c?q.scale(n,u,h*s):q.scale(n,u,-c*s))}}return o},i.prototype._getProjMinMaxOnAxis=function(t,e,n){for(var r=this._axes[t],a=this._origin,s=e[0].dot(r)+a[t],o=s,l=s,u=1;u<e.length;u++){var h=e[u].dot(r)+a[t];o=Math.min(h,o),l=Math.max(h,l)}n[0]=o,n[1]=l},i}(),aP=[],sP=function(i){ut(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return t.prototype.traverse=function(e,n){e.call(n,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,n){n?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,n){n=n||!1;for(var r=0;r<e.length;r++)this.addDisplayable(e[r],n)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var n=this._cursor;n<this._displayables.length;n++)e&&e(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)e&&e(this._temporaryDisplayables[n])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++){var n=this._displayables[e];n.parent=this,n.update(),n.parent=null}for(var e=0;e<this._temporaryDisplayables.length;e++){var n=this._temporaryDisplayables[e];n.parent=this,n.update(),n.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new ct(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var r=this._displayables[n],a=r.getBoundingRect().clone();r.needLocalTransform()&&a.applyTransform(r.getLocalTransform(aP)),e.union(a)}this._rect=e}return this._rect},t.prototype.contain=function(e,n){var r=this.transformCoordToLocal(e,n),a=this.getBoundingRect();if(a.contain(r[0],r[1]))for(var s=0;s<this._displayables.length;s++){var o=this._displayables[s];if(o.contain(e,n))return!0}return!1},t}(ws),oP=Nt();function lP(i,t,e,n,r){var a;if(t&&t.ecModel){var s=t.ecModel.getUpdatePayload();a=s&&s.animation}var o=t&&t.isAnimationEnabled(),l=i==="update";if(o){var u=void 0,h=void 0,c=void 0;n?(u=Q(n.duration,200),h=Q(n.easing,"cubicOut"),c=0):(u=t.getShallow(l?"animationDurationUpdate":"animationDuration"),h=t.getShallow(l?"animationEasingUpdate":"animationEasing"),c=t.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(u=a.duration),a.easing!=null&&(h=a.easing),a.delay!=null&&(c=a.delay)),ot(c)&&(c=c(e,r)),ot(u)&&(u=u(e));var f={duration:u||0,delay:c,easing:h};return f}else return null}function Rf(i,t,e,n,r,a,s){var o=!1,l;ot(r)?(s=a,a=r,r=null):Y(r)&&(a=r.cb,s=r.during,o=r.isFrom,l=r.removeOpt,r=r.dataIndex);var u=i==="leave";u||t.stopAnimation("leave");var h=lP(i,n,r,u?l||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(t,r):null);if(h&&h.duration>0){var c=h.duration,f=h.delay,d=h.easing,p={duration:c,delay:f||0,easing:d,done:a,force:!!a||!!s,setToFinal:!u,scope:i,during:s};o?t.animateFrom(e,p):t.animateTo(e,p)}else t.stopAnimation(),!o&&t.attr(e),s&&s(1),a&&a()}function Rr(i,t,e,n,r,a){Rf("update",i,t,e,n,r,a)}function Uo(i,t,e,n,r,a){Rf("enter",i,t,e,n,r,a)}function Ga(i){if(!i.__zr)return!0;for(var t=0;t<i.animators.length;t++){var e=i.animators[t];if(e.scope==="leave")return!0}return!1}function Uy(i,t,e,n,r,a){Ga(i)||Rf("leave",i,t,e,n,r,a)}function Hv(i,t,e,n){i.removeTextContent(),i.removeTextGuideLine(),Uy(i,{style:{opacity:0}},t,e,n)}function Gy(i,t,e){function n(){i.parent&&i.parent.remove(i)}i.isGroup?i.traverse(function(r){r.isGroup||Hv(r,t,e,n)}):Hv(i,t,e,n)}function uP(i){oP(i).oldStyle=i.style}var vl=Math.max,gl=Math.min,xc={};function hP(i){return bt.extend(i)}var cP=NA;function fP(i,t){return cP(i,t)}function Ge(i,t){xc[i]=t}function dP(i){if(xc.hasOwnProperty(i))return xc[i]}function Of(i,t,e,n){var r=zA(i,t);return e&&(n==="center"&&(e=Xy(e,r.getBoundingRect())),$y(r,e)),r}function Yy(i,t,e){var n=new qn({style:{image:i,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(r){if(e==="center"){var a={width:r.width,height:r.height};n.setStyle(Xy(t,a))}}});return n}function Xy(i,t){var e=t.width/t.height,n=i.height*e,r;n<=i.width?r=i.height:(n=i.width,r=n/e);var a=i.x+i.width/2,s=i.y+i.height/2;return{x:a-n/2,y:s-r/2,width:n,height:r}}var pP=VA;function $y(i,t){if(i.applyTransform){var e=i.getBoundingRect(),n=e.calculateTransform(t);i.applyTransform(n)}}function Ef(i,t){return Ty(i,i,{lineWidth:t}),i}function vP(i){return Cy(i.shape,i.shape,i.style),i}var gP=En;function mP(i,t){for(var e=df([]);i&&i!==t;)Cr(e,i.getLocalTransform(),e),i=i.parent;return e}function Ff(i,t,e){return t&&!pe(t)&&(t=mf.getLocalTransform(t)),e&&(t=W_([],t)),ri([],i,t)}function _P(i,t,e){var n=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),r=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),a=[i==="left"?-n:i==="right"?n:0,i==="top"?-r:i==="bottom"?r:0];return a=Ff(a,t,e),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function Wv(i){return!i.isGroup}function yP(i){return i.shape!=null}function bP(i,t,e){if(!i||!t)return;function n(s){var o={};return s.traverse(function(l){Wv(l)&&l.anid&&(o[l.anid]=l)}),o}function r(s){var o={x:s.x,y:s.y,rotation:s.rotation};return yP(s)&&(o.shape=F({},s.shape)),o}var a=n(i);t.traverse(function(s){if(Wv(s)&&s.anid){var o=a[s.anid];if(o){var l=r(s);s.attr(r(o)),Rr(s,l,e,St(s).dataIndex)}}})}function xP(i,t){return rt(i,function(e){var n=e[0];n=vl(n,t.x),n=gl(n,t.x+t.width);var r=e[1];return r=vl(r,t.y),r=gl(r,t.y+t.height),[n,r]})}function wP(i,t){var e=vl(i.x,t.x),n=gl(i.x+i.width,t.x+t.width),r=vl(i.y,t.y),a=gl(i.y+i.height,t.y+t.height);if(n>=e&&a>=r)return{x:e,y:r,width:n-e,height:a-r}}function Bf(i,t,e){var n=F({rectHover:!0},t),r=n.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},i)return i.indexOf("image://")===0?(r.image=i.slice(8),Ct(r,e),new qn(n)):Of(i.replace("path://",""),n,e,"center")}function SP(i,t,e,n,r){for(var a=0,s=r[r.length-1];a<r.length;a++){var o=r[a];if(jy(i,t,e,n,o[0],o[1],s[0],s[1]))return!0;s=o}}function jy(i,t,e,n,r,a,s,o){var l=e-i,u=n-t,h=s-r,c=o-a,f=Qu(h,c,l,u);if(TP(f))return!1;var d=i-r,p=t-a,g=Qu(d,p,l,u)/f;if(g<0||g>1)return!1;var v=Qu(d,p,h,c)/f;return!(v<0||v>1)}function Qu(i,t,e,n){return i*n-e*t}function TP(i){return i<=1e-6&&i>=-1e-6}function Gl(i){var t=i.itemTooltipOption,e=i.componentModel,n=i.itemName,r=G(t)?{formatter:t}:t,a=e.mainType,s=e.componentIndex,o={componentType:a,name:n,$vars:["name"]};o[a+"Index"]=s;var l=i.formatterParamsExtra;l&&A(It(l),function(h){$n(o,h)||(o[h]=l[h],o.$vars.push(h))});var u=St(i.el);u.componentMainType=a,u.componentIndex=s,u.tooltipConfig={name:n,option:Ct({content:n,encodeHTMLContent:!0,formatterParams:o},r)}}function Uv(i,t){var e;i.isGroup&&(e=t(i)),e||i.traverse(t)}function qy(i,t){if(i)if(H(i))for(var e=0;e<i.length;e++)Uv(i[e],t);else Uv(i,t)}Ge("circle",Wl);Ge("ellipse",Pf);Ge("sector",Ss);Ge("ring",Lf);Ge("polygon",kf);Ge("polyline",Ts);Ge("rect",de);Ge("line",zr);Ge("bezierCurve",If);Ge("arc",Ul);const CP=Object.freeze(Object.defineProperty({__proto__:null,Arc:Ul,BezierCurve:If,BoundingRect:ct,Circle:Wl,CompoundPath:iP,Ellipse:Pf,Group:Ue,Image:qn,IncrementalDisplayable:sP,Line:zr,LinearGradient:nP,OrientedBoundingRect:pl,Path:bt,Point:q,Polygon:kf,Polyline:Ts,RadialGradient:rP,Rect:de,Ring:Lf,Sector:Ss,Text:ge,applyTransform:Ff,clipPointsByRect:xP,clipRectByRect:wP,createIcon:Bf,extendPath:fP,extendShape:hP,getShapeClass:dP,getTransform:mP,groupTransition:bP,initProps:Uo,isElementRemoved:Ga,lineLineIntersect:jy,linePolygonIntersect:SP,makeImage:Yy,makePath:Of,mergePath:pP,registerShape:Ge,removeElement:Uy,removeElementWithFadeOut:Gy,resizePath:$y,setTooltipConfig:Gl,subPixelOptimize:gP,subPixelOptimizeLine:Ef,subPixelOptimizeRect:vP,transformDirection:_P,traverseElements:qy,updateProps:Rr},Symbol.toStringTag,{value:"Module"}));var Yl={};function MP(i,t){for(var e=0;e<si.length;e++){var n=si[e],r=t[n],a=i.ensureState(n);a.style=a.style||{},a.style.text=r}var s=i.currentStates.slice();i.clearStates(!0),i.setStyle({text:t.normal}),i.useStates(s,!0)}function Gv(i,t,e){var n=i.labelFetcher,r=i.labelDataIndex,a=i.labelDimIndex,s=t.normal,o;n&&(o=n.getFormattedLabel(r,"normal",null,a,s&&s.get("formatter"),e!=null?{interpolatedValue:e}:null)),o==null&&(o=ot(i.defaultText)?i.defaultText(r,i,e):i.defaultText);for(var l={normal:o},u=0;u<si.length;u++){var h=si[u],c=t[h];l[h]=Q(n?n.getFormattedLabel(r,h,null,a,c&&c.get("formatter")):null,o)}return l}function Zy(i,t,e,n){e=e||Yl;for(var r=i instanceof ge,a=!1,s=0;s<dl.length;s++){var o=t[dl[s]];if(o&&o.getShallow("show")){a=!0;break}}var l=r?i:i.getTextContent();if(a){r||(l||(l=new ge,i.setTextContent(l)),i.stateProxy&&(l.stateProxy=i.stateProxy));var u=Gv(e,t),h=t.normal,c=!!h.getShallow("show"),f=Or(h,n,e,!1,!r);f.text=u.normal,r||i.setTextConfig(Yv(h,e,!1));for(var s=0;s<si.length;s++){var d=si[s],o=t[d];if(o){var p=l.ensureState(d),g=!!Q(o.getShallow("show"),c);if(g!==c&&(p.ignore=!g),p.style=Or(o,n,e,!0,!r),p.style.text=u[d],!r){var v=i.ensureState(d);v.textConfig=Yv(o,e,!0)}}}l.silent=!!h.getShallow("silent"),l.style.x!=null&&(f.x=l.style.x),l.style.y!=null&&(f.y=l.style.y),l.ignore=!c,l.useStyle(f),l.dirty(),e.enableTextSetter&&(kP(l).setLabelText=function(m){var _=Gv(e,t,m);MP(l,_)})}else l&&(l.ignore=!0);i.dirty()}function DP(i,t){t=t||"label";for(var e={normal:i.getModel(t)},n=0;n<si.length;n++){var r=si[n];e[r]=i.getModel([r,t])}return e}function Or(i,t,e,n,r){var a={};return AP(a,i,e,n,r),t&&F(a,t),a}function Yv(i,t,e){t=t||{};var n={},r,a=i.getShallow("rotate"),s=Q(i.getShallow("distance"),e?null:5),o=i.getShallow("offset");return r=i.getShallow("position")||(e?null:"inside"),r==="outside"&&(r=t.defaultOutsidePosition||"top"),r!=null&&(n.position=r),o!=null&&(n.offset=o),a!=null&&(a*=Math.PI/180,n.rotation=a),s!=null&&(n.distance=s),n.outsideFill=i.get("color")==="inherit"?t.inheritColor||null:"auto",n}function AP(i,t,e,n,r){e=e||Yl;var a=t.ecModel,s=a&&a.option.textStyle,o=PP(t),l;if(o){l={};for(var u in o)if(o.hasOwnProperty(u)){var h=t.getModel(["rich",u]);qv(l[u]={},h,s,e,n,r,!1,!0)}}l&&(i.rich=l);var c=t.get("overflow");c&&(i.overflow=c);var f=t.get("minMargin");f!=null&&(i.margin=f),qv(i,t,s,e,n,r,!0,!1)}function PP(i){for(var t;i&&i!==i.ecModel;){var e=(i.option||Yl).rich;if(e){t=t||{};for(var n=It(e),r=0;r<n.length;r++){var a=n[r];t[a]=1}}i=i.parentModel}return t}var Xv=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],$v=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],jv=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function qv(i,t,e,n,r,a,s,o){e=!r&&e||Yl;var l=n&&n.inheritColor,u=t.getShallow("color"),h=t.getShallow("textBorderColor"),c=Q(t.getShallow("opacity"),e.opacity);(u==="inherit"||u==="auto")&&(l?u=l:u=null),(h==="inherit"||h==="auto")&&(l?h=l:h=null),a||(u=u||e.color,h=h||e.textBorderColor),u!=null&&(i.fill=u),h!=null&&(i.stroke=h);var f=Q(t.getShallow("textBorderWidth"),e.textBorderWidth);f!=null&&(i.lineWidth=f);var d=Q(t.getShallow("textBorderType"),e.textBorderType);d!=null&&(i.lineDash=d);var p=Q(t.getShallow("textBorderDashOffset"),e.textBorderDashOffset);p!=null&&(i.lineDashOffset=p),!r&&c==null&&!o&&(c=n&&n.defaultOpacity),c!=null&&(i.opacity=c),!r&&!a&&i.fill==null&&n.inheritColor&&(i.fill=n.inheritColor);for(var g=0;g<Xv.length;g++){var v=Xv[g],m=Q(t.getShallow(v),e[v]);m!=null&&(i[v]=m)}for(var g=0;g<$v.length;g++){var v=$v[g],m=t.getShallow(v);m!=null&&(i[v]=m)}if(i.verticalAlign==null){var _=t.getShallow("baseline");_!=null&&(i.verticalAlign=_)}if(!s||!n.disableBox){for(var g=0;g<jv.length;g++){var v=jv[g],m=t.getShallow(v);m!=null&&(i[v]=m)}var y=t.getShallow("borderType");y!=null&&(i.borderDash=y),(i.backgroundColor==="auto"||i.backgroundColor==="inherit")&&l&&(i.backgroundColor=l),(i.borderColor==="auto"||i.borderColor==="inherit")&&l&&(i.borderColor=l)}}function LP(i,t){var e=t&&t.getModel("textStyle");return ei([i.fontStyle||e&&e.getShallow("fontStyle")||"",i.fontWeight||e&&e.getShallow("fontWeight")||"",(i.fontSize||e&&e.getShallow("fontSize")||12)+"px",i.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var kP=Nt(),IP=["textStyle","color"],Ju=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],th=new ge,RP=function(){function i(){}return i.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(IP):null)},i.prototype.getFont=function(){return LP({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},i.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<Ju.length;n++)e[Ju[n]]=this.getShallow(Ju[n]);return th.useStyle(e),th.update(),th.getBoundingRect()},i}(),Ky=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],OP=os(Ky),EP=function(){function i(){}return i.prototype.getLineStyle=function(t){return OP(this,t)},i}(),Qy=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],FP=os(Qy),BP=function(){function i(){}return i.prototype.getItemStyle=function(t,e){return FP(this,t,e)},i}(),At=function(){function i(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}return i.prototype.init=function(t,e,n){},i.prototype.mergeOption=function(t,e){Tt(this.option,t,!0)},i.prototype.get=function(t,e){return t==null?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},i.prototype.getShallow=function(t,e){var n=this.option,r=n==null?n:n[t];if(r==null&&!e){var a=this.parentModel;a&&(r=a.getShallow(t))}return r},i.prototype.getModel=function(t,e){var n=t!=null,r=n?this.parsePath(t):null,a=n?this._doGet(r):this.option;return e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),new i(a,e,this.ecModel)},i.prototype.isEmpty=function(){return this.option==null},i.prototype.restoreData=function(){},i.prototype.clone=function(){var t=this.constructor;return new t(it(this.option))},i.prototype.parsePath=function(t){return typeof t=="string"?t.split("."):t},i.prototype.resolveParentPath=function(t){return t},i.prototype.isAnimationEnabled=function(){if(!$.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},i.prototype._doGet=function(t,e){var n=this.option;if(!t)return n;for(var r=0;r<t.length&&!(t[r]&&(n=n&&typeof n=="object"?n[t[r]]:null,n==null));r++);return n==null&&e&&(n=e._doGet(this.resolveParentPath(t),e.parentModel)),n},i}();wf(At);mD(At);Pi(At,EP);Pi(At,BP);Pi(At,wD);Pi(At,RP);var zP=Math.round(Math.random()*10);function Xl(i){return[i||"",zP++].join("_")}function NP(i){var t={};i.registerSubTypeDefaulter=function(e,n){var r=ii(e);t[r.main]=n},i.determineSubType=function(e,n){var r=n.type;if(!r){var a=ii(e).main;i.hasSubTypes(e)&&t[a]&&(r=t[a](n))}return r}}function VP(i,t){i.topologicalTravel=function(a,s,o,l){if(!a.length)return;var u=e(s),h=u.graph,c=u.noEntryList,f={};for(A(a,function(_){f[_]=!0});c.length;){var d=c.pop(),p=h[d],g=!!f[d];g&&(o.call(l,d,p.originalDeps.slice()),delete f[d]),A(p.successor,g?m:v)}A(f,function(){var _="";throw new Error(_)});function v(_){h[_].entryCount--,h[_].entryCount===0&&c.push(_)}function m(_){f[_]=!0,v(_)}};function e(a){var s={},o=[];return A(a,function(l){var u=n(s,l),h=u.originalDeps=t(l),c=r(h,a);u.entryCount=c.length,u.entryCount===0&&o.push(l),A(c,function(f){gt(u.predecessor,f)<0&&u.predecessor.push(f);var d=n(s,f);gt(d.successor,f)<0&&d.successor.push(l)})}),{graph:s,noEntryList:o}}function n(a,s){return a[s]||(a[s]={predecessor:[],successor:[]}),a[s]}function r(a,s){var o=[];return A(a,function(l){gt(s,l)>=0&&o.push(l)}),o}}function HP(i,t){return Tt(Tt({},i,!0),t,!0)}const WP={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},UP={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var ml="ZH",zf="EN",Dr=zf,Go={},Nf={},Jy=$.domSupported?function(){var i=(document.documentElement.lang||navigator.language||navigator.browserLanguage||Dr).toUpperCase();return i.indexOf(ml)>-1?ml:Dr}():Dr;function t0(i,t){i=i.toUpperCase(),Nf[i]=new At(t),Go[i]=t}function GP(i){if(G(i)){var t=Go[i.toUpperCase()]||{};return i===ml||i===zf?it(t):Tt(it(t),it(Go[Dr]),!1)}else return Tt(it(i),it(Go[Dr]),!1)}function YP(i){return Nf[i]}function XP(){return Nf[Dr]}t0(zf,WP);t0(ml,UP);function Oi(i,t){return i+="","0000".substr(0,t-i.length)+i}function e0(i,t,e,n){var r=Bl(i),a=r[$P(e)](),s=r[jP(e)]()+1,o=Math.floor((s-1)/3)+1,l=r[qP(e)](),u=r["get"+(e?"UTC":"")+"Day"](),h=r[ZP(e)](),c=(h-1)%12+1,f=r[KP(e)](),d=r[QP(e)](),p=r[JP(e)](),g=h>=12?"pm":"am",v=g.toUpperCase(),m=n instanceof At?n:YP(Jy)||XP(),_=m.getModel("time"),y=_.get("month"),b=_.get("monthAbbr"),w=_.get("dayOfWeek"),x=_.get("dayOfWeekAbbr");return(t||"").replace(/{a}/g,g+"").replace(/{A}/g,v+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,Oi(a%100+"",2)).replace(/{Q}/g,o+"").replace(/{MMMM}/g,y[s-1]).replace(/{MMM}/g,b[s-1]).replace(/{MM}/g,Oi(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,Oi(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,w[u]).replace(/{ee}/g,x[u]).replace(/{e}/g,u+"").replace(/{HH}/g,Oi(h,2)).replace(/{H}/g,h+"").replace(/{hh}/g,Oi(c+"",2)).replace(/{h}/g,c+"").replace(/{mm}/g,Oi(f,2)).replace(/{m}/g,f+"").replace(/{ss}/g,Oi(d,2)).replace(/{s}/g,d+"").replace(/{SSS}/g,Oi(p,3)).replace(/{S}/g,p+"")}function $P(i){return i?"getUTCFullYear":"getFullYear"}function jP(i){return i?"getUTCMonth":"getMonth"}function qP(i){return i?"getUTCDate":"getDate"}function ZP(i){return i?"getUTCHours":"getHours"}function KP(i){return i?"getUTCMinutes":"getMinutes"}function QP(i){return i?"getUTCSeconds":"getSeconds"}function JP(i){return i?"getUTCMilliseconds":"getMilliseconds"}function t2(i){if(!KM(i))return G(i)?i:"-";var t=(i+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function i0(i,t){return i=(i||"").toLowerCase().replace(/-(.)/g,function(e,n){return n.toUpperCase()}),t&&i&&(i=i.charAt(0).toUpperCase()+i.slice(1)),i}var $l=F_;function wc(i,t,e){var n="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function r(h){return h&&ei(h)?h:"-"}function a(h){return!!(h!=null&&!isNaN(h)&&isFinite(h))}var s=t==="time",o=i instanceof Date;if(s||o){var l=s?Bl(i):i;if(isNaN(+l)){if(o)return"-"}else return e0(l,n,e)}if(t==="ordinal")return Yh(i)?r(i):Rt(i)&&a(i)?i+"":"-";var u=cl(i);return a(u)?t2(u):Yh(i)?r(i):typeof i=="boolean"?i+"":"-"}var Zv=["a","b","c","d","e","f","g"],eh=function(i,t){return"{"+i+(t??"")+"}"};function n0(i,t,e){H(t)||(t=[t]);var n=t.length;if(!n)return"";for(var r=t[0].$vars||[],a=0;a<r.length;a++){var s=Zv[a];i=i.replace(eh(s),eh(s,0))}for(var o=0;o<n;o++)for(var l=0;l<r.length;l++){var u=t[o][r[l]];i=i.replace(eh(Zv[l],o),e?oe(u):u)}return i}function e2(i,t){var e=G(i)?{color:i,extraCssText:t}:i||{},n=e.color,r=e.type;t=e.extraCssText;var a=e.renderMode||"html";if(!n)return"";if(a==="html")return r==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+oe(n)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+oe(n)+";"+(t||"")+'"></span>';var s=e.markerId||"markerX";return{renderMode:a,content:"{"+s+"|}  ",style:r==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}}function ls(i,t){return t=t||"transparent",G(i)?i:Y(i)&&i.colorStops&&(i.colorStops[0]||{}).color||t}var Yo=A,i2=["left","right","top","bottom","width","height"],so=[["width","left","right"],["height","top","bottom"]];function Vf(i,t,e,n,r){var a=0,s=0;n==null&&(n=1/0),r==null&&(r=1/0);var o=0;t.eachChild(function(l,u){var h=l.getBoundingRect(),c=t.childAt(u+1),f=c&&c.getBoundingRect(),d,p;if(i==="horizontal"){var g=h.width+(f?-f.x+h.x:0);d=a+g,d>n||l.newline?(a=0,d=g,s+=o+e,o=h.height):o=Math.max(o,h.height)}else{var v=h.height+(f?-f.y+h.y:0);p=s+v,p>r||l.newline?(a+=o+e,s=0,p=v,o=h.width):o=Math.max(o,h.width)}l.newline||(l.x=a,l.y=s,l.markRedraw(),i==="horizontal"?a=d+e:s=p+e)})}var Ya=Vf;Bt(Vf,"vertical");Bt(Vf,"horizontal");function _l(i,t,e){e=$l(e||0);var n=t.width,r=t.height,a=Ft(i.left,n),s=Ft(i.top,r),o=Ft(i.right,n),l=Ft(i.bottom,r),u=Ft(i.width,n),h=Ft(i.height,r),c=e[2]+e[0],f=e[1]+e[3],d=i.aspect;switch(isNaN(u)&&(u=n-o-f-a),isNaN(h)&&(h=r-l-c-s),d!=null&&(isNaN(u)&&isNaN(h)&&(d>n/r?u=n*.8:h=r*.8),isNaN(u)&&(u=d*h),isNaN(h)&&(h=u/d)),isNaN(a)&&(a=n-o-u-f),isNaN(s)&&(s=r-l-h-c),i.left||i.right){case"center":a=n/2-u/2-e[3];break;case"right":a=n-u-f;break}switch(i.top||i.bottom){case"middle":case"center":s=r/2-h/2-e[0];break;case"bottom":s=r-h-c;break}a=a||0,s=s||0,isNaN(u)&&(u=n-f-a-(o||0)),isNaN(h)&&(h=r-c-s-(l||0));var p=new ct(a+e[3],s+e[0],u,h);return p.margin=e,p}function yl(i){var t=i.layoutMode||i.constructor.layoutMode;return Y(t)?t:t?{type:t}:null}function us(i,t,e){var n=e&&e.ignoreSize;!H(n)&&(n=[n,n]);var r=s(so[0],0),a=s(so[1],1);u(so[0],i,r),u(so[1],i,a);function s(h,c){var f={},d=0,p={},g=0,v=2;if(Yo(h,function(y){p[y]=i[y]}),Yo(h,function(y){o(t,y)&&(f[y]=p[y]=t[y]),l(f,y)&&d++,l(p,y)&&g++}),n[c])return l(t,h[1])?p[h[2]]=null:l(t,h[2])&&(p[h[1]]=null),p;if(g===v||!d)return p;if(d>=v)return f;for(var m=0;m<h.length;m++){var _=h[m];if(!o(f,_)&&o(i,_)){f[_]=i[_];break}}return f}function o(h,c){return h.hasOwnProperty(c)}function l(h,c){return h[c]!=null&&h[c]!=="auto"}function u(h,c,f){Yo(h,function(d){c[d]=f[d]})}}function Hf(i){return n2({},i)}function n2(i,t){return t&&i&&Yo(i2,function(e){t.hasOwnProperty(e)&&(i[e]=t[e])}),i}var r2=Nt(),vt=function(i){Ot(t,i);function t(e,n,r){var a=i.call(this,e,n,r)||this;return a.uid=Xl("ec_cpt_model"),a}return t.prototype.init=function(e,n,r){this.mergeDefaultAndTheme(e,r)},t.prototype.mergeDefaultAndTheme=function(e,n){var r=yl(this),a=r?Hf(e):{},s=n.getTheme();Tt(e,s.get(this.mainType)),Tt(e,this.getDefaultOption()),r&&us(e,a,r)},t.prototype.mergeOption=function(e,n){Tt(this.option,e,!0);var r=yl(this);r&&us(this.option,e,r)},t.prototype.optionUpdated=function(e,n){},t.prototype.getDefaultOption=function(){var e=this.constructor;if(!pD(e))return e.defaultOption;var n=r2(this);if(!n.defaultOption){for(var r=[],a=e;a;){var s=a.prototype.defaultOption;s&&r.push(s),a=a.superClass}for(var o={},l=r.length-1;l>=0;l--)o=Tt(o,r[l],!0);n.defaultOption=o}return n.defaultOption},t.prototype.getReferringComponents=function(e,n){var r=e+"Index",a=e+"Id";return xs(this.ecModel,e,{index:this.get(r,!0),id:this.get(a,!0)},n)},t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=function(){var e=t.prototype;e.type="component",e.id="",e.name="",e.mainType="",e.subType="",e.componentIndex=0}(),t}(At);gy(vt,At);Sf(vt);NP(vt);VP(vt,a2);function a2(i){var t=[];return A(vt.getClassesByMainType(i),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=rt(t,function(e){return ii(e).main}),i!=="dataset"&&gt(t,"dataset")<=0&&t.unshift("dataset"),t}var r0="";typeof navigator<"u"&&(r0=navigator.platform||"");var ur="rgba(0, 0, 0, 0.2)";const s2={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:ur,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:ur,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:ur,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:ur,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:ur,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:ur,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:r0.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var a0=nt(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),li="original",me="arrayRows",Ye="objectRows",ui="keyedColumns",Ki="typedArray",s0="unknown",Ci="column",Nr="row",Gt={Must:1,Might:2,Not:3},o2=Nt();function l2(i){o2(i).datasetMap=nt()}function u2(i,t,e){var n={},r=o0(i);if(!r)return n;var a=t.sourceFormat,s=t.dimensionsDefine,o;(a===Ye||a===ui)&&A(s,function(h,c){(Y(h)?h.name:h)==="name"&&(o=c)});var l=function(){for(var h={},c={},f=[],d=0,p=Math.min(5,e);d<p;d++){var g=u0(t.data,a,t.seriesLayoutBy,s,t.startIndex,d);f.push(g);var v=g===Gt.Not;if(v&&h.v==null&&d!==o&&(h.v=d),(h.n==null||h.n===h.v||!v&&f[h.n]===Gt.Not)&&(h.n=d),m(h)&&f[h.n]!==Gt.Not)return h;v||(g===Gt.Might&&c.v==null&&d!==o&&(c.v=d),(c.n==null||c.n===c.v)&&(c.n=d))}function m(_){return _.v!=null&&_.n!=null}return m(h)?h:m(c)?c:null}();if(l){n.value=[l.v];var u=o??l.n;n.itemName=[u],n.seriesName=[u]}return n}function o0(i){var t=i.get("data",!0);if(!t)return xs(i.ecModel,"dataset",{index:i.get("datasetIndex",!0),id:i.get("datasetId",!0)},xf).models[0]}function h2(i){return!i.get("transform",!0)&&!i.get("fromTransformResult",!0)?[]:xs(i.ecModel,"dataset",{index:i.get("fromDatasetIndex",!0),id:i.get("fromDatasetId",!0)},xf).models}function l0(i,t){return u0(i.data,i.sourceFormat,i.seriesLayoutBy,i.dimensionsDefine,i.startIndex,t)}function u0(i,t,e,n,r,a){var s,o=5;if(ve(i))return Gt.Not;var l,u;if(n){var h=n[a];Y(h)?(l=h.name,u=h.type):G(h)&&(l=h)}if(u!=null)return u==="ordinal"?Gt.Must:Gt.Not;if(t===me){var c=i;if(e===Nr){for(var f=c[a],d=0;d<(f||[]).length&&d<o;d++)if((s=b(f[r+d]))!=null)return s}else for(var d=0;d<c.length&&d<o;d++){var p=c[r+d];if(p&&(s=b(p[a]))!=null)return s}}else if(t===Ye){var g=i;if(!l)return Gt.Not;for(var d=0;d<g.length&&d<o;d++){var v=g[d];if(v&&(s=b(v[l]))!=null)return s}}else if(t===ui){var m=i;if(!l)return Gt.Not;var f=m[l];if(!f||ve(f))return Gt.Not;for(var d=0;d<f.length&&d<o;d++)if((s=b(f[d]))!=null)return s}else if(t===li)for(var _=i,d=0;d<_.length&&d<o;d++){var v=_[d],y=zl(v);if(!H(y))return Gt.Not;if((s=b(y[a]))!=null)return s}function b(w){var x=G(w);if(w!=null&&Number.isFinite(Number(w))&&w!=="")return x?Gt.Might:Gt.Not;if(x&&w!=="-")return Gt.Must}return Gt.Not}var c2=nt();function f2(i,t,e){var n=c2.get(t);if(!n)return e;var r=n(i);return r?e.concat(r):e}var Kv=Nt();Nt();var Wf=function(){function i(){}return i.prototype.getColorFromPalette=function(t,e,n){var r=ie(this.get("color",!0)),a=this.get("colorLayer",!0);return p2(this,Kv,r,a,t,e,n)},i.prototype.clearColorPalette=function(){v2(this,Kv)},i}();function d2(i,t){for(var e=i.length,n=0;n<e;n++)if(i[n].length>t)return i[n];return i[e-1]}function p2(i,t,e,n,r,a,s){a=a||i;var o=t(a),l=o.paletteIdx||0,u=o.paletteNameMap=o.paletteNameMap||{};if(u.hasOwnProperty(r))return u[r];var h=s==null||!n?e:d2(n,s);if(h=h||e,!(!h||!h.length)){var c=h[l];return r&&(u[r]=c),o.paletteIdx=(l+1)%h.length,c}}function v2(i,t){t(i).paletteIdx=0,t(i).paletteNameMap={}}var oo,ra,Qv,Jv="\0_ec_inner",g2=1,Uf=function(i){Ot(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.init=function(e,n,r,a,s,o){a=a||{},this.option=null,this._theme=new At(a),this._locale=new At(s),this._optionManager=o},t.prototype.setOption=function(e,n,r){var a=ig(n);this._optionManager.setOption(e,r,a),this._resetOption(null,a)},t.prototype.resetOption=function(e,n){return this._resetOption(e,ig(n))},t.prototype._resetOption=function(e,n){var r=!1,a=this._optionManager;if(!e||e==="recreate"){var s=a.mountOption(e==="recreate");!this.option||e==="recreate"?Qv(this,s):(this.restoreData(),this._mergeOption(s,n)),r=!0}if((e==="timeline"||e==="media")&&this.restoreData(),!e||e==="recreate"||e==="timeline"){var o=a.getTimelineOption(this);o&&(r=!0,this._mergeOption(o,n))}if(!e||e==="recreate"||e==="media"){var l=a.getMediaOption(this);l.length&&A(l,function(u){r=!0,this._mergeOption(u,n)},this)}return r},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,n){var r=this.option,a=this._componentsMap,s=this._componentsCount,o=[],l=nt(),u=n&&n.replaceMergeMainTypeMap;l2(this),A(e,function(c,f){c!=null&&(vt.hasClass(f)?f&&(o.push(f),l.set(f,!0)):r[f]=r[f]==null?it(c):Tt(r[f],c,!0))}),u&&u.each(function(c,f){vt.hasClass(f)&&!l.get(f)&&(o.push(f),l.set(f,!0))}),vt.topologicalTravel(o,vt.getAllClassMainTypes(),h,this);function h(c){var f=f2(this,c,ie(e[c])),d=a.get(c),p=d?u&&u.get(c)?"replaceMerge":"normalMerge":"replaceAll",g=tD(d,f,p);oD(g,c,vt),r[c]=null,a.set(c,null),s.set(c,0);var v=[],m=[],_=0,y;A(g,function(b,w){var x=b.existing,S=b.newOption;if(!S)x&&(x.mergeOption({},this),x.optionUpdated({},!1));else{var T=c==="series",C=vt.getClass(c,b.keyInfo.subType,!T);if(!C)return;if(c==="tooltip"){if(y)return;y=!0}if(x&&x.constructor===C)x.name=b.keyInfo.name,x.mergeOption(S,this),x.optionUpdated(S,!1);else{var M=F({componentIndex:w},b.keyInfo);x=new C(S,this,this,M),F(x,M),b.brandNew&&(x.__requireNewView=!0),x.init(S,this,this),x.optionUpdated(null,!0)}}x?(v.push(x.option),m.push(x),_++):(v.push(void 0),m.push(void 0))},this),r[c]=v,a.set(c,m),s.set(c,_),c==="series"&&oo(this)}this._seriesIndices||oo(this)},t.prototype.getOption=function(){var e=it(this.option);return A(e,function(n,r){if(vt.hasClass(r)){for(var a=ie(n),s=a.length,o=!1,l=s-1;l>=0;l--)a[l]&&!ss(a[l])?o=!0:(a[l]=null,!o&&s--);a.length=s,e[r]=a}}),delete e[Jv],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,n){var r=this._componentsMap.get(e);if(r){var a=r[n||0];if(a)return a;if(n==null){for(var s=0;s<r.length;s++)if(r[s])return r[s]}}},t.prototype.queryComponents=function(e){var n=e.mainType;if(!n)return[];var r=e.index,a=e.id,s=e.name,o=this._componentsMap.get(n);if(!o||!o.length)return[];var l;return r!=null?(l=[],A(ie(r),function(u){o[u]&&l.push(o[u])})):a!=null?l=tg("id",a,o):s!=null?l=tg("name",s,o):l=Re(o,function(u){return!!u}),eg(l,e)},t.prototype.findComponents=function(e){var n=e.query,r=e.mainType,a=o(n),s=a?this.queryComponents(a):Re(this._componentsMap.get(r),function(u){return!!u});return l(eg(s,e));function o(u){var h=r+"Index",c=r+"Id",f=r+"Name";return u&&(u[h]!=null||u[c]!=null||u[f]!=null)?{mainType:r,index:u[h],id:u[c],name:u[f]}:null}function l(u){return e.filter?Re(u,e.filter):u}},t.prototype.eachComponent=function(e,n,r){var a=this._componentsMap;if(ot(e)){var s=n,o=e;a.each(function(c,f){for(var d=0;c&&d<c.length;d++){var p=c[d];p&&o.call(s,f,p,p.componentIndex)}})}else for(var l=G(e)?a.get(e):Y(e)?this.findComponents(e):null,u=0;l&&u<l.length;u++){var h=l[u];h&&n.call(r,h,h.componentIndex)}},t.prototype.getSeriesByName=function(e){var n=ai(e,null);return Re(this._componentsMap.get("series"),function(r){return!!r&&n!=null&&r.name===n})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return Re(this._componentsMap.get("series"),function(n){return!!n&&n.subType===e})},t.prototype.getSeries=function(){return Re(this._componentsMap.get("series"),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,n){ra(this),A(this._seriesIndices,function(r){var a=this._componentsMap.get("series")[r];e.call(n,a,r)},this)},t.prototype.eachRawSeries=function(e,n){A(this._componentsMap.get("series"),function(r){r&&e.call(n,r,r.componentIndex)})},t.prototype.eachSeriesByType=function(e,n,r){ra(this),A(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];s.subType===e&&n.call(r,s,a)},this)},t.prototype.eachRawSeriesByType=function(e,n,r){return A(this.getSeriesByType(e),n,r)},t.prototype.isSeriesFiltered=function(e){return ra(this),this._seriesIndicesMap.get(e.componentIndex)==null},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,n){ra(this);var r=[];A(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];e.call(n,s,a)&&r.push(a)},this),this._seriesIndices=r,this._seriesIndicesMap=nt(r)},t.prototype.restoreData=function(e){oo(this);var n=this._componentsMap,r=[];n.each(function(a,s){vt.hasClass(s)&&r.push(s)}),vt.topologicalTravel(r,vt.getAllClassMainTypes(),function(a){A(n.get(a),function(s){s&&(a!=="series"||!m2(s,e))&&s.restoreData()})})},t.internalField=function(){oo=function(e){var n=e._seriesIndices=[];A(e._componentsMap.get("series"),function(r){r&&n.push(r.componentIndex)}),e._seriesIndicesMap=nt(n)},ra=function(e){},Qv=function(e,n){e.option={},e.option[Jv]=g2,e._componentsMap=nt({series:[]}),e._componentsCount=nt();var r=n.aria;Y(r)&&r.enabled==null&&(r.enabled=!0),_2(n,e._theme.option),Tt(n,s2,!1),e._mergeOption(n,null)}}(),t}(At);function m2(i,t){if(t){var e=t.seriesIndex,n=t.seriesId,r=t.seriesName;return e!=null&&i.componentIndex!==e||n!=null&&i.id!==n||r!=null&&i.name!==r}}function _2(i,t){var e=i.color&&!i.colorLayer;A(t,function(n,r){r==="colorLayer"&&e||vt.hasClass(r)||(typeof n=="object"?i[r]=i[r]?Tt(i[r],n,!1):it(n):i[r]==null&&(i[r]=n))})}function tg(i,t,e){if(H(t)){var n=nt();return A(t,function(a){if(a!=null){var s=ai(a,null);s!=null&&n.set(a,!0)}}),Re(e,function(a){return a&&n.get(a[i])})}else{var r=ai(t,null);return Re(e,function(a){return a&&r!=null&&a[i]===r})}}function eg(i,t){return t.hasOwnProperty("subType")?Re(i,function(e){return e&&e.subType===t.subType}):i}function ig(i){var t=nt();return i&&A(ie(i.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}Pi(Uf,Wf);var y2=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],h0=function(){function i(t){A(y2,function(e){this[e]=mt(t[e],t)},this)}return i}(),ih={},c0=function(){function i(){this._coordinateSystems=[]}return i.prototype.create=function(t,e){var n=[];A(ih,function(r,a){var s=r.create(t,e);n=n.concat(s||[])}),this._coordinateSystems=n},i.prototype.update=function(t,e){A(this._coordinateSystems,function(n){n.update&&n.update(t,e)})},i.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},i.register=function(t,e){ih[t]=e},i.get=function(t){return ih[t]},i}(),b2=/^(min|max)?(.+)$/,x2=function(){function i(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return i.prototype.setOption=function(t,e,n){t&&(A(ie(t.series),function(s){s&&s.data&&ve(s.data)&&Xh(s.data)}),A(ie(t.dataset),function(s){s&&s.source&&ve(s.source)&&Xh(s.source)})),t=it(t);var r=this._optionBackup,a=w2(t,e,!r);this._newBaseOption=a.baseOption,r?(a.timelineOptions.length&&(r.timelineOptions=a.timelineOptions),a.mediaList.length&&(r.mediaList=a.mediaList),a.mediaDefault&&(r.mediaDefault=a.mediaDefault)):this._optionBackup=a},i.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],it(t?e.baseOption:this._newBaseOption)},i.prototype.getTimelineOption=function(t){var e,n=this._timelineOptions;if(n.length){var r=t.getComponent("timeline");r&&(e=it(n[r.getCurrentIndex()]))}return e},i.prototype.getMediaOption=function(t){var e=this._api.getWidth(),n=this._api.getHeight(),r=this._mediaList,a=this._mediaDefault,s=[],o=[];if(!r.length&&!a)return o;for(var l=0,u=r.length;l<u;l++)S2(r[l].query,e,n)&&s.push(l);return!s.length&&a&&(s=[-1]),s.length&&!C2(s,this._currentMediaIndices)&&(o=rt(s,function(h){return it(h===-1?a.option:r[h].option)})),this._currentMediaIndices=s,o},i}();function w2(i,t,e){var n=[],r,a,s=i.baseOption,o=i.timeline,l=i.options,u=i.media,h=!!i.media,c=!!(l||o||s&&s.timeline);s?(a=s,a.timeline||(a.timeline=o)):((c||h)&&(i.options=i.media=null),a=i),h&&H(u)&&A(u,function(d){d&&d.option&&(d.query?n.push(d):r||(r=d))}),f(a),A(l,function(d){return f(d)}),A(n,function(d){return f(d.option)});function f(d){A(t,function(p){p(d,e)})}return{baseOption:a,timelineOptions:l||[],mediaDefault:r,mediaList:n}}function S2(i,t,e){var n={width:t,height:e,aspectratio:t/e},r=!0;return A(i,function(a,s){var o=s.match(b2);if(!(!o||!o[1]||!o[2])){var l=o[1],u=o[2].toLowerCase();T2(n[u],a,l)||(r=!1)}}),r}function T2(i,t,e){return e==="min"?i>=t:e==="max"?i<=t:i===t}function C2(i,t){return i.join(",")===t.join(",")}var Be=A,hs=Y,ng=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function nh(i){var t=i&&i.itemStyle;if(t)for(var e=0,n=ng.length;e<n;e++){var r=ng[e],a=t.normal,s=t.emphasis;a&&a[r]&&(i[r]=i[r]||{},i[r].normal?Tt(i[r].normal,a[r]):i[r].normal=a[r],a[r]=null),s&&s[r]&&(i[r]=i[r]||{},i[r].emphasis?Tt(i[r].emphasis,s[r]):i[r].emphasis=s[r],s[r]=null)}}function Zt(i,t,e){if(i&&i[t]&&(i[t].normal||i[t].emphasis)){var n=i[t].normal,r=i[t].emphasis;n&&(e?(i[t].normal=i[t].emphasis=null,Ct(i[t],n)):i[t]=n),r&&(i.emphasis=i.emphasis||{},i.emphasis[t]=r,r.focus&&(i.emphasis.focus=r.focus),r.blurScope&&(i.emphasis.blurScope=r.blurScope))}}function Aa(i){Zt(i,"itemStyle"),Zt(i,"lineStyle"),Zt(i,"areaStyle"),Zt(i,"label"),Zt(i,"labelLine"),Zt(i,"upperLabel"),Zt(i,"edgeLabel")}function Lt(i,t){var e=hs(i)&&i[t],n=hs(e)&&e.textStyle;if(n)for(var r=0,a=hv.length;r<a;r++){var s=hv[r];n.hasOwnProperty(s)&&(e[s]=n[s])}}function ke(i){i&&(Aa(i),Lt(i,"label"),i.emphasis&&Lt(i.emphasis,"label"))}function M2(i){if(hs(i)){nh(i),Aa(i),Lt(i,"label"),Lt(i,"upperLabel"),Lt(i,"edgeLabel"),i.emphasis&&(Lt(i.emphasis,"label"),Lt(i.emphasis,"upperLabel"),Lt(i.emphasis,"edgeLabel"));var t=i.markPoint;t&&(nh(t),ke(t));var e=i.markLine;e&&(nh(e),ke(e));var n=i.markArea;n&&ke(n);var r=i.data;if(i.type==="graph"){r=r||i.nodes;var a=i.links||i.edges;if(a&&!ve(a))for(var s=0;s<a.length;s++)ke(a[s]);A(i.categories,function(u){Aa(u)})}if(r&&!ve(r))for(var s=0;s<r.length;s++)ke(r[s]);if(t=i.markPoint,t&&t.data)for(var o=t.data,s=0;s<o.length;s++)ke(o[s]);if(e=i.markLine,e&&e.data)for(var l=e.data,s=0;s<l.length;s++)H(l[s])?(ke(l[s][0]),ke(l[s][1])):ke(l[s]);i.type==="gauge"?(Lt(i,"axisLabel"),Lt(i,"title"),Lt(i,"detail")):i.type==="treemap"?(Zt(i.breadcrumb,"itemStyle"),A(i.levels,function(u){Aa(u)})):i.type==="tree"&&Aa(i.leaves)}}function pi(i){return H(i)?i:i?[i]:[]}function rg(i){return(H(i)?i[0]:i)||{}}function D2(i,t){Be(pi(i.series),function(n){hs(n)&&M2(n)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),Be(e,function(n){Be(pi(i[n]),function(r){r&&(Lt(r,"axisLabel"),Lt(r.axisPointer,"label"))})}),Be(pi(i.parallel),function(n){var r=n&&n.parallelAxisDefault;Lt(r,"axisLabel"),Lt(r&&r.axisPointer,"label")}),Be(pi(i.calendar),function(n){Zt(n,"itemStyle"),Lt(n,"dayLabel"),Lt(n,"monthLabel"),Lt(n,"yearLabel")}),Be(pi(i.radar),function(n){Lt(n,"name"),n.name&&n.axisName==null&&(n.axisName=n.name,delete n.name),n.nameGap!=null&&n.axisNameGap==null&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),Be(pi(i.geo),function(n){hs(n)&&(ke(n),Be(pi(n.regions),function(r){ke(r)}))}),Be(pi(i.timeline),function(n){ke(n),Zt(n,"label"),Zt(n,"itemStyle"),Zt(n,"controlStyle",!0);var r=n.data;H(r)&&A(r,function(a){Y(a)&&(Zt(a,"label"),Zt(a,"itemStyle"))})}),Be(pi(i.toolbox),function(n){Zt(n,"iconStyle"),Be(n.feature,function(r){Zt(r,"iconStyle")})}),Lt(rg(i.axisPointer),"label"),Lt(rg(i.tooltip).axisPointer,"label")}function A2(i,t){for(var e=t.split(","),n=i,r=0;r<e.length&&(n=n&&n[e[r]],n!=null);r++);return n}function P2(i,t,e,n){for(var r=t.split(","),a=i,s,o=0;o<r.length-1;o++)s=r[o],a[s]==null&&(a[s]={}),a=a[s];a[r[o]]==null&&(a[r[o]]=e)}function ag(i){i&&A(L2,function(t){t[0]in i&&!(t[1]in i)&&(i[t[1]]=i[t[0]])})}var L2=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],k2=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],rh=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function aa(i){var t=i&&i.itemStyle;if(t)for(var e=0;e<rh.length;e++){var n=rh[e][1],r=rh[e][0];t[n]!=null&&(t[r]=t[n])}}function sg(i){i&&i.alignTo==="edge"&&i.margin!=null&&i.edgeDistance==null&&(i.edgeDistance=i.margin)}function og(i){i&&i.downplay&&!i.blur&&(i.blur=i.downplay)}function I2(i){i&&i.focusNodeAdjacency!=null&&(i.emphasis=i.emphasis||{},i.emphasis.focus==null&&(i.emphasis.focus="adjacency"))}function f0(i,t){if(i)for(var e=0;e<i.length;e++)t(i[e]),i[e]&&f0(i[e].children,t)}function d0(i,t){D2(i,t),i.series=ie(i.series),A(i.series,function(e){if(Y(e)){var n=e.type;if(n==="line")e.clipOverflow!=null&&(e.clip=e.clipOverflow);else if(n==="pie"||n==="gauge"){e.clockWise!=null&&(e.clockwise=e.clockWise),sg(e.label);var r=e.data;if(r&&!ve(r))for(var a=0;a<r.length;a++)sg(r[a]);e.hoverOffset!=null&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if(n==="gauge"){var s=A2(e,"pointer.color");s!=null&&P2(e,"itemStyle.color",s)}else if(n==="bar"){aa(e),aa(e.backgroundStyle),aa(e.emphasis);var r=e.data;if(r&&!ve(r))for(var a=0;a<r.length;a++)typeof r[a]=="object"&&(aa(r[a]),aa(r[a]&&r[a].emphasis))}else if(n==="sunburst"){var o=e.highlightPolicy;o&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=o)),og(e),f0(e.data,og)}else n==="graph"||n==="sankey"?I2(e):n==="map"&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&Ct(e,e.mapLocation));e.hoverAnimation!=null&&(e.emphasis=e.emphasis||{},e.emphasis&&e.emphasis.scale==null&&(e.emphasis.scale=e.hoverAnimation)),ag(e)}}),i.dataRange&&(i.visualMap=i.dataRange),A(k2,function(e){var n=i[e];n&&(H(n)||(n=[n]),A(n,function(r){ag(r)}))})}function R2(i){var t=nt();i.eachSeries(function(e){var n=e.get("stack");if(n){var r=t.get(n)||t.set(n,[]),a=e.getData(),s={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:e};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;r.length&&a.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(s)}}),t.each(O2)}function O2(i){A(i,function(t,e){var n=[],r=[NaN,NaN],a=[t.stackResultDimension,t.stackedOverDimension],s=t.data,o=t.isStackedByIndex,l=t.seriesModel.get("stackStrategy")||"samesign";s.modify(a,function(u,h,c){var f=s.get(t.stackedDimension,c);if(isNaN(f))return r;var d,p;o?p=s.getRawIndex(c):d=s.get(t.stackedByDimension,c);for(var g=NaN,v=e-1;v>=0;v--){var m=i[v];if(o||(p=m.data.rawIndexOf(m.stackedByDimension,d)),p>=0){var _=m.data.getByRawIndex(m.stackResultDimension,p);if(l==="all"||l==="positive"&&_>0||l==="negative"&&_<0||l==="samesign"&&f>=0&&_>0||l==="samesign"&&f<=0&&_<0){f=qM(f,_),g=_;break}}}return n[0]=f,n[1]=g,n})})}var jl=function(){function i(t){this.data=t.data||(t.sourceFormat===ui?{}:[]),this.sourceFormat=t.sourceFormat||s0,this.seriesLayoutBy=t.seriesLayoutBy||Ci,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var n=0;n<e.length;n++){var r=e[n];r.type==null&&l0(this,n)===Gt.Must&&(r.type="ordinal")}}return i}();function Gf(i){return i instanceof jl}function Sc(i,t,e){e=e||v0(i);var n=t.seriesLayoutBy,r=F2(i,e,n,t.sourceHeader,t.dimensions),a=new jl({data:i,sourceFormat:e,seriesLayoutBy:n,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:it(t)});return a}function p0(i){return new jl({data:i,sourceFormat:ve(i)?Ki:li})}function E2(i){return new jl({data:i.data,sourceFormat:i.sourceFormat,seriesLayoutBy:i.seriesLayoutBy,dimensionsDefine:it(i.dimensionsDefine),startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount})}function v0(i){var t=s0;if(ve(i))t=Ki;else if(H(i)){i.length===0&&(t=me);for(var e=0,n=i.length;e<n;e++){var r=i[e];if(r!=null){if(H(r)||ve(r)){t=me;break}else if(Y(r)){t=Ye;break}}}}else if(Y(i)){for(var a in i)if($n(i,a)&&pe(i[a])){t=ui;break}}return t}function F2(i,t,e,n,r){var a,s;if(!i)return{dimensionsDefine:lg(r),startIndex:s,dimensionsDetectedCount:a};if(t===me){var o=i;n==="auto"||n==null?ug(function(u){u!=null&&u!=="-"&&(G(u)?s==null&&(s=1):s=0)},e,o,10):s=Rt(n)?n:n?1:0,!r&&s===1&&(r=[],ug(function(u,h){r[h]=u!=null?u+"":""},e,o,1/0)),a=r?r.length:e===Nr?o.length:o[0]?o[0].length:null}else if(t===Ye)r||(r=B2(i));else if(t===ui)r||(r=[],A(i,function(u,h){r.push(h)}));else if(t===li){var l=zl(i[0]);a=H(l)&&l.length||1}return{startIndex:s,dimensionsDefine:lg(r),dimensionsDetectedCount:a}}function B2(i){for(var t=0,e;t<i.length&&!(e=i[t++]););if(e)return It(e)}function lg(i){if(i){var t=nt();return rt(i,function(e,n){e=Y(e)?e:{name:e};var r={name:e.name,displayName:e.displayName,type:e.type};if(r.name==null)return r;r.name+="",r.displayName==null&&(r.displayName=r.name);var a=t.get(r.name);return a?r.name+="-"+a.count++:t.set(r.name,{count:1}),r})}}function ug(i,t,e,n){if(t===Nr)for(var r=0;r<e.length&&r<n;r++)i(e[r]?e[r][0]:null,r);else for(var a=e[0]||[],r=0;r<a.length&&r<n;r++)i(a[r],r)}function g0(i){var t=i.sourceFormat;return t===Ye||t===ui}var Mn,Dn,An,hg,cg,m0=function(){function i(t,e){var n=Gf(t)?t:p0(t);this._source=n;var r=this._data=n.data;n.sourceFormat===Ki&&(this._offset=0,this._dimSize=e,this._data=r),cg(this,r,n)}return i.prototype.getSource=function(){return this._source},i.prototype.count=function(){return 0},i.prototype.getItem=function(t,e){},i.prototype.appendData=function(t){},i.prototype.clean=function(){},i.protoInitialize=function(){var t=i.prototype;t.pure=!1,t.persistent=!0}(),i.internalField=function(){var t;cg=function(s,o,l){var u=l.sourceFormat,h=l.seriesLayoutBy,c=l.startIndex,f=l.dimensionsDefine,d=hg[Yf(u,h)];if(F(s,d),u===Ki)s.getItem=e,s.count=r,s.fillStorage=n;else{var p=_0(u,h);s.getItem=mt(p,null,o,c,f);var g=y0(u,h);s.count=mt(g,null,o,c,f)}};var e=function(s,o){s=s-this._offset,o=o||[];for(var l=this._data,u=this._dimSize,h=u*s,c=0;c<u;c++)o[c]=l[h+c];return o},n=function(s,o,l,u){for(var h=this._data,c=this._dimSize,f=0;f<c;f++){for(var d=u[f],p=d[0]==null?1/0:d[0],g=d[1]==null?-1/0:d[1],v=o-s,m=l[f],_=0;_<v;_++){var y=h[_*c+f];m[s+_]=y,y<p&&(p=y),y>g&&(g=y)}d[0]=p,d[1]=g}},r=function(){return this._data?this._data.length/this._dimSize:0};hg=(t={},t[me+"_"+Ci]={pure:!0,appendData:a},t[me+"_"+Nr]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[Ye]={pure:!0,appendData:a},t[ui]={pure:!0,appendData:function(s){var o=this._data;A(s,function(l,u){for(var h=o[u]||(o[u]=[]),c=0;c<(l||[]).length;c++)h.push(l[c])})}},t[li]={appendData:a},t[Ki]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},t);function a(s){for(var o=0;o<s.length;o++)this._data.push(s[o])}}(),i}(),fg=function(i,t,e,n){return i[n]},z2=(Mn={},Mn[me+"_"+Ci]=function(i,t,e,n){return i[n+t]},Mn[me+"_"+Nr]=function(i,t,e,n,r){n+=t;for(var a=r||[],s=i,o=0;o<s.length;o++){var l=s[o];a[o]=l?l[n]:null}return a},Mn[Ye]=fg,Mn[ui]=function(i,t,e,n,r){for(var a=r||[],s=0;s<e.length;s++){var o=e[s].name,l=i[o];a[s]=l?l[n]:null}return a},Mn[li]=fg,Mn);function _0(i,t){var e=z2[Yf(i,t)];return e}var dg=function(i,t,e){return i.length},N2=(Dn={},Dn[me+"_"+Ci]=function(i,t,e){return Math.max(0,i.length-t)},Dn[me+"_"+Nr]=function(i,t,e){var n=i[0];return n?Math.max(0,n.length-t):0},Dn[Ye]=dg,Dn[ui]=function(i,t,e){var n=e[0].name,r=i[n];return r?r.length:0},Dn[li]=dg,Dn);function y0(i,t){var e=N2[Yf(i,t)];return e}var ah=function(i,t,e){return i[t]},V2=(An={},An[me]=ah,An[Ye]=function(i,t,e){return i[e]},An[ui]=ah,An[li]=function(i,t,e){var n=zl(i);return n instanceof Array?n[t]:n},An[Ki]=ah,An);function b0(i){var t=V2[i];return t}function Yf(i,t){return i===me?i+"_"+t:i}function bl(i,t,e){if(i){var n=i.getRawDataItem(t);if(n!=null){var r=i.getStore(),a=r.getSource().sourceFormat;if(e!=null){var s=i.getDimensionIndex(e),o=r.getDimensionProperty(s);return b0(a)(n,s,o)}else{var l=n;return a===li&&(l=zl(n)),l}}}}var H2=/\{@(.+?)\}/g,W2=function(){function i(){}return i.prototype.getDataParams=function(t,e){var n=this.getData(e),r=this.getRawValue(t,e),a=n.getRawIndex(t),s=n.getName(t),o=n.getRawDataItem(t),l=n.getItemVisual(t,"style"),u=l&&l[n.getItemVisual(t,"drawType")||"fill"],h=l&&l.stroke,c=this.mainType,f=c==="series",d=n.userOutput&&n.userOutput.get();return{componentType:c,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:s,dataIndex:a,data:o,dataType:e,value:r,color:u,borderColor:h,dimensionNames:d?d.fullDimensions:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},i.prototype.getFormattedLabel=function(t,e,n,r,a,s){e=e||"normal";var o=this.getData(n),l=this.getDataParams(t,n);if(s&&(l.value=s.interpolatedValue),r!=null&&H(l.value)&&(l.value=l.value[r]),!a){var u=o.getItemModel(t);a=u.get(e==="normal"?["label","formatter"]:[e,"label","formatter"])}if(ot(a))return l.status=e,l.dimensionIndex=r,a(l);if(G(a)){var h=n0(a,l);return h.replace(H2,function(c,f){var d=f.length,p=f;p.charAt(0)==="["&&p.charAt(d-1)==="]"&&(p=+p.slice(1,d-1));var g=bl(o,t,p);if(s&&H(s.interpolatedValue)){var v=o.getDimensionIndex(p);v>=0&&(g=s.interpolatedValue[v])}return g!=null?g+"":""})}},i.prototype.getRawValue=function(t,e){return bl(this.getData(e),t)},i.prototype.formatTooltip=function(t,e,n){},i}();function pg(i){var t,e;return Y(i)?i.type&&(e=i):t=i,{text:t,frag:e}}function Xa(i){return new U2(i)}var U2=function(){function i(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return i.prototype.perform=function(t){var e=this._upstream,n=t&&t.skip;if(this._dirty&&e){var r=this.context;r.data=r.outputData=e.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!n&&(a=this._plan(this.context));var s=h(this._modBy),o=this._modDataCount||0,l=h(t&&t.modBy),u=t&&t.modDataCount||0;(s!==l||o!==u)&&(a="reset");function h(_){return!(_>=1)&&(_=1),_}var c;(this._dirty||a==="reset")&&(this._dirty=!1,c=this._doReset(n)),this._modBy=l,this._modDataCount=u;var f=t&&t.step;if(e?this._dueEnd=e._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,p=Math.min(f!=null?this._dueIndex+f:1/0,this._dueEnd);if(!n&&(c||d<p)){var g=this._progress;if(H(g))for(var v=0;v<g.length;v++)this._doProgress(g[v],d,p,l,u);else this._doProgress(g,d,p,l,u)}this._dueIndex=p;var m=this._settedOutputEnd!=null?this._settedOutputEnd:p;this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},i.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},i.prototype._doProgress=function(t,e,n,r,a){vg.reset(e,n,r,a),this._callingProgress=t,this._callingProgress({start:e,end:n,count:n-e,next:vg.next},this.context)},i.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var e,n;!t&&this._reset&&(e=this._reset(this.context),e&&e.progress&&(n=e.forceFirstProgress,e=e.progress),H(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),n},i.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},i.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},i.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},i.prototype.getUpstream=function(){return this._upstream},i.prototype.getDownstream=function(){return this._downstream},i.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},i}(),vg=function(){var i,t,e,n,r,a={reset:function(l,u,h,c){t=l,i=u,e=h,n=c,r=Math.ceil(n/e),a.next=e>1&&n>0?o:s}};return a;function s(){return t<i?t++:null}function o(){var l=t%r*e+Math.ceil(t/r),u=t>=i?null:l<n?l:t;return t++,u}}();function Xo(i,t){var e=t&&t.type;return e==="ordinal"?i:(e==="time"&&!Rt(i)&&i!=null&&i!=="-"&&(i=+Bl(i)),i==null||i===""?NaN:Number(i))}nt({number:function(i){return parseFloat(i)},time:function(i){return+Bl(i)},trim:function(i){return G(i)?ei(i):i}});var G2=function(){function i(t,e){var n=t==="desc";this._resultLT=n?1:-1,e==null&&(e=n?"min":"max"),this._incomparable=e==="min"?-1/0:1/0}return i.prototype.evaluate=function(t,e){var n=Rt(t)?t:cl(t),r=Rt(e)?e:cl(e),a=isNaN(n),s=isNaN(r);if(a&&(n=this._incomparable),s&&(r=this._incomparable),a&&s){var o=G(t),l=G(e);o&&(n=l?t:0),l&&(r=o?e:0)}return n<r?this._resultLT:n>r?-this._resultLT:0},i}(),Y2=function(){function i(){}return i.prototype.getRawData=function(){throw new Error("not supported")},i.prototype.getRawDataItem=function(t){throw new Error("not supported")},i.prototype.cloneRawData=function(){},i.prototype.getDimensionInfo=function(t){},i.prototype.cloneAllDimensionInfo=function(){},i.prototype.count=function(){},i.prototype.retrieveValue=function(t,e){},i.prototype.retrieveValueFromItem=function(t,e){},i.prototype.convertValue=function(t,e){return Xo(t,e)},i}();function X2(i,t){var e=new Y2,n=i.data,r=e.sourceFormat=i.sourceFormat,a=i.startIndex,s="";i.seriesLayoutBy!==Ci&&ue(s);var o=[],l={},u=i.dimensionsDefine;if(u)A(u,function(g,v){var m=g.name,_={index:v,name:m,displayName:g.displayName};if(o.push(_),m!=null){var y="";$n(l,m)&&ue(y),l[m]=_}});else for(var h=0;h<i.dimensionsDetectedCount;h++)o.push({index:h});var c=_0(r,Ci);t.__isBuiltIn&&(e.getRawDataItem=function(g){return c(n,a,o,g)},e.getRawData=mt($2,null,i)),e.cloneRawData=mt(j2,null,i);var f=y0(r,Ci);e.count=mt(f,null,n,a,o);var d=b0(r);e.retrieveValue=function(g,v){var m=c(n,a,o,g);return p(m,v)};var p=e.retrieveValueFromItem=function(g,v){if(g!=null){var m=o[v];if(m)return d(g,v,m.name)}};return e.getDimensionInfo=mt(q2,null,o,l),e.cloneAllDimensionInfo=mt(Z2,null,o),e}function $2(i){var t=i.sourceFormat;if(!Xf(t)){var e="";ue(e)}return i.data}function j2(i){var t=i.sourceFormat,e=i.data;if(!Xf(t)){var n="";ue(n)}if(t===me){for(var r=[],a=0,s=e.length;a<s;a++)r.push(e[a].slice());return r}else if(t===Ye){for(var r=[],a=0,s=e.length;a<s;a++)r.push(F({},e[a]));return r}}function q2(i,t,e){if(e!=null){if(Rt(e)||!isNaN(e)&&!$n(t,e))return i[e];if($n(t,e))return t[e]}}function Z2(i){return it(i)}var x0=nt();function K2(i){i=it(i);var t=i.type,e="";t||ue(e);var n=t.split(":");n.length!==2&&ue(e);var r=!1;n[0]==="echarts"&&(t=n[1],r=!0),i.__isBuiltIn=r,x0.set(t,i)}function Q2(i,t,e){var n=ie(i),r=n.length,a="";r||ue(a);for(var s=0,o=r;s<o;s++){var l=n[s];t=J2(l,t),s!==o-1&&(t.length=Math.max(t.length,1))}return t}function J2(i,t,e,n){var r="";t.length||ue(r),Y(i)||ue(r);var a=i.type,s=x0.get(a);s||ue(r);var o=rt(t,function(u){return X2(u,s)}),l=ie(s.transform({upstream:o[0],upstreamList:o,config:it(i.config)}));return rt(l,function(u,h){var c="";Y(u)||ue(c),u.data||ue(c);var f=v0(u.data);Xf(f)||ue(c);var d,p=t[0];if(p&&h===0&&!u.dimensions){var g=p.startIndex;g&&(u.data=p.data.slice(0,g).concat(u.data)),d={seriesLayoutBy:Ci,sourceHeader:g,dimensions:p.metaRawOption.dimensions}}else d={seriesLayoutBy:Ci,sourceHeader:0,dimensions:u.dimensions};return Sc(u.data,d,null)})}function Xf(i){return i===me||i===Ye}var ql="undefined",tL=typeof Uint32Array===ql?Array:Uint32Array,eL=typeof Uint16Array===ql?Array:Uint16Array,w0=typeof Int32Array===ql?Array:Int32Array,gg=typeof Float64Array===ql?Array:Float64Array,S0={float:gg,int:w0,ordinal:Array,number:Array,time:gg},sh;function hr(i){return i>65535?tL:eL}function cr(){return[1/0,-1/0]}function iL(i){var t=i.constructor;return t===Array?i.slice():new t(i)}function mg(i,t,e,n,r){var a=S0[e||"float"];if(r){var s=i[t],o=s&&s.length;if(o!==n){for(var l=new a(n),u=0;u<o;u++)l[u]=s[u];i[t]=l}}else i[t]=new a(n)}var Tc=function(){function i(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=nt()}return i.prototype.initData=function(t,e,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=t.getSource(),a=this.defaultDimValueGetter=sh[r.sourceFormat];this._dimValueGetter=n||a,this._rawExtent=[],g0(r),this._dimensions=rt(e,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,t.count())},i.prototype.getProvider=function(){return this._provider},i.prototype.getSource=function(){return this._provider.getSource()},i.prototype.ensureCalculationDimension=function(t,e){var n=this._calcDimNameToIdx,r=this._dimensions,a=n.get(t);if(a!=null){if(r[a].type===e)return a}else a=r.length;return r[a]={type:e},n.set(t,a),this._chunks[a]=new S0[e||"float"](this._rawCount),this._rawExtent[a]=cr(),a},i.prototype.collectOrdinalMeta=function(t,e){var n=this._chunks[t],r=this._dimensions[t],a=this._rawExtent,s=r.ordinalOffset||0,o=n.length;s===0&&(a[t]=cr());for(var l=a[t],u=s;u<o;u++){var h=n[u]=e.parseAndCollect(n[u]);isNaN(h)||(l[0]=Math.min(h,l[0]),l[1]=Math.max(h,l[1]))}r.ordinalMeta=e,r.ordinalOffset=o,r.type="ordinal"},i.prototype.getOrdinalMeta=function(t){var e=this._dimensions[t],n=e.ordinalMeta;return n},i.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},i.prototype.appendData=function(t){var e=this._provider,n=this.count();e.appendData(t);var r=e.count();return e.persistent||(r+=n),n<r&&this._initDataFromProvider(n,r,!0),[n,r]},i.prototype.appendValues=function(t,e){for(var n=this._chunks,r=this._dimensions,a=r.length,s=this._rawExtent,o=this.count(),l=o+Math.max(t.length,e||0),u=0;u<a;u++){var h=r[u];mg(n,u,h.type,l,!0)}for(var c=[],f=o;f<l;f++)for(var d=f-o,p=0;p<a;p++){var h=r[p],g=sh.arrayRows.call(this,t[d]||c,h.property,d,p);n[p][f]=g;var v=s[p];g<v[0]&&(v[0]=g),g>v[1]&&(v[1]=g)}return this._rawCount=this._count=l,{start:o,end:l}},i.prototype._initDataFromProvider=function(t,e,n){for(var r=this._provider,a=this._chunks,s=this._dimensions,o=s.length,l=this._rawExtent,u=rt(s,function(_){return _.property}),h=0;h<o;h++){var c=s[h];l[h]||(l[h]=cr()),mg(a,h,c.type,e,n)}if(r.fillStorage)r.fillStorage(t,e,a,l);else for(var f=[],d=t;d<e;d++){f=r.getItem(d,f);for(var p=0;p<o;p++){var g=a[p],v=this._dimValueGetter(f,u[p],d,p);g[d]=v;var m=l[p];v<m[0]&&(m[0]=v),v>m[1]&&(m[1]=v)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=e,this._extent=[]},i.prototype.count=function(){return this._count},i.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(e)]:NaN},i.prototype.getValues=function(t,e){var n=[],r=[];if(e==null){e=t,t=[];for(var a=0;a<this._dimensions.length;a++)r.push(a)}else r=t;for(var a=0,s=r.length;a<s;a++)n.push(this.get(r[a],e));return n},i.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._chunks[t];return n?n[e]:NaN},i.prototype.getSum=function(t){var e=this._chunks[t],n=0;if(e)for(var r=0,a=this.count();r<a;r++){var s=this.get(t,r);isNaN(s)||(n+=s)}return n},i.prototype.getMedian=function(t){var e=[];this.each([t],function(a){isNaN(a)||e.push(a)});var n=e.sort(function(a,s){return a-s}),r=this.count();return r===0?0:r%2===1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2},i.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(n!=null&&n<this._count&&n===t)return t;for(var r=0,a=this._count-1;r<=a;){var s=(r+a)/2|0;if(e[s]<t)r=s+1;else if(e[s]>t)a=s-1;else return s}return-1},i.prototype.indicesOfNearest=function(t,e,n){var r=this._chunks,a=r[t],s=[];if(!a)return s;n==null&&(n=1/0);for(var o=1/0,l=-1,u=0,h=0,c=this.count();h<c;h++){var f=this.getRawIndex(h),d=e-a[f],p=Math.abs(d);p<=n&&((p<o||p===o&&d>=0&&l<0)&&(o=p,l=d,u=0),d===l&&(s[u++]=h))}return s.length=u,s},i.prototype.getIndices=function(){var t,e=this._indices;if(e){var n=e.constructor,r=this._count;if(n===Array){t=new n(r);for(var a=0;a<r;a++)t[a]=e[a]}else t=new n(e.buffer,0,r)}else{var n=hr(this._rawCount);t=new n(this.count());for(var a=0;a<t.length;a++)t[a]=a}return t},i.prototype.filter=function(t,e){if(!this._count)return this;for(var n=this.clone(),r=n.count(),a=hr(n._rawCount),s=new a(r),o=[],l=t.length,u=0,h=t[0],c=n._chunks,f=0;f<r;f++){var d=void 0,p=n.getRawIndex(f);if(l===0)d=e(f);else if(l===1){var g=c[h][p];d=e(g,f)}else{for(var v=0;v<l;v++)o[v]=c[t[v]][p];o[v]=f,d=e.apply(null,o)}d&&(s[u++]=p)}return u<r&&(n._indices=s),n._count=u,n._extent=[],n._updateGetRawIdx(),n},i.prototype.selectRange=function(t){var e=this.clone(),n=e._count;if(!n)return this;var r=It(t),a=r.length;if(!a)return this;var s=e.count(),o=hr(e._rawCount),l=new o(s),u=0,h=r[0],c=t[h][0],f=t[h][1],d=e._chunks,p=!1;if(!e._indices){var g=0;if(a===1){for(var v=d[r[0]],m=0;m<n;m++){var _=v[m];(_>=c&&_<=f||isNaN(_))&&(l[u++]=g),g++}p=!0}else if(a===2){for(var v=d[r[0]],y=d[r[1]],b=t[r[1]][0],w=t[r[1]][1],m=0;m<n;m++){var _=v[m],x=y[m];(_>=c&&_<=f||isNaN(_))&&(x>=b&&x<=w||isNaN(x))&&(l[u++]=g),g++}p=!0}}if(!p)if(a===1)for(var m=0;m<s;m++){var S=e.getRawIndex(m),_=d[r[0]][S];(_>=c&&_<=f||isNaN(_))&&(l[u++]=S)}else for(var m=0;m<s;m++){for(var T=!0,S=e.getRawIndex(m),C=0;C<a;C++){var M=r[C],_=d[M][S];(_<t[M][0]||_>t[M][1])&&(T=!1)}T&&(l[u++]=e.getRawIndex(m))}return u<s&&(e._indices=l),e._count=u,e._extent=[],e._updateGetRawIdx(),e},i.prototype.map=function(t,e){var n=this.clone(t);return this._updateDims(n,t,e),n},i.prototype.modify=function(t,e){this._updateDims(this,t,e)},i.prototype._updateDims=function(t,e,n){for(var r=t._chunks,a=[],s=e.length,o=t.count(),l=[],u=t._rawExtent,h=0;h<e.length;h++)u[e[h]]=cr();for(var c=0;c<o;c++){for(var f=t.getRawIndex(c),d=0;d<s;d++)l[d]=r[e[d]][f];l[s]=c;var p=n&&n.apply(null,l);if(p!=null){typeof p!="object"&&(a[0]=p,p=a);for(var h=0;h<p.length;h++){var g=e[h],v=p[h],m=u[g],_=r[g];_&&(_[f]=v),v<m[0]&&(m[0]=v),v>m[1]&&(m[1]=v)}}}},i.prototype.lttbDownSample=function(t,e){var n=this.clone([t],!0),r=n._chunks,a=r[t],s=this.count(),o=0,l=Math.floor(1/e),u=this.getRawIndex(0),h,c,f,d=new(hr(this._rawCount))(Math.min((Math.ceil(s/l)+2)*2,s));d[o++]=u;for(var p=1;p<s-1;p+=l){for(var g=Math.min(p+l,s-1),v=Math.min(p+l*2,s),m=(v+g)/2,_=0,y=g;y<v;y++){var b=this.getRawIndex(y),w=a[b];isNaN(w)||(_+=w)}_/=v-g;var x=p,S=Math.min(p+l,s),T=p-1,C=a[u];h=-1,f=x;for(var M=-1,D=0,y=x;y<S;y++){var b=this.getRawIndex(y),w=a[b];if(isNaN(w)){D++,M<0&&(M=b);continue}c=Math.abs((T-m)*(w-C)-(T-y)*(_-C)),c>h&&(h=c,f=b)}D>0&&D<S-x&&(d[o++]=Math.min(M,f),f=Math.max(M,f)),d[o++]=f,u=f}return d[o++]=this.getRawIndex(s-1),n._count=o,n._indices=d,n.getRawIndex=this._getRawIdx,n},i.prototype.minmaxDownSample=function(t,e){for(var n=this.clone([t],!0),r=n._chunks,a=Math.floor(1/e),s=r[t],o=this.count(),l=new(hr(this._rawCount))(Math.ceil(o/a)*2),u=0,h=0;h<o;h+=a){var c=h,f=s[this.getRawIndex(c)],d=h,p=s[this.getRawIndex(d)],g=a;h+a>o&&(g=o-h);for(var v=0;v<g;v++){var m=this.getRawIndex(h+v),_=s[m];_<f&&(f=_,c=h+v),_>p&&(p=_,d=h+v)}var y=this.getRawIndex(c),b=this.getRawIndex(d);c<d?(l[u++]=y,l[u++]=b):(l[u++]=b,l[u++]=y)}return n._count=u,n._indices=l,n._updateGetRawIdx(),n},i.prototype.downSample=function(t,e,n,r){for(var a=this.clone([t],!0),s=a._chunks,o=[],l=Math.floor(1/e),u=s[t],h=this.count(),c=a._rawExtent[t]=cr(),f=new(hr(this._rawCount))(Math.ceil(h/l)),d=0,p=0;p<h;p+=l){l>h-p&&(l=h-p,o.length=l);for(var g=0;g<l;g++){var v=this.getRawIndex(p+g);o[g]=u[v]}var m=n(o),_=this.getRawIndex(Math.min(p+r(o,m)||0,h-1));u[_]=m,m<c[0]&&(c[0]=m),m>c[1]&&(c[1]=m),f[d++]=_}return a._count=d,a._indices=f,a._updateGetRawIdx(),a},i.prototype.each=function(t,e){if(this._count)for(var n=t.length,r=this._chunks,a=0,s=this.count();a<s;a++){var o=this.getRawIndex(a);switch(n){case 0:e(a);break;case 1:e(r[t[0]][o],a);break;case 2:e(r[t[0]][o],r[t[1]][o],a);break;default:for(var l=0,u=[];l<n;l++)u[l]=r[t[l]][o];u[l]=a,e.apply(null,u)}}},i.prototype.getDataExtent=function(t){var e=this._chunks[t],n=cr();if(!e)return n;var r=this.count(),a=!this._indices,s;if(a)return this._rawExtent[t].slice();if(s=this._extent[t],s)return s.slice();s=n;for(var o=s[0],l=s[1],u=0;u<r;u++){var h=this.getRawIndex(u),c=e[h];c<o&&(o=c),c>l&&(l=c)}return s=[o,l],this._extent[t]=s,s},i.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var n=[],r=this._chunks,a=0;a<r.length;a++)n.push(r[a][e]);return n},i.prototype.clone=function(t,e){var n=new i,r=this._chunks,a=t&&en(t,function(o,l){return o[l]=!0,o},{});if(a)for(var s=0;s<r.length;s++)n._chunks[s]=a[s]?iL(r[s]):r[s];else n._chunks=r;return this._copyCommonProps(n),e||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},i.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=it(this._extent),t._rawExtent=it(this._rawExtent)},i.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var n=this._indices.length;e=new t(n);for(var r=0;r<n;r++)e[r]=this._indices[r]}else e=new t(this._indices);return e}return null},i.prototype._getRawIdxIdentity=function(t){return t},i.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},i.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},i.internalField=function(){function t(e,n,r,a){return Xo(e[a],this._dimensions[a])}sh={arrayRows:t,objectRows:function(e,n,r,a){return Xo(e[n],this._dimensions[a])},keyedColumns:t,original:function(e,n,r,a){var s=e&&(e.value==null?e:e.value);return Xo(s instanceof Array?s[a]:s,this._dimensions[a])},typedArray:function(e,n,r,a){return e[a]}}}(),i}(),nL=function(){function i(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return i.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},i.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},i.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},i.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},i.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,e=this._getUpstreamSourceManagers(),n=!!e.length,r,a;if(lo(t)){var s=t,o=void 0,l=void 0,u=void 0;if(n){var h=e[0];h.prepareSource(),u=h.getSource(),o=u.data,l=u.sourceFormat,a=[h._getVersionSign()]}else o=s.get("data",!0),l=ve(o)?Ki:li,a=[];var c=this._getSourceMetaRawOption()||{},f=u&&u.metaRawOption||{},d=Q(c.seriesLayoutBy,f.seriesLayoutBy)||null,p=Q(c.sourceHeader,f.sourceHeader),g=Q(c.dimensions,f.dimensions),v=d!==f.seriesLayoutBy||!!p!=!!f.sourceHeader||g;r=v?[Sc(o,{seriesLayoutBy:d,sourceHeader:p,dimensions:g},l)]:[]}else{var m=t;if(n){var _=this._applyTransform(e);r=_.sourceList,a=_.upstreamSignList}else{var y=m.get("source",!0);r=[Sc(y,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(r,a)},i.prototype._applyTransform=function(t){var e=this._sourceHost,n=e.get("transform",!0),r=e.get("fromTransformResult",!0);if(r!=null){var a="";t.length!==1&&_g(a)}var s,o=[],l=[];return A(t,function(u){u.prepareSource();var h=u.getSource(r||0),c="";r!=null&&!h&&_g(c),o.push(h),l.push(u._getVersionSign())}),n?s=Q2(n,o,{datasetIndex:e.componentIndex}):r!=null&&(s=[E2(o[0])]),{sourceList:s,upstreamSignList:l}},i.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var n=t[e];if(n._isDirty()||this._upstreamSignList[e]!==n._getVersionSign())return!0}},i.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return e},i.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},i.prototype._innerGetDataStore=function(t,e,n){var r=0,a=this._storeList,s=a[r];s||(s=a[r]={});var o=s[n];if(!o){var l=this._getUpstreamSourceManagers()[0];lo(this._sourceHost)&&l?o=l._innerGetDataStore(t,e,n):(o=new Tc,o.initData(new m0(e,t.length),t)),s[n]=o}return o},i.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(lo(t)){var e=o0(t);return e?[e.getSourceManager()]:[]}else return rt(h2(t),function(n){return n.getSourceManager()})},i.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,e,n,r;if(lo(t))e=t.get("seriesLayoutBy",!0),n=t.get("sourceHeader",!0),r=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=t;e=a.get("seriesLayoutBy",!0),n=a.get("sourceHeader",!0),r=a.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:n,dimensions:r}},i}();function lo(i){return i.mainType==="series"}function _g(i){throw new Error(i)}var rL="line-height:1";function T0(i){var t=i.lineHeight;return t==null?rL:"line-height:"+oe(t+"")+"px"}function C0(i,t){var e=i.color||"#6e7079",n=i.fontSize||12,r=i.fontWeight||"400",a=i.color||"#464646",s=i.fontSize||14,o=i.fontWeight||"900";return t==="html"?{nameStyle:"font-size:"+oe(n+"")+"px;color:"+oe(e)+";font-weight:"+oe(r+""),valueStyle:"font-size:"+oe(s+"")+"px;color:"+oe(a)+";font-weight:"+oe(o+"")}:{nameStyle:{fontSize:n,fill:e,fontWeight:r},valueStyle:{fontSize:s,fill:a,fontWeight:o}}}var aL=[0,10,20,30],sL=["",`
`,`

`,`


`];function cs(i,t){return t.type=i,t}function Cc(i){return i.type==="section"}function M0(i){return Cc(i)?oL:lL}function D0(i){if(Cc(i)){var t=0,e=i.blocks.length,n=e>1||e>0&&!i.noHeader;return A(i.blocks,function(r){var a=D0(r);a>=t&&(t=a+ +(n&&(!a||Cc(r)&&!r.noHeader)))}),t}return 0}function oL(i,t,e,n){var r=t.noHeader,a=uL(D0(t)),s=[],o=t.blocks||[];Mi(!o||H(o)),o=o||[];var l=i.orderMode;if(t.sortBlocks&&l){o=o.slice();var u={valueAsc:"asc",valueDesc:"desc"};if($n(u,l)){var h=new G2(u[l],null);o.sort(function(g,v){return h.evaluate(g.sortParam,v.sortParam)})}else l==="seriesDesc"&&o.reverse()}A(o,function(g,v){var m=t.valueFormatter,_=M0(g)(m?F(F({},i),{valueFormatter:m}):i,g,v>0?a.html:0,n);_!=null&&s.push(_)});var c=i.renderMode==="richText"?s.join(a.richText):Mc(n,s.join(""),r?e:a.html);if(r)return c;var f=wc(t.header,"ordinal",i.useUTC),d=C0(n,i.renderMode).nameStyle,p=T0(n);return i.renderMode==="richText"?A0(i,f,d)+a.richText+c:Mc(n,'<div style="'+d+";"+p+';">'+oe(f)+"</div>"+c,e)}function lL(i,t,e,n){var r=i.renderMode,a=t.noName,s=t.noValue,o=!t.markerType,l=t.name,u=i.useUTC,h=t.valueFormatter||i.valueFormatter||function(b){return b=H(b)?b:[b],rt(b,function(w,x){return wc(w,H(d)?d[x]:d,u)})};if(!(a&&s)){var c=o?"":i.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",r),f=a?"":wc(l,"ordinal",u),d=t.valueType,p=s?[]:h(t.value,t.dataIndex),g=!o||!a,v=!o&&a,m=C0(n,r),_=m.nameStyle,y=m.valueStyle;return r==="richText"?(o?"":c)+(a?"":A0(i,f,_))+(s?"":fL(i,p,g,v,y)):Mc(n,(o?"":c)+(a?"":hL(f,!o,_))+(s?"":cL(p,g,v,y)),e)}}function yg(i,t,e,n,r,a){if(i){var s=M0(i),o={useUTC:r,renderMode:e,orderMode:n,markupStyleCreator:t,valueFormatter:i.valueFormatter};return s(o,i,0,a)}}function uL(i){return{html:aL[i],richText:sL[i]}}function Mc(i,t,e){var n='<div style="clear:both"></div>',r="margin: "+e+"px 0 0",a=T0(i);return'<div style="'+r+";"+a+';">'+t+n+"</div>"}function hL(i,t,e){var n=t?"margin-left:2px":"";return'<span style="'+e+";"+n+'">'+oe(i)+"</span>"}function cL(i,t,e,n){var r=e?"10px":"20px",a=t?"float:right;margin-left:"+r:"";return i=H(i)?i:[i],'<span style="'+a+";"+n+'">'+rt(i,function(s){return oe(s)}).join("&nbsp;&nbsp;")+"</span>"}function A0(i,t,e){return i.markupStyleCreator.wrapRichTextStyle(t,e)}function fL(i,t,e,n,r){var a=[r],s=n?10:20;return e&&a.push({padding:[0,0,0,s],align:"right"}),i.markupStyleCreator.wrapRichTextStyle(H(t)?t.join("  "):t,a)}function dL(i,t){var e=i.getData().getItemVisual(t,"style"),n=e[i.visualDrawType];return ls(n)}function P0(i,t){var e=i.get("padding");return e??(t==="richText"?[8,10]:10)}var oh=function(){function i(){this.richTextStyles={},this._nextStyleNameId=hy()}return i.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},i.prototype.makeTooltipMarker=function(t,e,n){var r=n==="richText"?this._generateStyleName():null,a=e2({color:e,type:t,renderMode:n,markerId:r});return G(a)?a:(this.richTextStyles[r]=a.style,a.content)},i.prototype.wrapRichTextStyle=function(t,e){var n={};H(e)?A(e,function(a){return F(n,a)}):F(n,e);var r=this._generateStyleName();return this.richTextStyles[r]=n,"{"+r+"|"+t+"}"},i}();function pL(i){var t=i.series,e=i.dataIndex,n=i.multipleSeries,r=t.getData(),a=r.mapDimensionsAll("defaultedTooltip"),s=a.length,o=t.getRawValue(e),l=H(o),u=dL(t,e),h,c,f,d;if(s>1||l&&!s){var p=vL(o,t,e,a,u);h=p.inlineValues,c=p.inlineValueTypes,f=p.blocks,d=p.inlineValues[0]}else if(s){var g=r.getDimensionInfo(a[0]);d=h=bl(r,e,a[0]),c=g.type}else d=h=l?o[0]:o;var v=yf(t),m=v&&t.name||"",_=r.getName(e),y=n?m:_;return cs("section",{header:m,noHeader:n||!v,sortParam:d,blocks:[cs("nameValue",{markerType:"item",markerColor:u,name:y,noName:!ei(y),value:h,valueType:c,dataIndex:e})].concat(f||[])})}function vL(i,t,e,n,r){var a=t.getData(),s=en(i,function(c,f,d){var p=a.getDimensionInfo(d);return c=c||p&&p.tooltip!==!1&&p.displayName!=null},!1),o=[],l=[],u=[];n.length?A(n,function(c){h(bl(a,e,c),c)}):A(i,h);function h(c,f){var d=a.getDimensionInfo(f);!d||d.otherDims.tooltip===!1||(s?u.push(cs("nameValue",{markerType:"subItem",markerColor:r,name:d.displayName,value:c,valueType:d.type})):(o.push(c),l.push(d.type)))}return{inlineValues:o,inlineValueTypes:l,blocks:u}}var Ei=Nt();function uo(i,t){return i.getName(t)||i.getId(t)}var gL="__universalTransitionEnabled",nn=function(i){Ot(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return t.prototype.init=function(e,n,r){this.seriesIndex=this.componentIndex,this.dataTask=Xa({count:_L,reset:yL}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,r);var a=Ei(this).sourceManager=new nL(this);a.prepareSource();var s=this.getInitialData(e,r);xg(s,this),this.dataTask.context.data=s,Ei(this).dataBeforeProcessed=s,bg(this),this._initSelectedMapFromData(s)},t.prototype.mergeDefaultAndTheme=function(e,n){var r=yl(this),a=r?Hf(e):{},s=this.subType;vt.hasClass(s)&&(s+="Series"),Tt(e,n.getTheme().get(this.subType)),Tt(e,this.getDefaultOption()),uc(e,"label",["show"]),this.fillDataTextStyle(e.data),r&&us(e,a,r)},t.prototype.mergeOption=function(e,n){e=Tt(this.option,e,!0),this.fillDataTextStyle(e.data);var r=yl(this);r&&us(this.option,e,r);var a=Ei(this).sourceManager;a.dirty(),a.prepareSource();var s=this.getInitialData(e,n);xg(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,Ei(this).dataBeforeProcessed=s,bg(this),this._initSelectedMapFromData(s)},t.prototype.fillDataTextStyle=function(e){if(e&&!ve(e))for(var n=["show"],r=0;r<e.length;r++)e[r]&&e[r].label&&uc(e[r],"label",n)},t.prototype.getInitialData=function(e,n){},t.prototype.appendData=function(e){var n=this.getRawData();n.appendData(e.data)},t.prototype.getData=function(e){var n=Dc(this);if(n){var r=n.context.data;return e==null||!r.getLinkedData?r:r.getLinkedData(e)}else return Ei(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var n=Dc(this);if(n){var r=n.context;r.outputData=e,n!==this.dataTask&&(r.data=e)}Ei(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return nt(e)},t.prototype.getSourceManager=function(){return Ei(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return Ei(this).dataBeforeProcessed},t.prototype.getColorBy=function(){var e=this.get("colorBy");return e||"series"},t.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.formatTooltip=function(e,n,r){return pL({series:this,dataIndex:e,multipleSeries:n})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;if($.node&&!(e&&e.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,n,r){var a=this.ecModel,s=Wf.prototype.getColorFromPalette.call(this,e,n,r);return s||(s=a.getColorFromPalette(e,n,r)),s},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,n){this._innerSelect(this.getData(n),e)},t.prototype.unselect=function(e,n){var r=this.option.selectedMap;if(r){var a=this.option.selectedMode,s=this.getData(n);if(a==="series"||r==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var o=0;o<e.length;o++){var l=e[o],u=uo(s,l);r[u]=!1,this._selectedDataIndicesMap[u]=-1}}},t.prototype.toggleSelect=function(e,n){for(var r=[],a=0;a<e.length;a++)r[0]=e[a],this.isSelected(e[a],n)?this.unselect(r,n):this.select(r,n)},t.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,n=It(e),r=[],a=0;a<n.length;a++){var s=e[n[a]];s>=0&&r.push(s)}return r},t.prototype.isSelected=function(e,n){var r=this.option.selectedMap;if(!r)return!1;var a=this.getData(n);return(r==="all"||r[uo(a,e)])&&!a.getItemModel(e).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[gL])return!0;var e=this.option.universalTransition;return e?e===!0?!0:e&&e.enabled:!1},t.prototype._innerSelect=function(e,n){var r,a,s=this.option,o=s.selectedMode,l=n.length;if(!(!o||!l)){if(o==="series")s.selectedMap="all";else if(o==="multiple"){Y(s.selectedMap)||(s.selectedMap={});for(var u=s.selectedMap,h=0;h<l;h++){var c=n[h],f=uo(e,c);u[f]=!0,this._selectedDataIndicesMap[f]=e.getRawIndex(c)}}else if(o==="single"||o===!0){var d=n[l-1],f=uo(e,d);s.selectedMap=(r={},r[f]=!0,r),this._selectedDataIndicesMap=(a={},a[f]=e.getRawIndex(d),a)}}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var n=[];e.hasItemOption&&e.each(function(r){var a=e.getRawDataItem(r);a&&a.selected&&n.push(r)}),n.length>0&&this._innerSelect(e,n)}},t.registerClass=function(e){return vt.registerClass(e)},t.protoInitialize=function(){var e=t.prototype;e.type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",e.visualDrawType="fill"}(),t}(vt);Pi(nn,W2);Pi(nn,Wf);gy(nn,vt);function bg(i){var t=i.name;yf(i)||(i.name=mL(i)||t)}function mL(i){var t=i.getRawData(),e=t.mapDimensionsAll("seriesName"),n=[];return A(e,function(r){var a=t.getDimensionInfo(r);a.displayName&&n.push(a.displayName)}),n.join(" ")}function _L(i){return i.model.getRawData().count()}function yL(i){var t=i.model;return t.setData(t.getRawData().cloneShallow()),bL}function bL(i,t){t.outputData&&i.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function xg(i,t){A(LC(i.CHANGABLE_METHODS,i.DOWNSAMPLE_METHODS),function(e){i.wrapMethod(e,Bt(xL,t))})}function xL(i,t){var e=Dc(i);return e&&e.setOutputEnd((t||this).count()),t}function Dc(i){var t=(i.ecModel||{}).scheduler,e=t&&t.getPipeline(i.uid);if(e){var n=e.currentTask;if(n){var r=n.agentStubMap;r&&(n=r.get(i.uid))}return n}}var Di=function(){function i(){this.group=new Ue,this.uid=Xl("viewComponent")}return i.prototype.init=function(t,e){},i.prototype.render=function(t,e,n,r){},i.prototype.dispose=function(t,e){},i.prototype.updateView=function(t,e,n,r){},i.prototype.updateLayout=function(t,e,n,r){},i.prototype.updateVisual=function(t,e,n,r){},i.prototype.toggleBlurSeries=function(t,e,n){},i.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},i}();wf(Di);Sf(Di);function wL(){var i=Nt();return function(t){var e=i(t),n=t.pipelineContext,r=!!e.large,a=!!e.progressiveRender,s=e.large=!!(n&&n.large),o=e.progressiveRender=!!(n&&n.progressiveRender);return(r!==s||a!==o)&&"reset"}}var L0=Nt(),SL=wL(),Qi=function(){function i(){this.group=new Ue,this.uid=Xl("viewChart"),this.renderTask=Xa({plan:TL,reset:CL}),this.renderTask.context={view:this}}return i.prototype.init=function(t,e){},i.prototype.render=function(t,e,n,r){},i.prototype.highlight=function(t,e,n,r){var a=t.getData(r&&r.dataType);a&&Sg(a,r,"emphasis")},i.prototype.downplay=function(t,e,n,r){var a=t.getData(r&&r.dataType);a&&Sg(a,r,"normal")},i.prototype.remove=function(t,e){this.group.removeAll()},i.prototype.dispose=function(t,e){},i.prototype.updateView=function(t,e,n,r){this.render(t,e,n,r)},i.prototype.updateLayout=function(t,e,n,r){this.render(t,e,n,r)},i.prototype.updateVisual=function(t,e,n,r){this.render(t,e,n,r)},i.prototype.eachRendered=function(t){qy(this.group,t)},i.markUpdateMethod=function(t,e){L0(t).updateMethod=e},i.protoInitialize=function(){var t=i.prototype;t.type="chart"}(),i}();function wg(i,t,e){i&&_c(i)&&(t==="emphasis"?dc:pc)(i,e)}function Sg(i,t,e){var n=bs(i,t),r=t&&t.highlightKey!=null?LA(t.highlightKey):null;n!=null?A(ie(n),function(a){wg(i.getItemGraphicEl(a),e,r)}):i.eachItemGraphicEl(function(a){wg(a,e,r)})}wf(Qi);Sf(Qi);function TL(i){return SL(i.model)}function CL(i){var t=i.model,e=i.ecModel,n=i.api,r=i.payload,a=t.pipelineContext.progressiveRender,s=i.view,o=r&&L0(r).updateMethod,l=a?"incrementalPrepareRender":o&&s[o]?o:"render";return l!=="render"&&s[l](t,e,n,r),ML[l]}var ML={incrementalPrepareRender:{progress:function(i,t){t.view.incrementalRender(i,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(i,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},xl="\0__throttleOriginMethod",Tg="\0__throttleRate",Cg="\0__throttleType";function $f(i,t,e){var n,r=0,a=0,s=null,o,l,u,h;t=t||0;function c(){a=new Date().getTime(),s=null,i.apply(l,u||[])}var f=function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];n=new Date().getTime(),l=this,u=d;var g=h||t,v=h||e;h=null,o=n-(v?r:a)-g,clearTimeout(s),v?s=setTimeout(c,g):o>=0?c():s=setTimeout(c,-o),r=n};return f.clear=function(){s&&(clearTimeout(s),s=null)},f.debounceNextCall=function(d){h=d},f}function k0(i,t,e,n){var r=i[t];if(r){var a=r[xl]||r,s=r[Cg],o=r[Tg];if(o!==e||s!==n){if(e==null||!n)return i[t]=a;r=i[t]=$f(a,e,n==="debounce"),r[xl]=a,r[Cg]=n,r[Tg]=e}return r}}function Ac(i,t){var e=i[t];e&&e[xl]&&(e.clear&&e.clear(),i[t]=e[xl])}var Mg=Nt(),Dg={itemStyle:os(Qy,!0),lineStyle:os(Ky,!0)},DL={lineStyle:"stroke",itemStyle:"fill"};function I0(i,t){var e=i.visualStyleMapper||Dg[t];return e||(console.warn("Unknown style type '"+t+"'."),Dg.itemStyle)}function R0(i,t){var e=i.visualDrawType||DL[t];return e||(console.warn("Unknown style type '"+t+"'."),"fill")}var AL={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,t){var e=i.getData(),n=i.visualStyleAccessPath||"itemStyle",r=i.getModel(n),a=I0(i,n),s=a(r),o=r.getShallow("decal");o&&(e.setVisual("decal",o),o.dirty=!0);var l=R0(i,n),u=s[l],h=ot(u)?u:null,c=s.fill==="auto"||s.stroke==="auto";if(!s[l]||h||c){var f=i.getColorFromPalette(i.name,null,t.getSeriesCount());s[l]||(s[l]=f,e.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||ot(s.fill)?f:s.fill,s.stroke=s.stroke==="auto"||ot(s.stroke)?f:s.stroke}if(e.setVisual("style",s),e.setVisual("drawType",l),!t.isSeriesFiltered(i)&&h)return e.setVisual("colorFromPalette",!1),{dataEach:function(d,p){var g=i.getDataParams(p),v=F({},s);v[l]=h(g),d.setItemVisual(p,"style",v)}}}},sa=new At,PL={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,t){if(!(i.ignoreStyleOnData||t.isSeriesFiltered(i))){var e=i.getData(),n=i.visualStyleAccessPath||"itemStyle",r=I0(i,n),a=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(s,o){var l=s.getRawDataItem(o);if(l&&l[n]){sa.option=l[n];var u=r(sa),h=s.ensureUniqueItemVisual(o,"style");F(h,u),sa.option.decal&&(s.setItemVisual(o,"decal",sa.option.decal),sa.option.decal.dirty=!0),a in u&&s.setItemVisual(o,"colorFromPalette",!1)}}:null}}}},LL={performRawSeries:!0,overallReset:function(i){var t=nt();i.eachSeries(function(e){var n=e.getColorBy();if(!e.isColorBySeries()){var r=e.type+"-"+n,a=t.get(r);a||(a={},t.set(r,a)),Mg(e).scope=a}}),i.eachSeries(function(e){if(!(e.isColorBySeries()||i.isSeriesFiltered(e))){var n=e.getRawData(),r={},a=e.getData(),s=Mg(e).scope,o=e.visualStyleAccessPath||"itemStyle",l=R0(e,o);a.each(function(u){var h=a.getRawIndex(u);r[h]=u}),n.each(function(u){var h=r[u],c=a.getItemVisual(h,"colorFromPalette");if(c){var f=a.ensureUniqueItemVisual(h,"style"),d=n.getName(u)||u+"",p=n.count();f[l]=e.getColorFromPalette(d,s,p)}})}})}},ho=Math.PI;function kL(i,t){t=t||{},Ct(t,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var e=new Ue,n=new de({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});e.add(n);var r=new ge({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),a=new de({style:{fill:"none"},textContent:r,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});e.add(a);var s;return t.showSpinner&&(s=new Ul({shape:{startAngle:-ho/2,endAngle:-ho/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:ho*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:ho*3/2}).delay(300).start("circularInOut"),e.add(s)),e.resize=function(){var o=r.getBoundingRect().width,l=t.showSpinner?t.spinnerRadius:0,u=(i.getWidth()-l*2-(t.showSpinner&&o?10:0)-o)/2-(t.showSpinner&&o?0:5+o/2)+(t.showSpinner?0:o/2)+(o?0:l),h=i.getHeight()/2;t.showSpinner&&s.setShape({cx:u,cy:h}),a.setShape({x:u-l,y:h-l,width:l*2,height:l*2}),n.setShape({x:0,y:0,width:i.getWidth(),height:i.getHeight()})},e.resize(),e}var O0=function(){function i(t,e,n,r){this._stageTaskMap=nt(),this.ecInstance=t,this.api=e,n=this._dataProcessorHandlers=n.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=n.concat(r)}return i.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(n){var r=n.overallTask;r&&r.dirty()})},i.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),r=n.context,a=!e&&n.progressiveEnabled&&(!r||r.progressiveRender)&&t.__idxInPipeline>n.blockIndex,s=a?n.step:null,o=r&&r.modDataCount,l=o!=null?Math.ceil(o/s):null;return{step:s,modBy:l,modDataCount:o}}},i.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},i.prototype.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),r=t.getData(),a=r.count(),s=n.progressiveEnabled&&e.incrementalPrepareRender&&a>=n.threshold,o=t.get("large")&&a>=t.get("largeThreshold"),l=t.get("progressiveChunkMode")==="mod"?a:null;t.pipelineContext=n.context={progressiveRender:s,modDataCount:l,large:o}},i.prototype.restorePipelines=function(t){var e=this,n=e._pipelineMap=nt();t.eachSeries(function(r){var a=r.getProgressive(),s=r.uid;n.set(s,{id:s,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:a&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),e._pipe(r,r.dataTask)})},i.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),n=this.api;A(this._allHandlers,function(r){var a=t.get(r.uid)||t.set(r.uid,{}),s="";Mi(!(r.reset&&r.overallReset),s),r.reset&&this._createSeriesStageTask(r,a,e,n),r.overallReset&&this._createOverallStageTask(r,a,e,n)},this)},i.prototype.prepareView=function(t,e,n,r){var a=t.renderTask,s=a.context;s.model=e,s.ecModel=n,s.api=r,a.__block=!t.incrementalPrepareRender,this._pipe(e,a)},i.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},i.prototype.performVisualTasks=function(t,e,n){this._performStageTasks(this._visualHandlers,t,e,n)},i.prototype._performStageTasks=function(t,e,n,r){r=r||{};var a=!1,s=this;A(t,function(l,u){if(!(r.visualType&&r.visualType!==l.visualType)){var h=s._stageTaskMap.get(l.uid),c=h.seriesTaskMap,f=h.overallTask;if(f){var d,p=f.agentStubMap;p.each(function(v){o(r,v)&&(v.dirty(),d=!0)}),d&&f.dirty(),s.updatePayload(f,n);var g=s.getPerformArgs(f,r.block);p.each(function(v){v.perform(g)}),f.perform(g)&&(a=!0)}else c&&c.each(function(v,m){o(r,v)&&v.dirty();var _=s.getPerformArgs(v,r.block);_.skip=!l.performRawSeries&&e.isSeriesFiltered(v.context.model),s.updatePayload(v,n),v.perform(_)&&(a=!0)})}});function o(l,u){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(u.__pipeline.id))}this.unfinished=a||this.unfinished},i.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(n){e=n.dataTask.perform()||e}),this.unfinished=e||this.unfinished},i.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},i.prototype.updatePayload=function(t,e){e!=="remain"&&(t.context.payload=e)},i.prototype._createSeriesStageTask=function(t,e,n,r){var a=this,s=e.seriesTaskMap,o=e.seriesTaskMap=nt(),l=t.seriesType,u=t.getTargetSeries;t.createOnAllSeries?n.eachRawSeries(h):l?n.eachRawSeriesByType(l,h):u&&u(n,r).each(h);function h(c){var f=c.uid,d=o.set(f,s&&s.get(f)||Xa({plan:FL,reset:BL,count:NL}));d.context={model:c,ecModel:n,api:r,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:a},a._pipe(c,d)}},i.prototype._createOverallStageTask=function(t,e,n,r){var a=this,s=e.overallTask=e.overallTask||Xa({reset:IL});s.context={ecModel:n,api:r,overallReset:t.overallReset,scheduler:a};var o=s.agentStubMap,l=s.agentStubMap=nt(),u=t.seriesType,h=t.getTargetSeries,c=!0,f=!1,d="";Mi(!t.createOnAllSeries,d),u?n.eachRawSeriesByType(u,p):h?h(n,r).each(p):(c=!1,A(n.getSeries(),p));function p(g){var v=g.uid,m=l.set(v,o&&o.get(v)||(f=!0,Xa({reset:RL,onDirty:EL})));m.context={model:g,overallProgress:c},m.agent=s,m.__block=c,a._pipe(g,m)}f&&s.dirty()},i.prototype._pipe=function(t,e){var n=t.uid,r=this._pipelineMap.get(n);!r.head&&(r.head=e),r.tail&&r.tail.pipe(e),r.tail=e,e.__idxInPipeline=r.count++,e.__pipeline=r},i.wrapStageHandler=function(t,e){return ot(t)&&(t={overallReset:t,seriesType:VL(t)}),t.uid=Xl("stageHandler"),e&&(t.visualType=e),t},i}();function IL(i){i.overallReset(i.ecModel,i.api,i.payload)}function RL(i){return i.overallProgress&&OL}function OL(){this.agent.dirty(),this.getDownstream().dirty()}function EL(){this.agent&&this.agent.dirty()}function FL(i){return i.plan?i.plan(i.model,i.ecModel,i.api,i.payload):null}function BL(i){i.useClearVisual&&i.data.clearAllVisual();var t=i.resetDefines=ie(i.reset(i.model,i.ecModel,i.api,i.payload));return t.length>1?rt(t,function(e,n){return E0(n)}):zL}var zL=E0(0);function E0(i){return function(t,e){var n=e.data,r=e.resetDefines[i];if(r&&r.dataEach)for(var a=t.start;a<t.end;a++)r.dataEach(n,a);else r&&r.progress&&r.progress(t,n)}}function NL(i){return i.data.count()}function VL(i){wl=null;try{i(fs,F0)}catch{}return wl}var fs={},F0={},wl;B0(fs,Uf);B0(F0,h0);fs.eachSeriesByType=fs.eachRawSeriesByType=function(i){wl=i};fs.eachComponent=function(i){i.mainType==="series"&&i.subType&&(wl=i.subType)};function B0(i,t){for(var e in t.prototype)i[e]=fe}var Ag=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const HL={color:Ag,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Ag]};var jt="#B9B8CE",Pg="#100C2A",co=function(){return{axisLine:{lineStyle:{color:jt}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Lg=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],z0={darkMode:!0,color:Lg,backgroundColor:Pg,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:jt},pageTextStyle:{color:jt}},textStyle:{color:jt},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:jt}},dataZoom:{borderColor:"#71708A",textStyle:{color:jt},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:jt}},timeline:{lineStyle:{color:jt},label:{color:jt},controlStyle:{color:jt,borderColor:jt}},calendar:{itemStyle:{color:Pg},dayLabel:{color:jt},monthLabel:{color:jt},yearLabel:{color:jt}},timeAxis:co(),logAxis:co(),valueAxis:co(),categoryAxis:co(),line:{symbol:"circle"},graph:{color:Lg},gauge:{title:{color:jt},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:jt},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};z0.categoryAxis.splitLine.show=!1;var WL=function(){function i(){}return i.prototype.normalizeQuery=function(t){var e={},n={},r={};if(G(t)){var a=ii(t);e.mainType=a.main||null,e.subType=a.sub||null}else{var s=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};A(t,function(l,u){for(var h=!1,c=0;c<s.length;c++){var f=s[c],d=u.lastIndexOf(f);if(d>0&&d===u.length-f.length){var p=u.slice(0,d);p!=="data"&&(e.mainType=p,e[f.toLowerCase()]=l,h=!0)}}o.hasOwnProperty(u)&&(n[u]=l,h=!0),h||(r[u]=l)})}return{cptQuery:e,dataQuery:n,otherQuery:r}},i.prototype.filter=function(t,e){var n=this.eventInfo;if(!n)return!0;var r=n.targetEl,a=n.packedEvent,s=n.model,o=n.view;if(!s||!o)return!0;var l=e.cptQuery,u=e.dataQuery;return h(l,s,"mainType")&&h(l,s,"subType")&&h(l,s,"index","componentIndex")&&h(l,s,"name")&&h(l,s,"id")&&h(u,a,"name")&&h(u,a,"dataIndex")&&h(u,a,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(t,e.otherQuery,r,a));function h(c,f,d,p){return c[d]==null||f[p||d]===c[d]}},i.prototype.afterTrigger=function(){this.eventInfo=null},i}(),Pc=["symbol","symbolSize","symbolRotate","symbolOffset"],kg=Pc.concat(["symbolKeepAspect"]),UL={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,t){var e=i.getData();if(i.legendIcon&&e.setVisual("legendIcon",i.legendIcon),!i.hasSymbolVisual)return;for(var n={},r={},a=!1,s=0;s<Pc.length;s++){var o=Pc[s],l=i.get(o);ot(l)?(a=!0,r[o]=l):n[o]=l}if(n.symbol=n.symbol||i.defaultSymbol,e.setVisual(F({legendIcon:i.legendIcon||n.symbol,symbolKeepAspect:i.get("symbolKeepAspect")},n)),t.isSeriesFiltered(i))return;var u=It(r);function h(c,f){for(var d=i.getRawValue(f),p=i.getDataParams(f),g=0;g<u.length;g++){var v=u[g];c.setItemVisual(f,v,r[v](d,p))}}return{dataEach:a?h:null}}},GL={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,t){if(!i.hasSymbolVisual||t.isSeriesFiltered(i))return;var e=i.getData();function n(r,a){for(var s=r.getItemModel(a),o=0;o<kg.length;o++){var l=kg[o],u=s.getShallow(l,!0);u!=null&&r.setItemVisual(a,l,u)}}return{dataEach:e.hasItemOption?n:null}}};function YL(i,t,e){switch(e){case"color":var n=i.getItemVisual(t,"style");return n[i.getVisual("drawType")];case"opacity":return i.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return i.getItemVisual(t,e)}}function XL(i,t){switch(t){case"color":var e=i.getVisual("style");return e[i.getVisual("drawType")];case"opacity":return i.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return i.getVisual(t)}}function $L(i,t){function e(n,r){var a=[];return n.eachComponent({mainType:"series",subType:i,query:r},function(s){a.push(s.seriesIndex)}),a}A([[i+"ToggleSelect","toggleSelect"],[i+"Select","select"],[i+"UnSelect","unselect"]],function(n){t(n[0],function(r,a,s){r=F({},r),s.dispatchAction(F(r,{type:n[1],seriesIndex:e(a,r)}))})})}function fr(i,t,e,n,r){var a=i+t;e.isSilent(a)||n.eachComponent({mainType:"series",subType:"pie"},function(s){for(var o=s.seriesIndex,l=s.option.selectedMap,u=r.selected,h=0;h<u.length;h++)if(u[h].seriesIndex===o){var c=s.getData(),f=bs(c,r.fromActionPayload);e.trigger(a,{type:a,seriesId:s.id,name:H(f)?c.getName(f[0]):c.getName(f),selected:G(l)?l:F({},l)})}})}function jL(i,t,e){i.on("selectchanged",function(n){var r=e.getModel();n.isFromClick?(fr("map","selectchanged",t,r,n),fr("pie","selectchanged",t,r,n)):n.fromAction==="select"?(fr("map","selected",t,r,n),fr("pie","selected",t,r,n)):n.fromAction==="unselect"&&(fr("map","unselected",t,r,n),fr("pie","unselected",t,r,n))})}function Pa(i,t,e){for(var n;i&&!(t(i)&&(n=i,e));)i=i.__hostTarget||i.parent;return n}var qL=Math.round(Math.random()*9),ZL=typeof Object.defineProperty=="function",KL=function(){function i(){this._id="__ec_inner_"+qL++}return i.prototype.get=function(t){return this._guard(t)[this._id]},i.prototype.set=function(t,e){var n=this._guard(t);return ZL?Object.defineProperty(n,this._id,{value:e,enumerable:!1,configurable:!0}):n[this._id]=e,this},i.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},i.prototype.has=function(t){return!!this._guard(t)[this._id]},i.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},i}(),QL=bt.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(i,t){var e=t.cx,n=t.cy,r=t.width/2,a=t.height/2;i.moveTo(e,n-a),i.lineTo(e+r,n+a),i.lineTo(e-r,n+a),i.closePath()}}),JL=bt.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(i,t){var e=t.cx,n=t.cy,r=t.width/2,a=t.height/2;i.moveTo(e,n-a),i.lineTo(e+r,n),i.lineTo(e,n+a),i.lineTo(e-r,n),i.closePath()}}),tk=bt.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(i,t){var e=t.x,n=t.y,r=t.width/5*3,a=Math.max(r,t.height),s=r/2,o=s*s/(a-s),l=n-a+s+o,u=Math.asin(o/s),h=Math.cos(u)*s,c=Math.sin(u),f=Math.cos(u),d=s*.6,p=s*.7;i.moveTo(e-h,l+o),i.arc(e,l,s,Math.PI-u,Math.PI*2+u),i.bezierCurveTo(e+h-c*d,l+o+f*d,e,n-p,e,n),i.bezierCurveTo(e,n-p,e-h+c*d,l+o+f*d,e-h,l+o),i.closePath()}}),ek=bt.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(i,t){var e=t.height,n=t.width,r=t.x,a=t.y,s=n/3*2;i.moveTo(r,a),i.lineTo(r+s,a+e),i.lineTo(r,a+e/4*3),i.lineTo(r-s,a+e),i.lineTo(r,a),i.closePath()}}),ik={line:zr,rect:de,roundRect:de,square:de,circle:Wl,diamond:JL,pin:tk,arrow:ek,triangle:QL},nk={line:function(i,t,e,n,r){r.x1=i,r.y1=t+n/2,r.x2=i+e,r.y2=t+n/2},rect:function(i,t,e,n,r){r.x=i,r.y=t,r.width=e,r.height=n},roundRect:function(i,t,e,n,r){r.x=i,r.y=t,r.width=e,r.height=n,r.r=Math.min(e,n)/4},square:function(i,t,e,n,r){var a=Math.min(e,n);r.x=i,r.y=t,r.width=a,r.height=a},circle:function(i,t,e,n,r){r.cx=i+e/2,r.cy=t+n/2,r.r=Math.min(e,n)/2},diamond:function(i,t,e,n,r){r.cx=i+e/2,r.cy=t+n/2,r.width=e,r.height=n},pin:function(i,t,e,n,r){r.x=i+e/2,r.y=t+n/2,r.width=e,r.height=n},arrow:function(i,t,e,n,r){r.x=i+e/2,r.y=t+n/2,r.width=e,r.height=n},triangle:function(i,t,e,n,r){r.cx=i+e/2,r.cy=t+n/2,r.width=e,r.height=n}},Lc={};A(ik,function(i,t){Lc[t]=new i});var rk=bt.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(i,t,e){var n=ay(i,t,e),r=this.shape;return r&&r.symbolType==="pin"&&t.position==="inside"&&(n.y=e.y+e.height*.4),n},buildPath:function(i,t,e){var n=t.symbolType;if(n!=="none"){var r=Lc[n];r||(n="rect",r=Lc[n]),nk[n](t.x,t.y,t.width,t.height,r.shape),r.buildPath(i,r.shape,e)}}});function ak(i,t){if(this.type!=="image"){var e=this.style;this.__isEmptyBrush?(e.stroke=i,e.fill=t||"#fff",e.lineWidth=2):this.shape.symbolType==="line"?e.stroke=i:e.fill=i,this.markRedraw()}}function jf(i,t,e,n,r,a,s){var o=i.indexOf("empty")===0;o&&(i=i.substr(5,1).toLowerCase()+i.substr(6));var l;return i.indexOf("image://")===0?l=Yy(i.slice(8),new ct(t,e,n,r),s?"center":"cover"):i.indexOf("path://")===0?l=Of(i.slice(7),{},new ct(t,e,n,r),s?"center":"cover"):l=new rk({shape:{symbolType:i,x:t,y:e,width:n,height:r}}),l.__isEmptyBrush=o,l.setColor=ak,a&&l.setColor(a),l}function sk(i,t){if(i!=null)return H(i)||(i=[i,i]),[Ft(i[0],t[0])||0,Ft(Q(i[1],i[0]),t[1])||0]}function Fn(i){return isFinite(i)}function ok(i,t,e){var n=t.x==null?0:t.x,r=t.x2==null?1:t.x2,a=t.y==null?0:t.y,s=t.y2==null?0:t.y2;t.global||(n=n*e.width+e.x,r=r*e.width+e.x,a=a*e.height+e.y,s=s*e.height+e.y),n=Fn(n)?n:0,r=Fn(r)?r:1,a=Fn(a)?a:0,s=Fn(s)?s:0;var o=i.createLinearGradient(n,a,r,s);return o}function lk(i,t,e){var n=e.width,r=e.height,a=Math.min(n,r),s=t.x==null?.5:t.x,o=t.y==null?.5:t.y,l=t.r==null?.5:t.r;t.global||(s=s*n+e.x,o=o*r+e.y,l=l*a),s=Fn(s)?s:.5,o=Fn(o)?o:.5,l=l>=0&&Fn(l)?l:.5;var u=i.createRadialGradient(s,o,0,s,o,l);return u}function kc(i,t,e){for(var n=t.type==="radial"?lk(i,t,e):ok(i,t,e),r=t.colorStops,a=0;a<r.length;a++)n.addColorStop(r[a].offset,r[a].color);return n}function uk(i,t){if(i===t||!i&&!t)return!1;if(!i||!t||i.length!==t.length)return!0;for(var e=0;e<i.length;e++)if(i[e]!==t[e])return!0;return!1}function fo(i){return parseInt(i,10)}function po(i,t,e){var n=["width","height"][t],r=["clientWidth","clientHeight"][t],a=["paddingLeft","paddingTop"][t],s=["paddingRight","paddingBottom"][t];if(e[n]!=null&&e[n]!=="auto")return parseFloat(e[n]);var o=document.defaultView.getComputedStyle(i);return(i[r]||fo(o[n])||fo(i.style[n]))-(fo(o[a])||0)-(fo(o[s])||0)|0}function hk(i,t){return!i||i==="solid"||!(t>0)?null:i==="dashed"?[4*t,2*t]:i==="dotted"?[t]:Rt(i)?[i]:H(i)?i:null}function N0(i){var t=i.style,e=t.lineDash&&t.lineWidth>0&&hk(t.lineDash,t.lineWidth),n=t.lineDashOffset;if(e){var r=t.strokeNoScale&&i.getLineScale?i.getLineScale():1;r&&r!==1&&(e=rt(e,function(a){return a/r}),n/=r)}return[e,n]}var ck=new Ir(!0);function Sl(i){var t=i.stroke;return!(t==null||t==="none"||!(i.lineWidth>0))}function Ig(i){return typeof i=="string"&&i!=="none"}function Tl(i){var t=i.fill;return t!=null&&t!=="none"}function Rg(i,t){if(t.fillOpacity!=null&&t.fillOpacity!==1){var e=i.globalAlpha;i.globalAlpha=t.fillOpacity*t.opacity,i.fill(),i.globalAlpha=e}else i.fill()}function Og(i,t){if(t.strokeOpacity!=null&&t.strokeOpacity!==1){var e=i.globalAlpha;i.globalAlpha=t.strokeOpacity*t.opacity,i.stroke(),i.globalAlpha=e}else i.stroke()}function Ic(i,t,e){var n=my(t.image,t.__image,e);if(Nl(n)){var r=i.createPattern(n,t.repeat||"repeat");if(typeof DOMMatrix=="function"&&r&&r.setTransform){var a=new DOMMatrix;a.translateSelf(t.x||0,t.y||0),a.rotateSelf(0,0,(t.rotation||0)*kC),a.scaleSelf(t.scaleX||1,t.scaleY||1),r.setTransform(a)}return r}}function fk(i,t,e,n){var r,a=Sl(e),s=Tl(e),o=e.strokePercent,l=o<1,u=!t.path;(!t.silent||l)&&u&&t.createPathProxy();var h=t.path||ck,c=t.__dirty;if(!n){var f=e.fill,d=e.stroke,p=s&&!!f.colorStops,g=a&&!!d.colorStops,v=s&&!!f.image,m=a&&!!d.image,_=void 0,y=void 0,b=void 0,w=void 0,x=void 0;(p||g)&&(x=t.getBoundingRect()),p&&(_=c?kc(i,f,x):t.__canvasFillGradient,t.__canvasFillGradient=_),g&&(y=c?kc(i,d,x):t.__canvasStrokeGradient,t.__canvasStrokeGradient=y),v&&(b=c||!t.__canvasFillPattern?Ic(i,f,t):t.__canvasFillPattern,t.__canvasFillPattern=b),m&&(w=c||!t.__canvasStrokePattern?Ic(i,d,t):t.__canvasStrokePattern,t.__canvasStrokePattern=b),p?i.fillStyle=_:v&&(b?i.fillStyle=b:s=!1),g?i.strokeStyle=y:m&&(w?i.strokeStyle=w:a=!1)}var S=t.getGlobalScale();h.setScale(S[0],S[1],t.segmentIgnoreThreshold);var T,C;i.setLineDash&&e.lineDash&&(r=N0(t),T=r[0],C=r[1]);var M=!0;(u||c&gr)&&(h.setDPR(i.dpr),l?h.setContext(null):(h.setContext(i),M=!1),h.reset(),t.buildPath(h,t.shape,n),h.toStatic(),t.pathUpdated()),M&&h.rebuildPath(i,l?o:1),T&&(i.setLineDash(T),i.lineDashOffset=C),n||(e.strokeFirst?(a&&Og(i,e),s&&Rg(i,e)):(s&&Rg(i,e),a&&Og(i,e))),T&&i.setLineDash([])}function dk(i,t,e){var n=t.__image=my(e.image,t.__image,t,t.onload);if(!(!n||!Nl(n))){var r=e.x||0,a=e.y||0,s=t.getWidth(),o=t.getHeight(),l=n.width/n.height;if(s==null&&o!=null?s=o*l:o==null&&s!=null?o=s/l:s==null&&o==null&&(s=n.width,o=n.height),e.sWidth&&e.sHeight){var u=e.sx||0,h=e.sy||0;i.drawImage(n,u,h,e.sWidth,e.sHeight,r,a,s,o)}else if(e.sx&&e.sy){var u=e.sx,h=e.sy,c=s-u,f=o-h;i.drawImage(n,u,h,c,f,r,a,s,o)}else i.drawImage(n,r,a,s,o)}}function pk(i,t,e){var n,r=e.text;if(r!=null&&(r+=""),r){i.font=e.font||Xn,i.textAlign=e.textAlign,i.textBaseline=e.textBaseline;var a=void 0,s=void 0;i.setLineDash&&e.lineDash&&(n=N0(t),a=n[0],s=n[1]),a&&(i.setLineDash(a),i.lineDashOffset=s),e.strokeFirst?(Sl(e)&&i.strokeText(r,e.x,e.y),Tl(e)&&i.fillText(r,e.x,e.y)):(Tl(e)&&i.fillText(r,e.x,e.y),Sl(e)&&i.strokeText(r,e.x,e.y)),a&&i.setLineDash([])}}var Eg=["shadowBlur","shadowOffsetX","shadowOffsetY"],Fg=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function V0(i,t,e,n,r){var a=!1;if(!n&&(e=e||{},t===e))return!1;if(n||t.opacity!==e.opacity){ce(i,r),a=!0;var s=Math.max(Math.min(t.opacity,1),0);i.globalAlpha=isNaN(s)?Hn.opacity:s}(n||t.blend!==e.blend)&&(a||(ce(i,r),a=!0),i.globalCompositeOperation=t.blend||Hn.blend);for(var o=0;o<Eg.length;o++){var l=Eg[o];(n||t[l]!==e[l])&&(a||(ce(i,r),a=!0),i[l]=i.dpr*(t[l]||0))}return(n||t.shadowColor!==e.shadowColor)&&(a||(ce(i,r),a=!0),i.shadowColor=t.shadowColor||Hn.shadowColor),a}function Bg(i,t,e,n,r){var a=ds(t,r.inHover),s=n?null:e&&ds(e,r.inHover)||{};if(a===s)return!1;var o=V0(i,a,s,n,r);if((n||a.fill!==s.fill)&&(o||(ce(i,r),o=!0),Ig(a.fill)&&(i.fillStyle=a.fill)),(n||a.stroke!==s.stroke)&&(o||(ce(i,r),o=!0),Ig(a.stroke)&&(i.strokeStyle=a.stroke)),(n||a.opacity!==s.opacity)&&(o||(ce(i,r),o=!0),i.globalAlpha=a.opacity==null?1:a.opacity),t.hasStroke()){var l=a.lineWidth,u=l/(a.strokeNoScale&&t.getLineScale?t.getLineScale():1);i.lineWidth!==u&&(o||(ce(i,r),o=!0),i.lineWidth=u)}for(var h=0;h<Fg.length;h++){var c=Fg[h],f=c[0];(n||a[f]!==s[f])&&(o||(ce(i,r),o=!0),i[f]=a[f]||c[1])}return o}function vk(i,t,e,n,r){return V0(i,ds(t,r.inHover),e&&ds(e,r.inHover),n,r)}function H0(i,t){var e=t.transform,n=i.dpr||1;e?i.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):i.setTransform(n,0,0,n,0,0)}function gk(i,t,e){for(var n=!1,r=0;r<i.length;r++){var a=i[r];n=n||a.isZeroArea(),H0(t,a),t.beginPath(),a.buildPath(t,a.shape),t.clip()}e.allClipped=n}function mk(i,t){return i&&t?i[0]!==t[0]||i[1]!==t[1]||i[2]!==t[2]||i[3]!==t[3]||i[4]!==t[4]||i[5]!==t[5]:!(!i&&!t)}var zg=1,Ng=2,Vg=3,Hg=4;function _k(i){var t=Tl(i),e=Sl(i);return!(i.lineDash||!(+t^+e)||t&&typeof i.fill!="string"||e&&typeof i.stroke!="string"||i.strokePercent<1||i.strokeOpacity<1||i.fillOpacity<1)}function ce(i,t){t.batchFill&&i.fill(),t.batchStroke&&i.stroke(),t.batchFill="",t.batchStroke=""}function ds(i,t){return t&&i.__hoverStyle||i.style}function W0(i,t){Bn(i,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function Bn(i,t,e,n){var r=t.transform;if(!t.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1)){t.__dirty&=~Se,t.__isRendered=!1;return}var a=t.__clipPaths,s=e.prevElClipPaths,o=!1,l=!1;if((!s||uk(a,s))&&(s&&s.length&&(ce(i,e),i.restore(),l=o=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),a&&a.length&&(ce(i,e),i.save(),gk(a,i,e),o=!0),e.prevElClipPaths=a),e.allClipped){t.__isRendered=!1;return}t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var u=e.prevEl;u||(l=o=!0);var h=t instanceof bt&&t.autoBatch&&_k(t.style);o||mk(r,u.transform)?(ce(i,e),H0(i,t)):h||ce(i,e);var c=ds(t,e.inHover);t instanceof bt?(e.lastDrawType!==zg&&(l=!0,e.lastDrawType=zg),Bg(i,t,u,l,e),(!h||!e.batchFill&&!e.batchStroke)&&i.beginPath(),fk(i,t,c,h),h&&(e.batchFill=c.fill||"",e.batchStroke=c.stroke||"")):t instanceof fl?(e.lastDrawType!==Vg&&(l=!0,e.lastDrawType=Vg),Bg(i,t,u,l,e),pk(i,t,c)):t instanceof qn?(e.lastDrawType!==Ng&&(l=!0,e.lastDrawType=Ng),vk(i,t,u,l,e),dk(i,t,c)):t.getTemporalDisplayables&&(e.lastDrawType!==Hg&&(l=!0,e.lastDrawType=Hg),yk(i,t,e)),h&&n&&ce(i,e),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),e.prevEl=t,t.__dirty=0,t.__isRendered=!0}function yk(i,t,e){var n=t.getDisplayables(),r=t.getTemporalDisplayables();i.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:e.viewWidth,viewHeight:e.viewHeight,inHover:e.inHover},s,o;for(s=t.getCursor(),o=n.length;s<o;s++){var l=n[s];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Bn(i,l,a,s===o-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}for(var u=0,h=r.length;u<h;u++){var l=r[u];l.beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),Bn(i,l,a,u===h-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}t.clearTemporalDisplayables(),t.notClear=!0,i.restore()}var lh=new KL,Wg=new ys(100),Ug=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Rc(i,t){if(i==="none")return null;var e=t.getDevicePixelRatio(),n=t.getZr(),r=n.painter.type==="svg";i.dirty&&lh.delete(i);var a=lh.get(i);if(a)return a;var s=Ct(i,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var o={repeat:"repeat"};return l(o),o.rotation=s.rotation,o.scaleX=o.scaleY=r?1:1/e,lh.set(i,o),i.dirty=!1,o;function l(u){for(var h=[e],c=!0,f=0;f<Ug.length;++f){var d=s[Ug[f]];if(d!=null&&!H(d)&&!G(d)&&!Rt(d)&&typeof d!="boolean"){c=!1;break}h.push(d)}var p;if(c){p=h.join(",")+(r?"-svg":"");var g=Wg.get(p);g&&(r?u.svgElement=g:u.image=g)}var v=G0(s.dashArrayX),m=bk(s.dashArrayY),_=U0(s.symbol),y=xk(v),b=Y0(m),w=!r&&Fr.createCanvas(),x=r&&{tag:"g",attrs:{},key:"dcl",children:[]},S=C(),T;w&&(w.width=S.width*e,w.height=S.height*e,T=w.getContext("2d")),M(),c&&Wg.put(p,w||x),u.image=w,u.svgElement=x,u.svgWidth=S.width,u.svgHeight=S.height;function C(){for(var D=1,P=0,k=y.length;P<k;++P)D=uv(D,y[P]);for(var L=1,P=0,k=_.length;P<k;++P)L=uv(L,_[P].length);D*=L;var I=b*y.length*_.length;return{width:Math.max(1,Math.min(D,s.maxTileWidth)),height:Math.max(1,Math.min(I,s.maxTileHeight))}}function M(){T&&(T.clearRect(0,0,w.width,w.height),s.backgroundColor&&(T.fillStyle=s.backgroundColor,T.fillRect(0,0,w.width,w.height)));for(var D=0,P=0;P<m.length;++P)D+=m[P];if(D<=0)return;for(var k=-b,L=0,I=0,R=0;k<S.height;){if(L%2===0){for(var V=I/2%_.length,W=0,N=0,j=0;W<S.width*2;){for(var K=0,P=0;P<v[R].length;++P)K+=v[R][P];if(K<=0)break;if(N%2===0){var U=(1-s.symbolSize)*.5,ft=W+v[R][N]*U,dt=k+m[L]*U,Et=v[R][N]*s.symbolSize,Vt=m[L]*s.symbolSize,Ce=j/2%_[V].length;_e(ft,dt,Et,Vt,_[V][Ce])}W+=v[R][N],++j,++N,N===v[R].length&&(N=0)}++R,R===v.length&&(R=0)}k+=m[L],++I,++L,L===m.length&&(L=0)}function _e(Ut,Pt,X,J,Xe){var Ht=r?1:e,ki=jf(Xe,Ut*Ht,Pt*Ht,X*Ht,J*Ht,s.color,s.symbolKeepAspect);if(r){var hi=n.painter.renderOneToVNode(ki);hi&&x.children.push(hi)}else W0(T,ki)}}}}function U0(i){if(!i||i.length===0)return[["rect"]];if(G(i))return[[i]];for(var t=!0,e=0;e<i.length;++e)if(!G(i[e])){t=!1;break}if(t)return U0([i]);for(var n=[],e=0;e<i.length;++e)G(i[e])?n.push([i[e]]):n.push(i[e]);return n}function G0(i){if(!i||i.length===0)return[[0,0]];if(Rt(i)){var t=Math.ceil(i);return[[t,t]]}for(var e=!0,n=0;n<i.length;++n)if(!Rt(i[n])){e=!1;break}if(e)return G0([i]);for(var r=[],n=0;n<i.length;++n)if(Rt(i[n])){var t=Math.ceil(i[n]);r.push([t,t])}else{var t=rt(i[n],function(o){return Math.ceil(o)});t.length%2===1?r.push(t.concat(t)):r.push(t)}return r}function bk(i){if(!i||typeof i=="object"&&i.length===0)return[0,0];if(Rt(i)){var t=Math.ceil(i);return[t,t]}var e=rt(i,function(n){return Math.ceil(n)});return i.length%2?e.concat(e):e}function xk(i){return rt(i,function(t){return Y0(t)})}function Y0(i){for(var t=0,e=0;e<i.length;++e)t+=i[e];return i.length%2===1?t*2:t}function wk(i,t){i.eachRawSeries(function(e){if(!i.isSeriesFiltered(e)){var n=e.getData();n.hasItemVisual()&&n.each(function(s){var o=n.getItemVisual(s,"decal");if(o){var l=n.ensureUniqueItemVisual(s,"style");l.decal=Rc(o,t)}});var r=n.getVisual("decal");if(r){var a=n.getVisual("style");a.decal=Rc(r,t)}}})}var Ve=new oi,X0={};function Sk(i,t){X0[i]=t}function Tk(i){return X0[i]}var Ck=1,Mk=800,Dk=900,Ak=1e3,Pk=2e3,Lk=5e3,$0=1e3,kk=1100,qf=2e3,j0=3e3,Ik=4e3,Zl=4500,Rk=4600,Ok=5e3,Ek=6e3,q0=7e3,Fk={PROCESSOR:{FILTER:Ak,SERIES_FILTER:Mk,STATISTIC:Lk},VISUAL:{LAYOUT:$0,PROGRESSIVE_LAYOUT:kk,GLOBAL:qf,CHART:j0,POST_CHART_LAYOUT:Rk,COMPONENT:Ik,BRUSH:Ok,CHART_ITEM:Zl,ARIA:Ek,DECAL:q0}},$t="__flagInMainProcess",ae="__pendingUpdate",uh="__needsUpdateStatus",Gg=/^[a-zA-Z0-9_]+$/,hh="__connectUpdateStatus",Yg=0,Bk=1,zk=2;function Z0(i){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this.isDisposed()){this.id;return}return Q0(this,i,t)}}function K0(i){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Q0(this,i,t)}}function Q0(i,t,e){return e[0]=e[0]&&e[0].toLowerCase(),oi.prototype[t].apply(i,e)}var J0=function(i){Ot(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t}(oi),tb=J0.prototype;tb.on=K0("on");tb.off=K0("off");var dr,ch,vo,Fi,fh,dh,ph,oa,la,Xg,$g,vh,jg,go,qg,eb,De,Zg,ib=function(i){Ot(t,i);function t(e,n,r){var a=i.call(this,new WL)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],r=r||{},G(n)&&(n=nb[n]),a._dom=e;var s="canvas",o="auto",l=!1;r.ssr;var u=a._zr=sv(e,{renderer:r.renderer||s,devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:Q(r.useDirtyRect,l),useCoarsePointer:Q(r.useCoarsePointer,o),pointerSize:r.pointerSize});a._ssr=r.ssr,a._throttledZrFlush=$f(mt(u.flush,u),17),n=it(n),n&&d0(n,!0),a._theme=n,a._locale=GP(r.locale||Jy),a._coordSysMgr=new c0;var h=a._api=qg(a);function c(f,d){return f.__prio-d.__prio}return Eo(Ml,c),Eo(Oc,c),a._scheduler=new O0(a,h,Oc,Ml),a._messageCenter=new J0,a._initEvents(),a.resize=mt(a.resize,a),u.animation.on("frame",a._onframe,a),Xg(u,a),$g(u,a),Xh(a),a}return t.prototype._onframe=function(){if(!this._disposed){Zg(this);var e=this._scheduler;if(this[ae]){var n=this[ae].silent;this[$t]=!0;try{dr(this),Fi.update.call(this,null,this[ae].updateParams)}catch(l){throw this[$t]=!1,this[ae]=null,l}this._zr.flush(),this[$t]=!1,this[ae]=null,oa.call(this,n),la.call(this,n)}else if(e.unfinished){var r=Ck,a=this._model,s=this._api;e.unfinished=!1;do{var o=+new Date;e.performSeriesTasks(a),e.performDataProcessorTasks(a),dh(this,a),e.performVisualTasks(a),go(this,this._model,s,"remain",{}),r-=+new Date-o}while(r>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,n,r){if(!this[$t]){if(this._disposed){this.id;return}var a,s,o;if(Y(n)&&(r=n.lazyUpdate,a=n.silent,s=n.replaceMerge,o=n.transition,n=n.notMerge),this[$t]=!0,!this._model||n){var l=new x2(this._api),u=this._theme,h=this._model=new Uf;h.scheduler=this._scheduler,h.ssr=this._ssr,h.init(null,null,null,u,this._locale,l)}this._model.setOption(e,{replaceMerge:s},Ec);var c={seriesTransition:o,optionChanged:!0};if(r)this[ae]={silent:a,updateParams:c},this[$t]=!1,this.getZr().wakeUp();else{try{dr(this),Fi.update.call(this,null,c)}catch(f){throw this[ae]=null,this[$t]=!1,f}this._ssr||this._zr.flush(),this[ae]=null,this[$t]=!1,oa.call(this,a),la.call(this,a)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||$.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){e=e||{};var n=this._zr.painter;return n.getRenderedCanvas({backgroundColor:e.backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){e=e||{};var n=this._zr.painter;return n.renderToString({useViewBox:e.useViewBox})},t.prototype.getSvgDataURL=function(){if($.svgSupported){var e=this._zr,n=e.storage.getDisplayList();return A(n,function(r){r.stopAnimation(null,!0)}),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(this._disposed){this.id;return}e=e||{};var n=e.excludeComponents,r=this._model,a=[],s=this;A(n,function(l){r.eachComponent({mainType:l},function(u){var h=s._componentsMap[u.__viewId];h.group.ignore||(a.push(h),h.group.ignore=!0)})});var o=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return A(a,function(l){l.group.ignore=!1}),o},t.prototype.getConnectedDataURL=function(e){if(this._disposed){this.id;return}var n=e.type==="svg",r=this.group,a=Math.min,s=Math.max,o=1/0;if(Kg[r]){var l=o,u=o,h=-o,c=-o,f=[],d=e&&e.pixelRatio||this.getDevicePixelRatio();A(ja,function(y,b){if(y.group===r){var w=n?y.getZr().painter.getSvgDom().innerHTML:y.renderToCanvas(it(e)),x=y.getDom().getBoundingClientRect();l=a(x.left,l),u=a(x.top,u),h=s(x.right,h),c=s(x.bottom,c),f.push({dom:w,left:x.left,top:x.top})}}),l*=d,u*=d,h*=d,c*=d;var p=h-l,g=c-u,v=Fr.createCanvas(),m=sv(v,{renderer:n?"svg":"canvas"});if(m.resize({width:p,height:g}),n){var _="";return A(f,function(y){var b=y.left-l,w=y.top-u;_+='<g transform="translate('+b+","+w+')">'+y.dom+"</g>"}),m.painter.getSvgRoot().innerHTML=_,e.connectedBackgroundColor&&m.painter.setBackgroundColor(e.connectedBackgroundColor),m.refreshImmediately(),m.painter.toDataURL()}else return e.connectedBackgroundColor&&m.add(new de({shape:{x:0,y:0,width:p,height:g},style:{fill:e.connectedBackgroundColor}})),A(f,function(y){var b=new qn({style:{x:y.left*d-l,y:y.top*d-u,image:y.dom}});m.add(b)}),m.refreshImmediately(),v.toDataURL("image/"+(e&&e.type||"png"))}else return this.getDataURL(e)},t.prototype.convertToPixel=function(e,n){return fh(this,"convertToPixel",e,n)},t.prototype.convertFromPixel=function(e,n){return fh(this,"convertFromPixel",e,n)},t.prototype.containPixel=function(e,n){if(this._disposed){this.id;return}var r=this._model,a,s=Fu(r,e);return A(s,function(o,l){l.indexOf("Models")>=0&&A(o,function(u){var h=u.coordinateSystem;if(h&&h.containPoint)a=a||!!h.containPoint(n);else if(l==="seriesModels"){var c=this._chartsMap[u.__viewId];c&&c.containPoint&&(a=a||c.containPoint(n,u))}},this)},this),!!a},t.prototype.getVisual=function(e,n){var r=this._model,a=Fu(r,e,{defaultMainType:"series"}),s=a.seriesModel,o=s.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?o.indexOfRawIndex(a.dataIndex):null;return l!=null?YL(o,l,n):XL(o,n)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e=this;A(Nk,function(n){var r=function(a){var s=e.getModel(),o=a.target,l,u=n==="globalout";if(u?l={}:o&&Pa(o,function(p){var g=St(p);if(g&&g.dataIndex!=null){var v=g.dataModel||s.getSeriesByIndex(g.seriesIndex);return l=v&&v.getDataParams(g.dataIndex,g.dataType,o)||{},!0}else if(g.eventData)return l=F({},g.eventData),!0},!0),l){var h=l.componentType,c=l.componentIndex;(h==="markLine"||h==="markPoint"||h==="markArea")&&(h="series",c=l.seriesIndex);var f=h&&c!=null&&s.getComponent(h,c),d=f&&e[f.mainType==="series"?"_chartsMap":"_componentsMap"][f.__viewId];l.event=a,l.type=n,e._$eventProcessor.eventInfo={targetEl:o,packedEvent:l,model:f,view:d},e.trigger(n,l)}};r.zrEventfulCallAtLast=!0,e._zr.on(n,r,e)}),A($a,function(n,r){e._messageCenter.on(r,function(a){this.trigger(r,a)},e)}),A(["selectchanged"],function(n){e._messageCenter.on(n,function(r){this.trigger(n,r)},e)}),jL(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var e=this.getDom();e&&py(this.getDom(),Kf,"");var n=this,r=n._api,a=n._model;A(n._componentsViews,function(s){s.dispose(a,r)}),A(n._chartsViews,function(s){s.dispose(a,r)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete ja[n.id]},t.prototype.resize=function(e){if(!this[$t]){if(this._disposed){this.id;return}this._zr.resize(e);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!n){var r=n.resetOption("media"),a=e&&e.silent;this[ae]&&(a==null&&(a=this[ae].silent),r=!0,this[ae]=null),this[$t]=!0;try{r&&dr(this),Fi.update.call(this,{type:"resize",animation:F({duration:0},e&&e.animation)})}catch(s){throw this[$t]=!1,s}this[$t]=!1,oa.call(this,a),la.call(this,a)}}},t.prototype.showLoading=function(e,n){if(this._disposed){this.id;return}if(Y(e)&&(n=e,e=""),e=e||"default",this.hideLoading(),!!Fc[e]){var r=Fc[e](this._api,n),a=this._zr;this._loadingFX=r,a.add(r)}},t.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},t.prototype.makeActionFromEvent=function(e){var n=F({},e);return n.type=$a[e.type],n},t.prototype.dispatchAction=function(e,n){if(this._disposed){this.id;return}if(Y(n)||(n={silent:!!n}),!!Cl[e.type]&&this._model){if(this[$t]){this._pendingActions.push(e);return}var r=n.silent;ph.call(this,e,r);var a=n.flush;a?this._zr.flush():a!==!1&&$.browser.weChat&&this._throttledZrFlush(),oa.call(this,r),la.call(this,r)}},t.prototype.updateLabelLayout=function(){Ve.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(this._disposed){this.id;return}var n=e.seriesIndex,r=this.getModel(),a=r.getSeriesByIndex(n);a.appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()},t.internalField=function(){dr=function(c){var f=c._scheduler;f.restorePipelines(c._model),f.prepareStageTasks(),ch(c,!0),ch(c,!1),f.plan()},ch=function(c,f){for(var d=c._model,p=c._scheduler,g=f?c._componentsViews:c._chartsViews,v=f?c._componentsMap:c._chartsMap,m=c._zr,_=c._api,y=0;y<g.length;y++)g[y].__alive=!1;f?d.eachComponent(function(x,S){x!=="series"&&b(S)}):d.eachSeries(b);function b(x){var S=x.__requireNewView;x.__requireNewView=!1;var T="_ec_"+x.id+"_"+x.type,C=!S&&v[T];if(!C){var M=ii(x.type),D=f?Di.getClass(M.main,M.sub):Qi.getClass(M.sub);C=new D,C.init(d,_),v[T]=C,g.push(C),m.add(C.group)}x.__viewId=C.__id=T,C.__alive=!0,C.__model=x,C.group.__ecComponentInfo={mainType:x.mainType,index:x.componentIndex},!f&&p.prepareView(C,x,d,_)}for(var y=0;y<g.length;){var w=g[y];w.__alive?y++:(!f&&w.renderTask.dispose(),m.remove(w.group),w.dispose(d,_),g.splice(y,1),v[w.__id]===w&&delete v[w.__id],w.__id=w.group.__ecComponentInfo=null)}},vo=function(c,f,d,p,g){var v=c._model;if(v.setUpdatePayload(d),!p){A([].concat(c._componentsViews).concat(c._chartsViews),w);return}var m={};m[p+"Id"]=d[p+"Id"],m[p+"Index"]=d[p+"Index"],m[p+"Name"]=d[p+"Name"];var _={mainType:p,query:m};g&&(_.subType=g);var y=d.excludeSeriesId,b;y!=null&&(b=nt(),A(ie(y),function(x){var S=ai(x,null);S!=null&&b.set(S,!0)})),v&&v.eachComponent(_,function(x){var S=b&&b.get(x.id)!=null;if(!S)if(Ov(d))if(x instanceof nn)d.type===Wn&&!d.notBlur&&!x.get(["emphasis","disabled"])&&bA(x,d,c._api);else{var T=Af(x.mainType,x.componentIndex,d.name,c._api),C=T.focusSelf,M=T.dispatchers;d.type===Wn&&C&&!d.notBlur&&gc(x.mainType,x.componentIndex,c._api),M&&A(M,function(D){d.type===Wn?dc(D):pc(D)})}else yc(d)&&x instanceof nn&&(SA(x,d,c._api),Iv(x),De(c))},c),v&&v.eachComponent(_,function(x){var S=b&&b.get(x.id)!=null;S||w(c[p==="series"?"_chartsMap":"_componentsMap"][x.__viewId])},c);function w(x){x&&x.__alive&&x[f]&&x[f](x.__model,v,c._api,d)}},Fi={prepareAndUpdate:function(c){dr(this),Fi.update.call(this,c,{optionChanged:c.newOption!=null})},update:function(c,f){var d=this._model,p=this._api,g=this._zr,v=this._coordSysMgr,m=this._scheduler;if(d){d.setUpdatePayload(c),m.restoreData(d,c),m.performSeriesTasks(d),v.create(d,p),m.performDataProcessorTasks(d,c),dh(this,d),v.update(d,p),e(d),m.performVisualTasks(d,c),vh(this,d,p,c,f);var _=d.get("backgroundColor")||"transparent",y=d.get("darkMode");g.setBackgroundColor(_),y!=null&&y!=="auto"&&g.setDarkMode(y),Ve.trigger("afterupdate",d,p)}},updateTransform:function(c){var f=this,d=this._model,p=this._api;if(d){d.setUpdatePayload(c);var g=[];d.eachComponent(function(m,_){if(m!=="series"){var y=f.getViewOfComponentModel(_);if(y&&y.__alive)if(y.updateTransform){var b=y.updateTransform(_,d,p,c);b&&b.update&&g.push(y)}else g.push(y)}});var v=nt();d.eachSeries(function(m){var _=f._chartsMap[m.__viewId];if(_.updateTransform){var y=_.updateTransform(m,d,p,c);y&&y.update&&v.set(m.uid,1)}else v.set(m.uid,1)}),e(d),this._scheduler.performVisualTasks(d,c,{setDirty:!0,dirtyMap:v}),go(this,d,p,c,{},v),Ve.trigger("afterupdate",d,p)}},updateView:function(c){var f=this._model;f&&(f.setUpdatePayload(c),Qi.markUpdateMethod(c,"updateView"),e(f),this._scheduler.performVisualTasks(f,c,{setDirty:!0}),vh(this,f,this._api,c,{}),Ve.trigger("afterupdate",f,this._api))},updateVisual:function(c){var f=this,d=this._model;d&&(d.setUpdatePayload(c),d.eachSeries(function(p){p.getData().clearAllVisual()}),Qi.markUpdateMethod(c,"updateVisual"),e(d),this._scheduler.performVisualTasks(d,c,{visualType:"visual",setDirty:!0}),d.eachComponent(function(p,g){if(p!=="series"){var v=f.getViewOfComponentModel(g);v&&v.__alive&&v.updateVisual(g,d,f._api,c)}}),d.eachSeries(function(p){var g=f._chartsMap[p.__viewId];g.updateVisual(p,d,f._api,c)}),Ve.trigger("afterupdate",d,this._api))},updateLayout:function(c){Fi.update.call(this,c)}},fh=function(c,f,d,p){if(c._disposed){c.id;return}for(var g=c._model,v=c._coordSysMgr.getCoordinateSystems(),m,_=Fu(g,d),y=0;y<v.length;y++){var b=v[y];if(b[f]&&(m=b[f](g,_,p))!=null)return m}},dh=function(c,f){var d=c._chartsMap,p=c._scheduler;f.eachSeries(function(g){p.updateStreamModes(g,d[g.__viewId])})},ph=function(c,f){var d=this,p=this.getModel(),g=c.type,v=c.escapeConnect,m=Cl[g],_=m.actionInfo,y=(_.update||"update").split(":"),b=y.pop(),w=y[0]!=null&&ii(y[0]);this[$t]=!0;var x=[c],S=!1;c.batch&&(S=!0,x=rt(c.batch,function(L){return L=Ct(F({},L),c),L.batch=null,L}));var T=[],C,M=yc(c),D=Ov(c);if(D&&Ey(this._api),A(x,function(L){if(C=m.action(L,d._model,d._api),C=C||F({},L),C.type=_.event||C.type,T.push(C),D){var I=bf(c),R=I.queryOptionMap,V=I.mainTypeSpecified,W=V?R.keys()[0]:"series";vo(d,b,L,W),De(d)}else M?(vo(d,b,L,"series"),De(d)):w&&vo(d,b,L,w.main,w.sub)}),b!=="none"&&!D&&!M&&!w)try{this[ae]?(dr(this),Fi.update.call(this,c),this[ae]=null):Fi[b].call(this,c)}catch(L){throw this[$t]=!1,L}if(S?C={type:_.event||g,escapeConnect:v,batch:T}:C=T[0],this[$t]=!1,!f){var P=this._messageCenter;if(P.trigger(C.type,C),M){var k={type:"selectchanged",escapeConnect:v,selected:TA(p),isFromClick:c.isFromClick||!1,fromAction:c.type,fromActionPayload:c};P.trigger(k.type,k)}}},oa=function(c){for(var f=this._pendingActions;f.length;){var d=f.shift();ph.call(this,d,c)}},la=function(c){!c&&this.trigger("updated")},Xg=function(c,f){c.on("rendered",function(d){f.trigger("rendered",d),c.animation.isFinished()&&!f[ae]&&!f._scheduler.unfinished&&!f._pendingActions.length&&f.trigger("finished")})},$g=function(c,f){c.on("mouseover",function(d){var p=d.target,g=Pa(p,_c);g&&(xA(g,d,f._api),De(f))}).on("mouseout",function(d){var p=d.target,g=Pa(p,_c);g&&(wA(g,d,f._api),De(f))}).on("click",function(d){var p=d.target,g=Pa(p,function(_){return St(_).dataIndex!=null},!0);if(g){var v=g.selected?"unselect":"select",m=St(g);f._api.dispatchAction({type:v,dataType:m.dataType,dataIndexInside:m.dataIndex,seriesIndex:m.seriesIndex,isFromClick:!0})}})};function e(c){c.clearColorPalette(),c.eachSeries(function(f){f.clearColorPalette()})}function n(c){var f=[],d=[],p=!1;if(c.eachComponent(function(_,y){var b=y.get("zlevel")||0,w=y.get("z")||0,x=y.getZLevelKey();p=p||!!x,(_==="series"?d:f).push({zlevel:b,z:w,idx:y.componentIndex,type:_,key:x})}),p){var g=f.concat(d),v,m;Eo(g,function(_,y){return _.zlevel===y.zlevel?_.z-y.z:_.zlevel-y.zlevel}),A(g,function(_){var y=c.getComponent(_.type,_.idx),b=_.zlevel,w=_.key;v!=null&&(b=Math.max(v,b)),w?(b===v&&w!==m&&b++,m=w):m&&(b===v&&b++,m=""),v=b,y.setZLevel(b)})}}vh=function(c,f,d,p,g){n(f),jg(c,f,d,p,g),A(c._chartsViews,function(v){v.__alive=!1}),go(c,f,d,p,g),A(c._chartsViews,function(v){v.__alive||v.remove(f,d)})},jg=function(c,f,d,p,g,v){A(v||c._componentsViews,function(m){var _=m.__model;u(_,m),m.render(_,f,d,p),o(_,m),h(_,m)})},go=function(c,f,d,p,g,v){var m=c._scheduler;g=F(g||{},{updatedSeries:f.getSeries()}),Ve.trigger("series:beforeupdate",f,d,g);var _=!1;f.eachSeries(function(y){var b=c._chartsMap[y.__viewId];b.__alive=!0;var w=b.renderTask;m.updatePayload(w,p),u(y,b),v&&v.get(y.uid)&&w.dirty(),w.perform(m.getPerformArgs(w))&&(_=!0),b.group.silent=!!y.get("silent"),s(y,b),Iv(y)}),m.unfinished=_||m.unfinished,Ve.trigger("series:layoutlabels",f,d,g),Ve.trigger("series:transition",f,d,g),f.eachSeries(function(y){var b=c._chartsMap[y.__viewId];o(y,b),h(y,b)}),a(c,f),Ve.trigger("series:afterupdate",f,d,g)},De=function(c){c[uh]=!0,c.getZr().wakeUp()},Zg=function(c){c[uh]&&(c.getZr().storage.traverse(function(f){Ga(f)||r(f)}),c[uh]=!1)};function r(c){for(var f=[],d=c.currentStates,p=0;p<d.length;p++){var g=d[p];g==="emphasis"||g==="blur"||g==="select"||f.push(g)}c.selected&&c.states.select&&f.push("select"),c.hoverState===Mf&&c.states.emphasis?f.push("emphasis"):c.hoverState===Cf&&c.states.blur&&f.push("blur"),c.useStates(f)}function a(c,f){var d=c._zr,p=d.storage,g=0;p.traverse(function(v){v.isGroup||g++}),g>f.get("hoverLayerThreshold")&&!$.node&&!$.worker&&f.eachSeries(function(v){if(!v.preventUsingHoverLayer){var m=c._chartsMap[v.__viewId];m.__alive&&m.eachRendered(function(_){_.states.emphasis&&(_.states.emphasis.hoverLayer=!0)})}})}function s(c,f){var d=c.get("blendMode")||null;f.eachRendered(function(p){p.isGroup||(p.style.blend=d)})}function o(c,f){if(!c.preventAutoZ){var d=c.get("z")||0,p=c.get("zlevel")||0;f.eachRendered(function(g){return l(g,d,p,-1/0),!0})}}function l(c,f,d,p){var g=c.getTextContent(),v=c.getTextGuideLine(),m=c.isGroup;if(m)for(var _=c.childrenRef(),y=0;y<_.length;y++)p=Math.max(l(_[y],f,d,p),p);else c.z=f,c.zlevel=d,p=Math.max(c.z2,p);if(g&&(g.z=f,g.zlevel=d,isFinite(p)&&(g.z2=p+2)),v){var b=c.textGuideLineConfig;v.z=f,v.zlevel=d,isFinite(p)&&(v.z2=p+(b&&b.showAbove?1:-1))}return p}function u(c,f){f.eachRendered(function(d){if(!Ga(d)){var p=d.getTextContent(),g=d.getTextGuideLine();d.stateTransition&&(d.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),d.hasState()?(d.prevStates=d.currentStates,d.clearStates()):d.prevStates&&(d.prevStates=null)}})}function h(c,f){var d=c.getModel("stateAnimation"),p=c.isAnimationEnabled(),g=d.get("duration"),v=g>0?{duration:g,delay:d.get("delay"),easing:d.get("easing")}:null;f.eachRendered(function(m){if(m.states&&m.states.emphasis){if(Ga(m))return;if(m instanceof bt&&kA(m),m.__dirty){var _=m.prevStates;_&&m.useStates(_)}if(p){m.stateTransition=v;var y=m.getTextContent(),b=m.getTextGuideLine();y&&(y.stateTransition=v),b&&(b.stateTransition=v)}m.__dirty&&r(m)}})}qg=function(c){return new(function(f){Ot(d,f);function d(){return f!==null&&f.apply(this,arguments)||this}return d.prototype.getCoordinateSystems=function(){return c._coordSysMgr.getCoordinateSystems()},d.prototype.getComponentByElement=function(p){for(;p;){var g=p.__ecComponentInfo;if(g!=null)return c._model.getComponent(g.mainType,g.index);p=p.parent}},d.prototype.enterEmphasis=function(p,g){dc(p,g),De(c)},d.prototype.leaveEmphasis=function(p,g){pc(p,g),De(c)},d.prototype.enterBlur=function(p){yA(p),De(c)},d.prototype.leaveBlur=function(p){ky(p),De(c)},d.prototype.enterSelect=function(p){Iy(p),De(c)},d.prototype.leaveSelect=function(p){Ry(p),De(c)},d.prototype.getModel=function(){return c.getModel()},d.prototype.getViewOfComponentModel=function(p){return c.getViewOfComponentModel(p)},d.prototype.getViewOfSeriesModel=function(p){return c.getViewOfSeriesModel(p)},d}(h0))(c)},eb=function(c){function f(d,p){for(var g=0;g<d.length;g++){var v=d[g];v[hh]=p}}A($a,function(d,p){c._messageCenter.on(p,function(g){if(Kg[c.group]&&c[hh]!==Yg){if(g&&g.escapeConnect)return;var v=c.makeActionFromEvent(g),m=[];A(ja,function(_){_!==c&&_.group===c.group&&m.push(_)}),f(m,Yg),A(m,function(_){_[hh]!==Bk&&_.dispatchAction(v)}),f(m,zk)}})})}}(),t}(oi),Zf=ib.prototype;Zf.on=Z0("on");Zf.off=Z0("off");Zf.one=function(i,t,e){var n=this;function r(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];t&&t.apply&&t.apply(this,a),n.off(i,r)}this.on.call(this,i,r,e)};var Nk=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var Cl={},$a={},Oc=[],Ec=[],Ml=[],nb={},Fc={},ja={},Kg={},Vk=+new Date-0,Kf="_echarts_instance_";function Hk(i,t,e){var n=!(e&&e.ssr);if(n){var r=Wk(i);if(r)return r}var a=new ib(i,t,e);return a.id="ec_"+Vk++,ja[a.id]=a,n&&py(i,Kf,a.id),eb(a),Ve.trigger("afterinit",a),a}function Wk(i){return ja[hD(i,Kf)]}function rb(i,t){nb[i]=t}function ab(i){gt(Ec,i)<0&&Ec.push(i)}function sb(i,t){Jf(Oc,i,t,Pk)}function Uk(i){Qf("afterinit",i)}function Gk(i){Qf("afterupdate",i)}function Qf(i,t){Ve.on(i,t)}function Vr(i,t,e){ot(t)&&(e=t,t="");var n=Y(i)?i.type:[i,i={event:t}][0];i.event=(i.event||n).toLowerCase(),t=i.event,!$a[t]&&(Mi(Gg.test(n)&&Gg.test(t)),Cl[n]||(Cl[n]={action:e,actionInfo:i}),$a[t]=n)}function Yk(i,t){c0.register(i,t)}function Xk(i,t){Jf(Ml,i,t,$0,"layout")}function Zn(i,t){Jf(Ml,i,t,j0,"visual")}var Qg=[];function Jf(i,t,e,n,r){if((ot(t)||Y(t))&&(e=t,t=n),!(gt(Qg,e)>=0)){Qg.push(e);var a=O0.wrapStageHandler(e,r);a.__prio=t,a.__raw=e,i.push(a)}}function ob(i,t){Fc[i]=t}function $k(i,t,e){var n=Tk("registerMap");n&&n(i,t,e)}var jk=K2;Zn(qf,AL);Zn(Zl,PL);Zn(Zl,LL);Zn(qf,UL);Zn(Zl,GL);Zn(q0,wk);ab(d0);sb(Dk,R2);ob("default",kL);Vr({type:Wn,event:Wn,update:Wn},fe);Vr({type:Ho,event:Ho,update:Ho},fe);Vr({type:Ha,event:Ha,update:Ha},fe);Vr({type:Wo,event:Wo,update:Wo},fe);Vr({type:Wa,event:Wa,update:Wa},fe);rb("light",HL);rb("dark",z0);function ua(i){return i==null?0:i.length||1}function Jg(i){return i}var qk=function(){function i(t,e,n,r,a,s){this._old=t,this._new=e,this._oldKeyGetter=n||Jg,this._newKeyGetter=r||Jg,this.context=a,this._diffModeMultiple=s==="multiple"}return i.prototype.add=function(t){return this._add=t,this},i.prototype.update=function(t){return this._update=t,this},i.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},i.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},i.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},i.prototype.remove=function(t){return this._remove=t,this},i.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},i.prototype._executeOneToOne=function(){var t=this._old,e=this._new,n={},r=new Array(t.length),a=new Array(e.length);this._initIndexMap(t,null,r,"_oldKeyGetter"),this._initIndexMap(e,n,a,"_newKeyGetter");for(var s=0;s<t.length;s++){var o=r[s],l=n[o],u=ua(l);if(u>1){var h=l.shift();l.length===1&&(n[o]=l[0]),this._update&&this._update(h,s)}else u===1?(n[o]=null,this._update&&this._update(l,s)):this._remove&&this._remove(s)}this._performRestAdd(a,n)},i.prototype._executeMultiple=function(){var t=this._old,e=this._new,n={},r={},a=[],s=[];this._initIndexMap(t,n,a,"_oldKeyGetter"),this._initIndexMap(e,r,s,"_newKeyGetter");for(var o=0;o<a.length;o++){var l=a[o],u=n[l],h=r[l],c=ua(u),f=ua(h);if(c>1&&f===1)this._updateManyToOne&&this._updateManyToOne(h,u),r[l]=null;else if(c===1&&f>1)this._updateOneToMany&&this._updateOneToMany(h,u),r[l]=null;else if(c===1&&f===1)this._update&&this._update(h,u),r[l]=null;else if(c>1&&f>1)this._updateManyToMany&&this._updateManyToMany(h,u),r[l]=null;else if(c>1)for(var d=0;d<c;d++)this._remove&&this._remove(u[d]);else this._remove&&this._remove(u)}this._performRestAdd(s,r)},i.prototype._performRestAdd=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],a=e[r],s=ua(a);if(s>1)for(var o=0;o<s;o++)this._add&&this._add(a[o]);else s===1&&this._add&&this._add(a);e[r]=null}},i.prototype._initIndexMap=function(t,e,n,r){for(var a=this._diffModeMultiple,s=0;s<t.length;s++){var o="_ec_"+this[r](t[s],s);if(a||(n[s]=o),!!e){var l=e[o],u=ua(l);u===0?(e[o]=s,a&&n.push(o)):u===1?e[o]=[l,s]:l.push(s)}}},i}(),Zk=function(){function i(t,e){this._encode=t,this._schema=e}return i.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},i.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},i}();function Kk(i,t){var e={},n=e.encode={},r=nt(),a=[],s=[],o={};A(i.dimensions,function(f){var d=i.getDimensionInfo(f),p=d.coordDim;if(p){var g=d.coordDimIndex;gh(n,p)[g]=f,d.isExtraCoord||(r.set(p,1),Qk(d.type)&&(a[0]=f),gh(o,p)[g]=i.getDimensionIndex(d.name)),d.defaultTooltip&&s.push(f)}a0.each(function(v,m){var _=gh(n,m),y=d.otherDims[m];y!=null&&y!==!1&&(_[y]=d.name)})});var l=[],u={};r.each(function(f,d){var p=n[d];u[d]=p[0],l=l.concat(p)}),e.dataDimsOnCoord=l,e.dataDimIndicesOnCoord=rt(l,function(f){return i.getDimensionInfo(f).storeDimIndex}),e.encodeFirstDimNotExtra=u;var h=n.label;h&&h.length&&(a=h.slice());var c=n.tooltip;return c&&c.length?s=c.slice():s.length||(s=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=s,e.userOutput=new Zk(o,t),e}function gh(i,t){return i.hasOwnProperty(t)||(i[t]=[]),i[t]}function Qk(i){return!(i==="ordinal"||i==="time")}var $o=function(){function i(t){this.otherDims={},t!=null&&F(this,t)}return i}(),Jk=Nt(),tI={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},lb=function(){function i(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return i.prototype.isDimensionOmitted=function(){return this._dimOmitted},i.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=hb(this.source)))},i.prototype.getSourceDimensionIndex=function(t){return Q(this._dimNameMap.get(t),-1)},i.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},i.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=g0(this.source),n=!cb(t),r="",a=[],s=0,o=0;s<t;s++){var l=void 0,u=void 0,h=void 0,c=this.dimensions[o];if(c&&c.storeDimIndex===s)l=e?c.name:null,u=c.type,h=c.ordinalMeta,o++;else{var f=this.getSourceDimension(s);f&&(l=e?f.name:null,u=f.type)}a.push({property:l,type:u,ordinalMeta:h}),e&&l!=null&&(!c||!c.isCalculationCoord)&&(r+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),r+="$",r+=tI[u]||"f",h&&(r+=h.uid),r+="$"}var d=this.source,p=[d.seriesLayoutBy,d.startIndex,r].join("$$");return{dimensions:a,hash:p}},i.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,n=0;e<this._fullDimCount;e++){var r=void 0,a=this.dimensions[n];if(a&&a.storeDimIndex===e)a.isCalculationCoord||(r=a.name),n++;else{var s=this.getSourceDimension(e);s&&(r=s.name)}t.push(r)}return t},i.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},i}();function eI(i){return i instanceof lb}function ub(i){for(var t=nt(),e=0;e<(i||[]).length;e++){var n=i[e],r=Y(n)?n.name:n;r!=null&&t.get(r)==null&&t.set(r,e)}return t}function hb(i){var t=Jk(i);return t.dimNameMap||(t.dimNameMap=ub(i.dimensionsDefine))}function cb(i){return i>30}var ha=Y,Bi=rt,iI=typeof Int32Array>"u"?Array:Int32Array,nI="e\0\0",tm=-1,rI=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],aI=["_approximateExtent"],em,mo,ca,fa,mh,da,_h,sI=function(){function i(t,e){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var n,r=!1;eI(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(r=!0,n=t),n=n||["x","y"];for(var a={},s=[],o={},l=!1,u={},h=0;h<n.length;h++){var c=n[h],f=G(c)?new $o({name:c}):c instanceof $o?c:new $o(c),d=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=d,f.coordDimIndex=0);var p=f.otherDims=f.otherDims||{};s.push(d),a[d]=f,u[d]!=null&&(l=!0),f.createInvertedIndices&&(o[d]=[]),p.itemName===0&&(this._nameDimIdx=h),p.itemId===0&&(this._idDimIdx=h),r&&(f.storeDimIndex=h)}if(this.dimensions=s,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=e,this._invertedIndicesMap=o,this._dimOmitted){var g=this._dimIdxToName=nt();A(s,function(v){g.set(a[v].storeDimIndex,v)})}}return i.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(e==null)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var n=this._dimIdxToName.get(e);if(n!=null)return n;var r=this._schema.getSourceDimension(e);if(r)return r.name},i.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(e!=null)return e;if(t==null)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},i.prototype._recognizeDimIndex=function(t){if(Rt(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},i.prototype._getStoreDimIndex=function(t){var e=this.getDimensionIndex(t);return e},i.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},i.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(n){return e.hasOwnProperty(n)?e[n]:void 0}:function(n){return e[n]}},i.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},i.prototype.mapDimension=function(t,e){var n=this._dimSummary;if(e==null)return n.encodeFirstDimNotExtra[t];var r=n.encode[t];return r?r[e]:null},i.prototype.mapDimensionsAll=function(t){var e=this._dimSummary,n=e.encode[t];return(n||[]).slice()},i.prototype.getStore=function(){return this._store},i.prototype.initData=function(t,e,n){var r=this,a;if(t instanceof Tc&&(a=t),!a){var s=this.dimensions,o=Gf(t)||pe(t)?new m0(t,s.length):t;a=new Tc;var l=Bi(s,function(u){return{type:r._dimInfos[u].type,property:u}});a.initData(o,l,n)}this._store=a,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=Kk(this,this._schema),this.userOutput=this._dimSummary.userOutput},i.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},i.prototype.appendValues=function(t,e){var n=this._store.appendValues(t,e&&e.length),r=n.start,a=n.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var o=r;o<a;o++){var l=o-r;this._nameList[o]=e[l],s&&_h(this,o)}},i.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,n=0;n<e.length;n++){var r=this._dimInfos[e[n]];r.ordinalMeta&&t.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},i.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==Ki&&!t.fillStorage},i.prototype._doInit=function(t,e){if(!(t>=e)){var n=this._store,r=n.getProvider();this._updateOrdinalMeta();var a=this._nameList,s=this._idList,o=r.getSource().sourceFormat,l=o===li;if(l&&!r.pure)for(var u=[],h=t;h<e;h++){var c=r.getItem(h,u);if(!this.hasItemOption&&JM(c)&&(this.hasItemOption=!0),c){var f=c.name;a[h]==null&&f!=null&&(a[h]=ai(f,null));var d=c.id;s[h]==null&&d!=null&&(s[h]=ai(d,null))}}if(this._shouldMakeIdFromName())for(var h=t;h<e;h++)_h(this,h);em(this)}},i.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},i.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},i.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},i.prototype.setCalculationInfo=function(t,e){ha(t)?F(this._calculationInfo,t):this._calculationInfo[t]=e},i.prototype.getName=function(t){var e=this.getRawIndex(t),n=this._nameList[e];return n==null&&this._nameDimIdx!=null&&(n=ca(this,this._nameDimIdx,e)),n==null&&(n=""),n},i.prototype._getCategory=function(t,e){var n=this._store.get(t,e),r=this._store.getOrdinalMeta(t);return r?r.categories[n]:n},i.prototype.getId=function(t){return mo(this,this.getRawIndex(t))},i.prototype.count=function(){return this._store.count()},i.prototype.get=function(t,e){var n=this._store,r=this._dimInfos[t];if(r)return n.get(r.storeDimIndex,e)},i.prototype.getByRawIndex=function(t,e){var n=this._store,r=this._dimInfos[t];if(r)return n.getByRawIndex(r.storeDimIndex,e)},i.prototype.getIndices=function(){return this._store.getIndices()},i.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},i.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},i.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},i.prototype.getValues=function(t,e){var n=this,r=this._store;return H(t)?r.getValues(Bi(t,function(a){return n._getStoreDimIndex(a)}),e):r.getValues(t)},i.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,n=0,r=e.length;n<r;n++)if(isNaN(this._store.get(e[n],t)))return!1;return!0},i.prototype.indexOfName=function(t){for(var e=0,n=this._store.count();e<n;e++)if(this.getName(e)===t)return e;return-1},i.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},i.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},i.prototype.rawIndexOf=function(t,e){var n=t&&this._invertedIndicesMap[t],r=n&&n[e];return r==null||isNaN(r)?tm:r},i.prototype.indicesOfNearest=function(t,e,n){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,n)},i.prototype.each=function(t,e,n){ot(t)&&(n=e,e=t,t=[]);var r=n||this,a=Bi(fa(t),this._getStoreDimIndex,this);this._store.each(a,r?mt(e,r):e)},i.prototype.filterSelf=function(t,e,n){ot(t)&&(n=e,e=t,t=[]);var r=n||this,a=Bi(fa(t),this._getStoreDimIndex,this);return this._store=this._store.filter(a,r?mt(e,r):e),this},i.prototype.selectRange=function(t){var e=this,n={},r=It(t);return A(r,function(a){var s=e._getStoreDimIndex(a);n[s]=t[a]}),this._store=this._store.selectRange(n),this},i.prototype.mapArray=function(t,e,n){ot(t)&&(n=e,e=t,t=[]),n=n||this;var r=[];return this.each(t,function(){r.push(e&&e.apply(this,arguments))},n),r},i.prototype.map=function(t,e,n,r){var a=n||r||this,s=Bi(fa(t),this._getStoreDimIndex,this),o=da(this);return o._store=this._store.map(s,a?mt(e,a):e),o},i.prototype.modify=function(t,e,n,r){var a=n||r||this,s=Bi(fa(t),this._getStoreDimIndex,this);this._store.modify(s,a?mt(e,a):e)},i.prototype.downSample=function(t,e,n,r){var a=da(this);return a._store=this._store.downSample(this._getStoreDimIndex(t),e,n,r),a},i.prototype.minmaxDownSample=function(t,e){var n=da(this);return n._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),e),n},i.prototype.lttbDownSample=function(t,e){var n=da(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),n},i.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},i.prototype.getItemModel=function(t){var e=this.hostModel,n=this.getRawDataItem(t);return new At(n,e,e&&e.ecModel)},i.prototype.diff=function(t){var e=this;return new qk(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(n){return mo(t,n)},function(n){return mo(e,n)})},i.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},i.prototype.setVisual=function(t,e){this._visual=this._visual||{},ha(t)?F(this._visual,t):this._visual[t]=e},i.prototype.getItemVisual=function(t,e){var n=this._itemVisuals[t],r=n&&n[e];return r??this.getVisual(e)},i.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},i.prototype.ensureUniqueItemVisual=function(t,e){var n=this._itemVisuals,r=n[t];r||(r=n[t]={});var a=r[e];return a==null&&(a=this.getVisual(e),H(a)?a=a.slice():ha(a)&&(a=F({},a)),r[e]=a),a},i.prototype.setItemVisual=function(t,e,n){var r=this._itemVisuals[t]||{};this._itemVisuals[t]=r,ha(e)?F(r,e):r[e]=n},i.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},i.prototype.setLayout=function(t,e){ha(t)?F(this._layout,t):this._layout[t]=e},i.prototype.getLayout=function(t){return this._layout[t]},i.prototype.getItemLayout=function(t){return this._itemLayouts[t]},i.prototype.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?F(this._itemLayouts[t]||{},e):e},i.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},i.prototype.setItemGraphicEl=function(t,e){var n=this.hostModel&&this.hostModel.seriesIndex;uA(n,this.dataType,t,e),this._graphicEls[t]=e},i.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},i.prototype.eachItemGraphicEl=function(t,e){A(this._graphicEls,function(n,r){n&&t&&t.call(e,n,r)})},i.prototype.cloneShallow=function(t){return t||(t=new i(this._schema?this._schema:Bi(this.dimensions,this._getDimInfo,this),this.hostModel)),mh(t,this),t._store=this._store,t},i.prototype.wrapMethod=function(t,e){var n=this[t];ot(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var r=n.apply(this,arguments);return e.apply(this,[r].concat(cf(arguments)))})},i.internalField=function(){em=function(t){var e=t._invertedIndicesMap;A(e,function(n,r){var a=t._dimInfos[r],s=a.ordinalMeta,o=t._store;if(s){n=e[r]=new iI(s.categories.length);for(var l=0;l<n.length;l++)n[l]=tm;for(var l=0;l<o.count();l++)n[o.get(a.storeDimIndex,l)]=l}})},ca=function(t,e,n){return ai(t._getCategory(e,n),null)},mo=function(t,e){var n=t._idList[e];return n==null&&t._idDimIdx!=null&&(n=ca(t,t._idDimIdx,e)),n==null&&(n=nI+e),n},fa=function(t){return H(t)||(t=t!=null?[t]:[]),t},da=function(t){var e=new i(t._schema?t._schema:Bi(t.dimensions,t._getDimInfo,t),t.hostModel);return mh(e,t),e},mh=function(t,e){A(rI.concat(e.__wrappedMethods||[]),function(n){e.hasOwnProperty(n)&&(t[n]=e[n])}),t.__wrappedMethods=e.__wrappedMethods,A(aI,function(n){t[n]=it(e[n])}),t._calculationInfo=F({},e._calculationInfo)},_h=function(t,e){var n=t._nameList,r=t._idList,a=t._nameDimIdx,s=t._idDimIdx,o=n[e],l=r[e];if(o==null&&a!=null&&(n[e]=o=ca(t,a,e)),l==null&&s!=null&&(r[e]=l=ca(t,s,e)),l==null&&o!=null){var u=t._nameRepeatCount,h=u[o]=(u[o]||0)+1;l=o,h>1&&(l+="__ec__"+h),r[e]=l}}}(),i}();function oI(i,t){Gf(i)||(i=p0(i)),t=t||{};var e=t.coordDimensions||[],n=t.dimensionsDefine||i.dimensionsDefine||[],r=nt(),a=[],s=uI(i,e,n,t.dimensionsCount),o=t.canOmitUnusedDimensions&&cb(s),l=n===i.dimensionsDefine,u=l?hb(i):ub(n),h=t.encodeDefine;!h&&t.encodeDefaulter&&(h=t.encodeDefaulter(i,s));for(var c=nt(h),f=new w0(s),d=0;d<f.length;d++)f[d]=-1;function p(C){var M=f[C];if(M<0){var D=n[C],P=Y(D)?D:{name:D},k=new $o,L=P.name;L!=null&&u.get(L)!=null&&(k.name=k.displayName=L),P.type!=null&&(k.type=P.type),P.displayName!=null&&(k.displayName=P.displayName);var I=a.length;return f[C]=I,k.storeDimIndex=C,a.push(k),k}return a[M]}if(!o)for(var d=0;d<s;d++)p(d);c.each(function(C,M){var D=ie(C).slice();if(D.length===1&&!G(D[0])&&D[0]<0){c.set(M,!1);return}var P=c.set(M,[]);A(D,function(k,L){var I=G(k)?u.get(k):k;I!=null&&I<s&&(P[L]=I,v(p(I),M,L))})});var g=0;A(e,function(C){var M,D,P,k;if(G(C))M=C,k={};else{k=C,M=k.name;var L=k.ordinalMeta;k.ordinalMeta=null,k=F({},k),k.ordinalMeta=L,D=k.dimsDef,P=k.otherDims,k.name=k.coordDim=k.coordDimIndex=k.dimsDef=k.otherDims=null}var I=c.get(M);if(I!==!1){if(I=ie(I),!I.length)for(var R=0;R<(D&&D.length||1);R++){for(;g<s&&p(g).coordDim!=null;)g++;g<s&&I.push(g++)}A(I,function(V,W){var N=p(V);if(l&&k.type!=null&&(N.type=k.type),v(Ct(N,k),M,W),N.name==null&&D){var j=D[W];!Y(j)&&(j={name:j}),N.name=N.displayName=j.name,N.defaultTooltip=j.defaultTooltip}P&&Ct(N.otherDims,P)})}});function v(C,M,D){a0.get(M)!=null?C.otherDims[M]=D:(C.coordDim=M,C.coordDimIndex=D,r.set(M,!0))}var m=t.generateCoord,_=t.generateCoordCount,y=_!=null;_=m?_||1:0;var b=m||"value";function w(C){C.name==null&&(C.name=C.coordDim)}if(o)A(a,function(C){w(C)}),a.sort(function(C,M){return C.storeDimIndex-M.storeDimIndex});else for(var x=0;x<s;x++){var S=p(x),T=S.coordDim;T==null&&(S.coordDim=hI(b,r,y),S.coordDimIndex=0,(!m||_<=0)&&(S.isExtraCoord=!0),_--),w(S),S.type==null&&(l0(i,x)===Gt.Must||S.isExtraCoord&&(S.otherDims.itemName!=null||S.otherDims.seriesName!=null))&&(S.type="ordinal")}return lI(a),new lb({source:i,dimensions:a,fullDimensionCount:s,dimensionOmitted:o})}function lI(i){for(var t=nt(),e=0;e<i.length;e++){var n=i[e],r=n.name,a=t.get(r)||0;a>0&&(n.name=r+(a-1)),a++,t.set(r,a)}}function uI(i,t,e,n){var r=Math.max(i.dimensionsDetectedCount||1,t.length,e.length,n||0);return A(t,function(a){var s;Y(a)&&(s=a.dimsDef)&&(r=Math.max(r,s.length))}),r}function hI(i,t,e){if(e||t.hasKey(i)){for(var n=0;t.hasKey(i+n);)n++;i+=n}return t.set(i,!0),i}function fb(i,t){return i.type==="category"?i.scale.getLabel(t):t.value}function cI(i){var t=i.get("interval");return t??"auto"}function fI(i){return i.type==="category"&&cI(i.getLabelModel())===0}var im=[],dI={registerPreprocessor:ab,registerProcessor:sb,registerPostInit:Uk,registerPostUpdate:Gk,registerUpdateLifecycle:Qf,registerAction:Vr,registerCoordinateSystem:Yk,registerLayout:Xk,registerVisual:Zn,registerTransform:jk,registerLoading:ob,registerMap:$k,registerImpl:Sk,PRIORITY:Fk,ComponentModel:vt,ComponentView:Di,SeriesModel:nn,ChartView:Qi,registerComponentModel:function(i){vt.registerClass(i)},registerComponentView:function(i){Di.registerClass(i)},registerSeriesModel:function(i){nn.registerClass(i)},registerChartView:function(i){Qi.registerClass(i)},registerSubTypeDefaulter:function(i,t){vt.registerSubTypeDefaulter(i,t)},registerPainter:function(i,t){UM(i,t)}};function Er(i){if(H(i)){A(i,function(t){Er(t)});return}gt(im,i)>=0||(im.push(i),ot(i)&&(i={install:i}),i.install(dI))}function db(i,t,e,n,r,a,s,o){var l=r-i,u=a-t,h=e-i,c=n-t,f=Math.sqrt(h*h+c*c);h/=f,c/=f;var d=l*h+u*c,p=d/f;p*=f;var g=s[0]=i+p*h,v=s[1]=t+p*c;return Math.sqrt((g-r)*(g-r)+(v-a)*(v-a))}var Xi=new q,Mt=new q,Yt=new q,$i=new q,ti=new q,Dl=[],te=new q;function pI(i,t){if(t<=180&&t>0){t=t/180*Math.PI,Xi.fromArray(i[0]),Mt.fromArray(i[1]),Yt.fromArray(i[2]),q.sub($i,Xi,Mt),q.sub(ti,Yt,Mt);var e=$i.len(),n=ti.len();if(!(e<.001||n<.001)){$i.scale(1/e),ti.scale(1/n);var r=$i.dot(ti),a=Math.cos(t);if(a<r){var s=db(Mt.x,Mt.y,Yt.x,Yt.y,Xi.x,Xi.y,Dl);te.fromArray(Dl),te.scaleAndAdd(ti,s/Math.tan(Math.PI-t));var o=Yt.x!==Mt.x?(te.x-Mt.x)/(Yt.x-Mt.x):(te.y-Mt.y)/(Yt.y-Mt.y);if(isNaN(o))return;o<0?q.copy(te,Mt):o>1&&q.copy(te,Yt),te.toArray(i[1])}}}}function vI(i,t,e){if(e<=180&&e>0){e=e/180*Math.PI,Xi.fromArray(i[0]),Mt.fromArray(i[1]),Yt.fromArray(i[2]),q.sub($i,Mt,Xi),q.sub(ti,Yt,Mt);var n=$i.len(),r=ti.len();if(!(n<.001||r<.001)){$i.scale(1/n),ti.scale(1/r);var a=$i.dot(t),s=Math.cos(e);if(a<s){var o=db(Mt.x,Mt.y,Yt.x,Yt.y,Xi.x,Xi.y,Dl);te.fromArray(Dl);var l=Math.PI/2,u=Math.acos(ti.dot(t)),h=l+u-e;if(h>=l)q.copy(te,Yt);else{te.scaleAndAdd(ti,o/Math.tan(Math.PI/2-h));var c=Yt.x!==Mt.x?(te.x-Mt.x)/(Yt.x-Mt.x):(te.y-Mt.y)/(Yt.y-Mt.y);if(isNaN(c))return;c<0?q.copy(te,Mt):c>1&&q.copy(te,Yt)}te.toArray(i[1])}}}}function yh(i,t,e,n){var r=e==="normal",a=r?i:i.ensureState(e);a.ignore=t;var s=n.get("smooth");s&&s===!0&&(s=.3),a.shape=a.shape||{},s>0&&(a.shape.smooth=s);var o=n.getModel("lineStyle").getLineStyle();r?i.useStyle(o):a.style=o}function gI(i,t){var e=t.smooth,n=t.points;if(n)if(i.moveTo(n[0][0],n[0][1]),e>0&&n.length>=3){var r=qh(n[0],n[1]),a=qh(n[1],n[2]);if(!r||!a){i.lineTo(n[1][0],n[1][1]),i.lineTo(n[2][0],n[2][1]);return}var s=Math.min(r,a)*e,o=vu([],n[1],n[0],s/r),l=vu([],n[1],n[2],s/a),u=vu([],o,l,.5);i.bezierCurveTo(o[0],o[1],o[0],o[1],u[0],u[1]),i.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var h=1;h<n.length;h++)i.lineTo(n[h][0],n[h][1])}function mI(i,t,e){var n=i.getTextGuideLine(),r=i.getTextContent();if(!r){n&&i.removeTextGuideLine();return}for(var a=t.normal,s=a.get("show"),o=r.ignore,l=0;l<dl.length;l++){var u=dl[l],h=t[u],c=u==="normal";if(h){var f=h.get("show"),d=c?o:Q(r.states[u]&&r.states[u].ignore,o);if(d||!Q(f,s)){var p=c?n:n&&n.states[u];p&&(p.ignore=!0),n&&yh(n,!0,u,h);continue}n||(n=new Ts,i.setTextGuideLine(n),!c&&(o||!s)&&yh(n,!0,"normal",t.normal),i.stateProxy&&(n.stateProxy=i.stateProxy)),yh(n,!1,u,h)}}if(n){Ct(n.style,e),n.style.fill=null;var g=a.get("showAbove"),v=i.textGuideLineConfig=i.textGuideLineConfig||{};v.showAbove=g||!1,n.buildPath=gI}}function _I(i,t){t=t||"labelLine";for(var e={normal:i.getModel(t)},n=0;n<si.length;n++){var r=si[n];e[r]=i.getModel([r,t])}return e}function yI(i){for(var t=[],e=0;e<i.length;e++){var n=i[e];if(!n.defaultAttr.ignore){var r=n.label,a=r.getComputedTransform(),s=r.getBoundingRect(),o=!a||a[1]<1e-5&&a[2]<1e-5,l=r.style.margin||0,u=s.clone();u.applyTransform(a),u.x-=l/2,u.y-=l/2,u.width+=l,u.height+=l;var h=o?new pl(s,a):null;t.push({label:r,labelLine:n.labelLine,rect:u,localRect:s,obb:h,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:o,transform:a})}}return t}function bI(i,t,e,n,r,a){var s=i.length;if(s<2)return;i.sort(function(x,S){return x.rect[t]-S.rect[t]});for(var o=0,l,u=!1,h=0;h<s;h++){var c=i[h],f=c.rect;l=f[t]-o,l<0&&(f[t]-=l,c.label[t]-=l,u=!0),o=f[t]+f[e]}var d=i[0],p=i[s-1],g,v;m(),g<0&&b(-g,.8),v<0&&b(v,.8),m(),_(g,v,1),_(v,g,-1),m(),g<0&&w(-g),v<0&&w(v);function m(){g=d.rect[t]-n,v=r-p.rect[t]-p.rect[e]}function _(x,S,T){if(x<0){var C=Math.min(S,-x);if(C>0){y(C*T,0,s);var M=C+x;M<0&&b(-M*T,1)}else b(-x*T,1)}}function y(x,S,T){x!==0&&(u=!0);for(var C=S;C<T;C++){var M=i[C],D=M.rect;D[t]+=x,M.label[t]+=x}}function b(x,S){for(var T=[],C=0,M=1;M<s;M++){var D=i[M-1].rect,P=Math.max(i[M].rect[t]-D[t]-D[e],0);T.push(P),C+=P}if(C){var k=Math.min(Math.abs(x)/C,S);if(x>0)for(var M=0;M<s-1;M++){var L=T[M]*k;y(L,0,M+1)}else for(var M=s-1;M>0;M--){var L=T[M-1]*k;y(-L,M,s)}}}function w(x){var S=x<0?-1:1;x=Math.abs(x);for(var T=Math.ceil(x/(s-1)),C=0;C<s-1;C++)if(S>0?y(T,0,C+1):y(-T,s-C-1,s),x-=T,x<=0)return}return u}function xI(i,t,e,n){return bI(i,"y","height",t,e)}function wI(i){var t=[];i.sort(function(g,v){return v.priority-g.priority});var e=new ct(0,0,0,0);function n(g){if(!g.ignore){var v=g.ensureState("emphasis");v.ignore==null&&(v.ignore=!1)}g.ignore=!0}for(var r=0;r<i.length;r++){var a=i[r],s=a.axisAligned,o=a.localRect,l=a.transform,u=a.label,h=a.labelLine;e.copy(a.rect),e.width-=.1,e.height-=.1,e.x+=.05,e.y+=.05;for(var c=a.obb,f=!1,d=0;d<t.length;d++){var p=t[d];if(e.intersect(p.rect)){if(s&&p.axisAligned){f=!0;break}if(p.obb||(p.obb=new pl(p.localRect,p.transform)),c||(c=new pl(o,l)),c.intersect(p.obb)){f=!0;break}}}f?(n(u),h&&n(h)):(u.attr("ignore",a.defaultAttr.ignore),h&&h.attr("ignore",a.defaultAttr.labelGuideIgnore),t.push(a))}}function nm(i,t,e){var n=Fr.createCanvas(),r=t.getWidth(),a=t.getHeight(),s=n.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=r+"px",s.height=a+"px",n.setAttribute("data-zr-dom-id",i)),n.width=r*e,n.height=a*e,n}var bh=function(i){ut(t,i);function t(e,n,r){var a=i.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var s;r=r||ul,typeof e=="string"?s=nm(e,n,r):Y(e)&&(s=e,e=s.id),a.id=e,a.dom=s;var o=s.style;return o&&(N_(s),s.onselectstart=function(){return!1},o.padding="0",o.margin="0",o.borderWidth="0"),a.painter=n,a.dpr=r,a}return t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=nm("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),e!==1&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,n,r,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],o=this.maxRepaintRectCount,l=!1,u=new ct(0,0,0,0);function h(_){if(!(!_.isFinite()||_.isZero()))if(s.length===0){var y=new ct(0,0,0,0);y.copy(_),s.push(y)}else{for(var b=!1,w=1/0,x=0,S=0;S<s.length;++S){var T=s[S];if(T.intersect(_)){var C=new ct(0,0,0,0);C.copy(T),C.union(_),s[S]=C,b=!0;break}else if(l){u.copy(_),u.union(T);var M=_.width*_.height,D=T.width*T.height,P=u.width*u.height,k=P-M-D;k<w&&(w=k,x=S)}}if(l&&(s[x].union(_),b=!0),!b){var y=new ct(0,0,0,0);y.copy(_),s.push(y)}l||(l=s.length>=o)}}for(var c=this.__startIndex;c<this.__endIndex;++c){var f=e[c];if(f){var d=f.shouldBePainted(r,a,!0,!0),p=f.__isRendered&&(f.__dirty&Se||!d)?f.getPrevPaintRect():null;p&&h(p);var g=d&&(f.__dirty&Se||!f.__isRendered)?f.getPaintRect():null;g&&h(g)}}for(var c=this.__prevStartIndex;c<this.__prevEndIndex;++c){var f=n[c],d=f&&f.shouldBePainted(r,a,!0,!0);if(f&&(!d||!f.__zr)&&f.__isRendered){var p=f.getPrevPaintRect();p&&h(p)}}var v;do{v=!1;for(var c=0;c<s.length;){if(s[c].isZero()){s.splice(c,1);continue}for(var m=c+1;m<s.length;)s[c].intersect(s[m])?(v=!0,s[c].union(s[m]),s.splice(m,1)):m++;c++}}while(v);return this._paintRects=s,s},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,n){var r=this.dpr,a=this.dom,s=a.style,o=this.domBack;s&&(s.width=e+"px",s.height=n+"px"),a.width=e*r,a.height=n*r,o&&(o.width=e*r,o.height=n*r,r!==1&&this.ctxBack.scale(r,r))},t.prototype.clear=function(e,n,r){var a=this.dom,s=this.ctx,o=a.width,l=a.height;n=n||this.clearColor;var u=this.motionBlur&&!e,h=this.lastFrameAlpha,c=this.dpr,f=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,o/c,l/c));var d=this.domBack;function p(g,v,m,_){if(s.clearRect(g,v,m,_),n&&n!=="transparent"){var y=void 0;if(Ol(n)){var b=n.global||n.__width===m&&n.__height===_;y=b&&n.__canvasGradient||kc(s,n,{x:0,y:0,width:m,height:_}),n.__canvasGradient=y,n.__width=m,n.__height=_}else CC(n)&&(n.scaleX=n.scaleX||c,n.scaleY=n.scaleY||c,y=Ic(s,n,{dirty:function(){f.setUnpainted(),f.painter.refresh()}}));s.save(),s.fillStyle=y||n,s.fillRect(g,v,m,_),s.restore()}u&&(s.save(),s.globalAlpha=h,s.drawImage(d,g,v,m,_),s.restore())}!r||u?p(0,0,o,l):r.length&&A(r,function(g){p(g.x*c,g.y*c,g.width*c,g.height*c)})},t}(oi),rm=1e5,Pn=314159,_o=.01,SI=.001;function TI(i){return i?i.__builtin__?!0:!(typeof i.resize!="function"||typeof i.refresh!="function"):!1}function CI(i,t){var e=document.createElement("div");return e.style.cssText=["position:relative","width:"+i+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",e}var MI=function(){function i(t,e,n,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!t.nodeName||t.nodeName.toUpperCase()==="CANVAS";this._opts=n=F({},n||{}),this.dpr=n.devicePixelRatio||ul,this._singleCanvas=a,this.root=t;var s=t.style;s&&(N_(t),t.innerHTML=""),this.storage=e;var o=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var h=t,c=h.width,f=h.height;n.width!=null&&(c=n.width),n.height!=null&&(f=n.height),this.dpr=n.devicePixelRatio||1,h.width=c*this.dpr,h.height=f*this.dpr,this._width=c,this._height=f;var d=new bh(h,this,this.dpr);d.__builtin__=!0,d.initContext(),l[Pn]=d,d.zlevel=Pn,o.push(Pn),this._domRoot=t}else{this._width=po(t,0,n),this._height=po(t,1,n);var u=this._domRoot=CI(this._width,this._height);t.appendChild(u)}}return i.prototype.getType=function(){return"canvas"},i.prototype.isSingleCanvas=function(){return this._singleCanvas},i.prototype.getViewportRoot=function(){return this._domRoot},i.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},i.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),n=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,n,t,this._redrawId);for(var a=0;a<r.length;a++){var s=r[a],o=this._layers[s];if(!o.__builtin__&&o.refresh){var l=a===0?this._backgroundColor:null;o.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},i.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},i.prototype._paintHoverList=function(t){var e=t.length,n=this._hoverlayer;if(n&&n.clear(),!!e){for(var r={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,s=0;s<e;s++){var o=t[s];o.__inHover&&(n||(n=this._hoverlayer=this.getLayer(rm)),a||(a=n.ctx,a.save()),Bn(a,o,r,s===e-1))}a&&a.restore()}},i.prototype.getHoverLayer=function(){return this.getLayer(rm)},i.prototype.paintOne=function(t,e){W0(t,e)},i.prototype._paintList=function(t,e,n,r){if(this._redrawId===r){n=n||!1,this._updateLayerStatus(t);var a=this._doPaintList(t,e,n),s=a.finished,o=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),o&&this._paintHoverList(t),s)this.eachLayer(function(u){u.afterBrush&&u.afterBrush()});else{var l=this;rl(function(){l._paintList(t,e,n,r)})}}},i.prototype._compositeManually=function(){var t=this.getLayer(Pn).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer(function(r){r.virtual&&t.drawImage(r.dom,0,0,e,n)})},i.prototype._doPaintList=function(t,e,n){for(var r=this,a=[],s=this._opts.useDirtyRect,o=0;o<this._zlevelList.length;o++){var l=this._zlevelList[o],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||n)&&a.push(u)}for(var h=!0,c=!1,f=function(g){var v=a[g],m=v.ctx,_=s&&v.createRepaintRects(t,e,d._width,d._height),y=n?v.__startIndex:v.__drawIndex,b=!n&&v.incremental&&Date.now,w=b&&Date.now(),x=v.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(v.__startIndex===v.__endIndex)v.clear(!1,x,_);else if(y===v.__startIndex){var S=t[y];(!S.incremental||!S.notClear||n)&&v.clear(!1,x,_)}y===-1&&(console.error("For some unknown reason. drawIndex is -1"),y=v.__startIndex);var T,C=function(k){var L={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(T=y;T<v.__endIndex;T++){var I=t[T];if(I.__inHover&&(c=!0),r._doPaintEl(I,v,s,k,L,T===v.__endIndex-1),b){var R=Date.now()-w;if(R>15)break}}L.prevElClipPaths&&m.restore()};if(_)if(_.length===0)T=v.__endIndex;else for(var M=d.dpr,D=0;D<_.length;++D){var P=_[D];m.save(),m.beginPath(),m.rect(P.x*M,P.y*M,P.width*M,P.height*M),m.clip(),C(P),m.restore()}else m.save(),C(),m.restore();v.__drawIndex=T,v.__drawIndex<v.__endIndex&&(h=!1)},d=this,p=0;p<a.length;p++)f(p);return $.wxa&&A(this._layers,function(g){g&&g.ctx&&g.ctx.draw&&g.ctx.draw()}),{finished:h,needsRefreshHover:c}},i.prototype._doPaintEl=function(t,e,n,r,a,s){var o=e.ctx;if(n){var l=t.getPaintRect();(!r||l&&l.intersect(r))&&(Bn(o,t,a,s),t.setPrevPaintRect(l))}else Bn(o,t,a,s)},i.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Pn);var n=this._layers[t];return n||(n=new bh("zr_"+t,this,this.dpr),n.zlevel=t,n.__builtin__=!0,this._layerConfig[t]?Tt(n,this._layerConfig[t],!0):this._layerConfig[t-_o]&&Tt(n,this._layerConfig[t-_o],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},i.prototype.insertLayer=function(t,e){var n=this._layers,r=this._zlevelList,a=r.length,s=this._domRoot,o=null,l=-1;if(!n[t]&&TI(e)){if(a>0&&t>r[0]){for(l=0;l<a-1&&!(r[l]<t&&r[l+1]>t);l++);o=n[r[l]]}if(r.splice(l+1,0,t),n[t]=e,!e.virtual)if(o){var u=o.dom;u.nextSibling?s.insertBefore(e.dom,u.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom);e.painter||(e.painter=this)}},i.prototype.eachLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var a=n[r];t.call(e,this._layers[a],a)}},i.prototype.eachBuiltinLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var a=n[r],s=this._layers[a];s.__builtin__&&t.call(e,s,a)}},i.prototype.eachOtherLayer=function(t,e){for(var n=this._zlevelList,r=0;r<n.length;r++){var a=n[r],s=this._layers[a];s.__builtin__||t.call(e,s,a)}},i.prototype.getLayers=function(){return this._layers},i.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(c,f){c.__dirty=c.__used=!1});function e(c){a&&(a.__endIndex!==c&&(a.__dirty=!0),a.__endIndex=c)}if(this._singleCanvas)for(var n=1;n<t.length;n++){var r=t[n];if(r.zlevel!==t[n-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}}var a=null,s=0,o,l;for(l=0;l<t.length;l++){var r=t[l],u=r.zlevel,h=void 0;o!==u&&(o=u,s=0),r.incremental?(h=this.getLayer(u+SI,this._needsManuallyCompositing),h.incremental=!0,s=1):h=this.getLayer(u+(s>0?_o:0),this._needsManuallyCompositing),h.__builtin__||hf("ZLevel "+u+" has been used by unkown layer "+h.id),h!==a&&(h.__used=!0,h.__startIndex!==l&&(h.__dirty=!0),h.__startIndex=l,h.incremental?h.__drawIndex=-1:h.__drawIndex=l,e(l),a=h),r.__dirty&Se&&!r.__inHover&&(h.__dirty=!0,h.incremental&&h.__drawIndex<0&&(h.__drawIndex=l))}e(l),this.eachBuiltinLayer(function(c,f){!c.__used&&c.getElementCount()>0&&(c.__dirty=!0,c.__startIndex=c.__endIndex=c.__drawIndex=0),c.__dirty&&c.__drawIndex<0&&(c.__drawIndex=c.__startIndex)})},i.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},i.prototype._clearLayer=function(t){t.clear()},i.prototype.setBackgroundColor=function(t){this._backgroundColor=t,A(this._layers,function(e){e.setUnpainted()})},i.prototype.configLayer=function(t,e){if(e){var n=this._layerConfig;n[t]?Tt(n[t],e,!0):n[t]=e;for(var r=0;r<this._zlevelList.length;r++){var a=this._zlevelList[r];if(a===t||a===t+_o){var s=this._layers[a];Tt(s,n[t],!0)}}}},i.prototype.delLayer=function(t){var e=this._layers,n=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],n.splice(gt(n,t),1))},i.prototype.resize=function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts,a=this.root;if(t!=null&&(r.width=t),e!=null&&(r.height=e),t=po(a,0,r),e=po(a,1,r),n.style.display="",this._width!==t||e!==this._height){n.style.width=t+"px",n.style.height=e+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(t==null||e==null)return;this._width=t,this._height=e,this.getLayer(Pn).resize(t,e)}return this},i.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},i.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},i.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[Pn].dom;var e=new bh("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var n=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var r=e.dom.width,a=e.dom.height;this.eachLayer(function(c){c.__builtin__?n.drawImage(c.dom,0,0,r,a):c.renderToCanvas&&(n.save(),c.renderToCanvas(n),n.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},o=this.storage.getDisplayList(!0),l=0,u=o.length;l<u;l++){var h=o[l];Bn(n,h,s,l===u-1)}return e.dom},i.prototype.getWidth=function(){return this._width},i.prototype.getHeight=function(){return this._height},i}();function DI(i){i.registerPainter("canvas",MI)}function yo(i,t,e){var n=i.get("borderRadius");if(n==null)return e?{cornerRadius:0}:null;H(n)||(n=[n,n,n,n]);var r=Math.abs(t.r||0-t.r0||0);return{cornerRadius:rt(n,function(a){return kr(a,r)})}}var am=Math.PI*2,bo=Math.PI/180;function pb(i,t){return _l(i.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function vb(i,t){var e=pb(i,t),n=i.get("center"),r=i.get("radius");H(r)||(r=[0,r]);var a=Ft(e.width,t.getWidth()),s=Ft(e.height,t.getHeight()),o=Math.min(a,s),l=Ft(r[0],o/2),u=Ft(r[1],o/2),h,c,f=i.coordinateSystem;if(f){var d=f.dataToPoint(n);h=d[0]||0,c=d[1]||0}else H(n)||(n=[n,n]),h=Ft(n[0],a)+e.x,c=Ft(n[1],s)+e.y;return{cx:h,cy:c,r0:l,r:u}}function AI(i,t,e){t.eachSeriesByType(i,function(n){var r=n.getData(),a=r.mapDimension("value"),s=pb(n,e),o=vb(n,e),l=o.cx,u=o.cy,h=o.r,c=o.r0,f=-n.get("startAngle")*bo,d=n.get("endAngle"),p=n.get("padAngle")*bo;d=d==="auto"?f-am:-d*bo;var g=n.get("minAngle")*bo,v=g+p,m=0;r.each(a,function(V){!isNaN(V)&&m++});var _=r.getSum(a),y=Math.PI/(_||m)*2,b=n.get("clockwise"),w=n.get("roseType"),x=n.get("stillShowZeroSum"),S=r.getDataExtent(a);S[0]=0;var T=b?1:-1,C=[f,d],M=T*p/2;xy(C,!b),f=C[0],d=C[1];var D=gb(n);D.startAngle=f,D.endAngle=d,D.clockwise=b;var P=Math.abs(d-f),k=P,L=0,I=f;if(r.setLayout({viewRect:s,r:h}),r.each(a,function(V,W){var N;if(isNaN(V)){r.setItemLayout(W,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:b,cx:l,cy:u,r0:c,r:w?NaN:h});return}w!=="area"?N=_===0&&x?y:V*y:N=P/m,N<v?(N=v,k-=v):L+=V;var j=I+T*N,K=0,U=0;p>N?(K=I+T*N/2,U=K):(K=I+M,U=j-M),r.setItemLayout(W,{angle:N,startAngle:K,endAngle:U,clockwise:b,cx:l,cy:u,r0:c,r:w?YM(V,S,[c,h]):h}),I=j}),k<am&&m)if(k<=.001){var R=P/m;r.each(a,function(V,W){if(!isNaN(V)){var N=r.getItemLayout(W);N.angle=R;var j=0,K=0;R<p?(j=f+T*(W+1/2)*R,K=j):(j=f+T*W*R+M,K=f+T*(W+1)*R-M),N.startAngle=j,N.endAngle=K}})}else y=k/L,I=f,r.each(a,function(V,W){if(!isNaN(V)){var N=r.getItemLayout(W),j=N.angle===v?v:V*y,K=0,U=0;j<p?(K=I+T*j/2,U=K):(K=I+M,U=I+T*j-M),N.startAngle=K,N.endAngle=U,I+=T*j}})})}var gb=Nt();function PI(i){return{seriesType:i,reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(!(!n||!n.length)){var r=t.getData();r.filterSelf(function(a){for(var s=r.getName(a),o=0;o<n.length;o++)if(!n[o].isSelected(s))return!1;return!0})}}}}var LI=Math.PI/180;function sm(i,t,e,n,r,a,s,o,l,u){if(i.length<2)return;function h(g){for(var v=g.rB,m=v*v,_=0;_<g.list.length;_++){var y=g.list[_],b=Math.abs(y.label.y-e),w=n+y.len,x=w*w,S=Math.sqrt(Math.abs((1-b*b/m)*x)),T=t+(S+y.len2)*r,C=T-y.label.x,M=y.targetTextWidth-C*r;mb(y,M,!0),y.label.x=T}}function c(g){for(var v={list:[],maxY:0},m={list:[],maxY:0},_=0;_<g.length;_++)if(g[_].labelAlignTo==="none"){var y=g[_],b=y.label.y>e?m:v,w=Math.abs(y.label.y-e);if(w>=b.maxY){var x=y.label.x-t-y.len2*r,S=n+y.len,T=Math.abs(x)<S?Math.sqrt(w*w/(1-x*x/S/S)):S;b.rB=T,b.maxY=w}b.list.push(y)}h(v),h(m)}for(var f=i.length,d=0;d<f;d++)if(i[d].position==="outer"&&i[d].labelAlignTo==="labelLine"){var p=i[d].label.x-u;i[d].linePoints[1][0]+=p,i[d].label.x=u}xI(i,l,l+s)&&c(i)}function kI(i,t,e,n,r,a,s,o){for(var l=[],u=[],h=Number.MAX_VALUE,c=-Number.MAX_VALUE,f=0;f<i.length;f++){var d=i[f].label;xh(i[f])||(d.x<t?(h=Math.min(h,d.x),l.push(i[f])):(c=Math.max(c,d.x),u.push(i[f])))}for(var f=0;f<i.length;f++){var p=i[f];if(!xh(p)&&p.linePoints){if(p.labelStyleWidth!=null)continue;var d=p.label,g=p.linePoints,v=void 0;p.labelAlignTo==="edge"?d.x<t?v=g[2][0]-p.labelDistance-s-p.edgeDistance:v=s+r-p.edgeDistance-g[2][0]-p.labelDistance:p.labelAlignTo==="labelLine"?d.x<t?v=h-s-p.bleedMargin:v=s+r-c-p.bleedMargin:d.x<t?v=d.x-s-p.bleedMargin:v=s+r-d.x-p.bleedMargin,p.targetTextWidth=v,mb(p,v)}}sm(u,t,e,n,1,r,a,s,o,c),sm(l,t,e,n,-1,r,a,s,o,h);for(var f=0;f<i.length;f++){var p=i[f];if(!xh(p)&&p.linePoints){var d=p.label,g=p.linePoints,m=p.labelAlignTo==="edge",_=d.style.padding,y=_?_[1]+_[3]:0,b=d.style.backgroundColor?0:y,w=p.rect.width+b,x=g[1][0]-g[2][0];m?d.x<t?g[2][0]=s+p.edgeDistance+w+p.labelDistance:g[2][0]=s+r-p.edgeDistance-w-p.labelDistance:(d.x<t?g[2][0]=d.x+p.labelDistance:g[2][0]=d.x-p.labelDistance,g[1][0]=g[2][0]+x),g[1][1]=g[2][1]=d.y}}}function mb(i,t,e){if(e===void 0&&(e=!1),i.labelStyleWidth==null){var n=i.label,r=n.style,a=i.rect,s=r.backgroundColor,o=r.padding,l=o?o[1]+o[3]:0,u=r.overflow,h=a.width+(s?0:l);if(t<h||e){var c=a.height;if(u&&u.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",t-l);var f=n.getBoundingRect();n.setStyle("width",Math.ceil(f.width)),n.setStyle("backgroundColor",s)}else{var d=t-l,p=t<h?d:e?d>i.unconstrainedWidth?null:d:null;n.setStyle("width",p)}var g=n.getBoundingRect();a.width=g.width;var v=(n.style.margin||0)+2.1;a.height=g.height+v,a.y-=(a.height-c)/2}}}function xh(i){return i.position==="center"}function II(i){var t=i.getData(),e=[],n,r,a=!1,s=(i.get("minShowLabelAngle")||0)*LI,o=t.getLayout("viewRect"),l=t.getLayout("r"),u=o.width,h=o.x,c=o.y,f=o.height;function d(x){x.ignore=!0}function p(x){if(!x.ignore)return!0;for(var S in x.states)if(x.states[S].ignore===!1)return!0;return!1}t.each(function(x){var S=t.getItemGraphicEl(x),T=S.shape,C=S.getTextContent(),M=S.getTextGuideLine(),D=t.getItemModel(x),P=D.getModel("label"),k=P.get("position")||D.get(["emphasis","label","position"]),L=P.get("distanceToLabelLine"),I=P.get("alignTo"),R=Ft(P.get("edgeDistance"),u),V=P.get("bleedMargin"),W=D.getModel("labelLine"),N=W.get("length");N=Ft(N,u);var j=W.get("length2");if(j=Ft(j,u),Math.abs(T.endAngle-T.startAngle)<s){A(C.states,d),C.ignore=!0,M&&(A(M.states,d),M.ignore=!0);return}if(p(C)){var K=(T.startAngle+T.endAngle)/2,U=Math.cos(K),ft=Math.sin(K),dt,Et,Vt,Ce;n=T.cx,r=T.cy;var _e=k==="inside"||k==="inner";if(k==="center")dt=T.cx,Et=T.cy,Ce="center";else{var Ut=(_e?(T.r+T.r0)/2*U:T.r*U)+n,Pt=(_e?(T.r+T.r0)/2*ft:T.r*ft)+r;if(dt=Ut+U*3,Et=Pt+ft*3,!_e){var X=Ut+U*(N+l-T.r),J=Pt+ft*(N+l-T.r),Xe=X+(U<0?-1:1)*j,Ht=J;I==="edge"?dt=U<0?h+R:h+u-R:dt=Xe+(U<0?-L:L),Et=Ht,Vt=[[Ut,Pt],[X,J],[Xe,Ht]]}Ce=_e?"center":I==="edge"?U>0?"right":"left":U>0?"left":"right"}var ki=Math.PI,hi=0,Hr=P.get("rotate");if(Rt(Hr))hi=Hr*(ki/180);else if(k==="center")hi=0;else if(Hr==="radial"||Hr===!0){var Rb=U<0?-K+ki:-K;hi=Rb}else if(Hr==="tangential"&&k!=="outside"&&k!=="outer"){var Kn=Math.atan2(U,ft);Kn<0&&(Kn=ki*2+Kn);var Ob=ft>0;Ob&&(Kn=ki+Kn),hi=Kn-ki}if(a=!!hi,C.x=dt,C.y=Et,C.rotation=hi,C.setStyle({verticalAlign:"middle"}),_e){C.setStyle({align:Ce});var Kl=C.states.select;Kl&&(Kl.x+=C.x,Kl.y+=C.y)}else{var Wr=C.getBoundingRect().clone();Wr.applyTransform(C.getComputedTransform());var id=(C.style.margin||0)+2.1;Wr.y-=id/2,Wr.height+=id,e.push({label:C,labelLine:M,position:k,len:N,len2:j,minTurnAngle:W.get("minTurnAngle"),maxSurfaceAngle:W.get("maxSurfaceAngle"),surfaceNormal:new q(U,ft),linePoints:Vt,textAlign:Ce,labelDistance:L,labelAlignTo:I,edgeDistance:R,bleedMargin:V,rect:Wr,unconstrainedWidth:Wr.width,labelStyleWidth:C.style.width})}S.setTextConfig({inside:_e})}}),!a&&i.get("avoidLabelOverlap")&&kI(e,n,r,l,u,f,h,c);for(var g=0;g<e.length;g++){var v=e[g],m=v.label,_=v.labelLine,y=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:v.textAlign}),y&&(A(m.states,d),m.ignore=!0);var b=m.states.select;b&&(b.x+=m.x,b.y+=m.y)}if(_){var w=v.linePoints;y||!w?(A(_.states,d),_.ignore=!0):(pI(w,v.minTurnAngle),vI(w,v.surfaceNormal,v.maxSurfaceAngle),_.setShape({points:w}),m.__hostTarget.textGuideLineConfig={anchor:new q(w[0][0],w[0][1])})}}}var RI=function(i){Ot(t,i);function t(e,n,r){var a=i.call(this)||this;a.z2=2;var s=new ge;return a.setTextContent(s),a.updateData(e,n,r,!0),a}return t.prototype.updateData=function(e,n,r,a){var s=this,o=e.hostModel,l=e.getItemModel(n),u=l.getModel("emphasis"),h=e.getItemLayout(n),c=F(yo(l.getModel("itemStyle"),h,!0),h);if(isNaN(c.startAngle)){s.setShape(c);return}if(a){s.setShape(c);var f=o.getShallow("animationType");o.ecModel.ssr?(Uo(s,{scaleX:0,scaleY:0},o,{dataIndex:n,isFrom:!0}),s.originX=c.cx,s.originY=c.cy):f==="scale"?(s.shape.r=h.r0,Uo(s,{shape:{r:h.r}},o,n)):r!=null?(s.setShape({startAngle:r,endAngle:r}),Uo(s,{shape:{startAngle:h.startAngle,endAngle:h.endAngle}},o,n)):(s.shape.endAngle=h.startAngle,Rr(s,{shape:{endAngle:h.endAngle}},o,n))}else uP(s),Rr(s,{shape:c},o,n);s.useStyle(e.getItemVisual(n,"style")),PA(s,l);var d=(h.startAngle+h.endAngle)/2,p=o.get("selectedOffset"),g=Math.cos(d)*p,v=Math.sin(d)*p,m=l.getShallow("cursor");m&&s.attr("cursor",m),this._updateLabel(o,e,n),s.ensureState("emphasis").shape=F({r:h.r+(u.get("scale")&&u.get("scaleSize")||0)},yo(u.getModel("itemStyle"),h)),F(s.ensureState("select"),{x:g,y:v,shape:yo(l.getModel(["select","itemStyle"]),h)}),F(s.ensureState("blur"),{shape:yo(l.getModel(["blur","itemStyle"]),h)});var _=s.getTextGuideLine(),y=s.getTextContent();_&&F(_.ensureState("select"),{x:g,y:v}),F(y.ensureState("select"),{x:g,y:v}),MA(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},t.prototype._updateLabel=function(e,n,r){var a=this,s=n.getItemModel(r),o=s.getModel("labelLine"),l=n.getItemVisual(r,"style"),u=l&&l.fill,h=l&&l.opacity;Zy(a,DP(s),{labelFetcher:n.hostModel,labelDataIndex:r,inheritColor:u,defaultOpacity:h,defaultText:e.getFormattedLabel(r,"normal")||n.getName(r)});var c=a.getTextContent();a.setTextConfig({position:null,rotation:null}),c.attr({z2:10});var f=e.get(["label","position"]);if(f!=="outside"&&f!=="outer")a.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new Ts,this.setTextGuideLine(d)),mI(this,_I(s),{stroke:u,opacity:Ea(o.get(["lineStyle","opacity"]),h,1)})}},t}(Ss),OI=function(i){Ot(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return t.prototype.render=function(e,n,r,a){var s=e.getData(),o=this._data,l=this.group,u;if(!o&&s.count()>0){for(var h=s.getItemLayout(0),c=1;isNaN(h&&h.startAngle)&&c<s.count();++c)h=s.getItemLayout(c);h&&(u=h.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),s.count()===0&&e.get("showEmptyCircle")){var f=gb(e),d=new Ss({shape:F(vb(e,r),f)});d.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=d,l.add(d)}s.diff(o).add(function(p){var g=new RI(s,p,u);s.setItemGraphicEl(p,g),l.add(g)}).update(function(p,g){var v=o.getItemGraphicEl(g);v.updateData(s,p,u),v.off("click"),l.add(v),s.setItemGraphicEl(p,v)}).remove(function(p){var g=o.getItemGraphicEl(p);Gy(g,e,p)}).execute(),II(e),e.get("animationTypeUpdate")!=="expansion"&&(this._data=s)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,n){var r=n.getData(),a=r.getItemLayout(0);if(a){var s=e[0]-a.cx,o=e[1]-a.cy,l=Math.sqrt(s*s+o*o);return l<=a.r&&l>=a.r0}},t.type="pie",t}(Qi);function EI(i,t,e){t=H(t)&&{coordDimensions:t}||F({encodeDefine:i.getEncode()},t);var n=i.getSource(),r=oI(n,t).dimensions,a=new sI(r,i);return a.initData(n,e),a}var FI=function(){function i(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return i.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},i.prototype.containName=function(t){var e=this._getRawData();return e.indexOfName(t)>=0},i.prototype.indexOfName=function(t){var e=this._getDataWithEncodedVisual();return e.indexOfName(t)},i.prototype.getItemVisual=function(t,e){var n=this._getDataWithEncodedVisual();return n.getItemVisual(t,e)},i}(),BI=Nt(),zI=function(i){Ot(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.init=function(e){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new FI(mt(this.getData,this),mt(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){i.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return EI(this,{coordDimensions:["value"],encodeDefaulter:Bt(u2,this)})},t.prototype.getDataParams=function(e){var n=this.getData(),r=BI(n),a=r.seats;if(!a){var s=[];n.each(n.mapDimension("value"),function(l){s.push(l)}),a=r.seats=jM(s,n.hostModel.get("percentPrecision"))}var o=i.prototype.getDataParams.call(this,e);return o.percent=a[e]||0,o.$vars.push("percent"),o},t.prototype._defaultLabelLine=function(e){uc(e,"labelLine",["show"]);var n=e.labelLine,r=e.emphasis.labelLine;n.show=n.show&&e.label.show,r.show=r.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(nn);function NI(i){return{seriesType:i,reset:function(t,e){var n=t.getData();n.filterSelf(function(r){var a=n.mapDimension("value"),s=n.get(a,r);return!(Rt(s)&&!isNaN(s)&&s<0)})}}}function VI(i){i.registerChartView(OI),i.registerSeriesModel(zI),$L("pie",i.registerAction),i.registerLayout(Bt(AI,"pie")),i.registerProcessor(PI("pie")),i.registerProcessor(NI("pie"))}function om(i,t,e){e=e||{};var n=i.coordinateSystem,r=t.axis,a={},s=r.getAxesOnZeroOf()[0],o=r.position,l=s?"onZero":o,u=r.dim,h=n.getRect(),c=[h.x,h.x+h.width,h.y,h.y+h.height],f={left:0,right:1,top:0,bottom:1,onZero:2},d=t.get("offset")||0,p=u==="x"?[c[2]-d,c[3]+d]:[c[0]-d,c[1]+d];if(s){var g=s.toGlobalCoord(s.dataToCoord(0));p[f.onZero]=Math.max(Math.min(g,p[1]),p[0])}a.position=[u==="y"?p[f[l]]:c[0],u==="x"?p[f[l]]:c[3]],a.rotation=Math.PI/2*(u==="x"?0:1);var v={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=v[o],a.labelOffset=s?p[f[o]]-p[f.onZero]:0,t.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),rs(e.labelInside,t.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var m=t.get(["axisLabel","rotate"]);return a.labelRotate=l==="top"?-m:m,a.z2=1,a}var ji=Math.PI,Un=function(){function i(t,e){this.group=new Ue,this.opt=e,this.axisModel=t,Ct(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new Ue({x:e.position[0],y:e.position[1],rotation:e.rotation});n.updateTransform(),this._transformGroup=n}return i.prototype.hasBuilder=function(t){return!!lm[t]},i.prototype.add=function(t){lm[t](this.opt,this.axisModel,this.group,this._transformGroup)},i.prototype.getGroup=function(){return this.group},i.innerTextLayout=function(t,e,n){var r=uy(e-t),a,s;return hl(r)?(s=n>0?"top":"bottom",a="center"):hl(r-ji)?(s=n>0?"bottom":"top",a="center"):(s="middle",r>0&&r<ji?a=n>0?"right":"left":a=n>0?"left":"right"),{rotation:r,textAlign:a,textVerticalAlign:s}},i.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},i.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},i}(),lm={axisLine:function(i,t,e,n){var r=t.get(["axisLine","show"]);if(r==="auto"&&i.handleAutoShown&&(r=i.handleAutoShown("axisLine")),!!r){var a=t.axis.getExtent(),s=n.transform,o=[a[0],0],l=[a[1],0],u=o[0]>l[0];s&&(ri(o,o,s),ri(l,l,s));var h=F({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),c=new zr({shape:{x1:o[0],y1:o[1],x2:l[0],y2:l[1]},style:h,strokeContainThreshold:i.strokeContainThreshold||5,silent:!0,z2:1});Ef(c.shape,c.style.lineWidth),c.anid="line",e.add(c);var f=t.get(["axisLine","symbol"]);if(f!=null){var d=t.get(["axisLine","symbolSize"]);G(f)&&(f=[f,f]),(G(d)||Rt(d))&&(d=[d,d]);var p=sk(t.get(["axisLine","symbolOffset"])||0,d),g=d[0],v=d[1];A([{rotate:i.rotation+Math.PI/2,offset:p[0],r:0},{rotate:i.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((o[0]-l[0])*(o[0]-l[0])+(o[1]-l[1])*(o[1]-l[1]))}],function(m,_){if(f[_]!=="none"&&f[_]!=null){var y=jf(f[_],-g/2,-v/2,g,v,h.stroke,!0),b=m.r+m.offset,w=u?l:o;y.attr({rotation:m.rotate,x:w[0]+b*Math.cos(i.rotation),y:w[1]-b*Math.sin(i.rotation),silent:!0,z2:11}),e.add(y)}})}}},axisTickLabel:function(i,t,e,n){var r=UI(e,n,t,i),a=YI(e,n,t,i);if(WI(t,a,r),GI(e,n,t,i.tickDirection),t.get(["axisLabel","hideOverlap"])){var s=yI(rt(a,function(o){return{label:o,priority:o.z2,defaultAttr:{ignore:o.ignore}}}));wI(s)}},axisName:function(i,t,e,n){var r=rs(i.axisName,t.get("name"));if(r){var a=t.get("nameLocation"),s=i.nameDirection,o=t.getModel("nameTextStyle"),l=t.get("nameGap")||0,u=t.axis.getExtent(),h=u[0]>u[1]?-1:1,c=[a==="start"?u[0]-h*l:a==="end"?u[1]+h*l:(u[0]+u[1])/2,hm(a)?i.labelOffset+s*l:0],f,d=t.get("nameRotate");d!=null&&(d=d*ji/180);var p;hm(a)?f=Un.innerTextLayout(i.rotation,d??i.rotation,s):(f=HI(i.rotation,a,d||0,u),p=i.axisNameAvailableWidth,p!=null&&(p=Math.abs(p/Math.sin(f.rotation)),!isFinite(p)&&(p=null)));var g=o.getFont(),v=t.get("nameTruncate",!0)||{},m=v.ellipsis,_=rs(i.nameTruncateMaxWidth,v.maxWidth,p),y=new ge({x:c[0],y:c[1],rotation:f.rotation,silent:Un.isLabelSilent(t),style:Or(o,{text:r,font:g,overflow:"truncate",width:_,ellipsis:m,fill:o.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:o.get("align")||f.textAlign,verticalAlign:o.get("verticalAlign")||f.textVerticalAlign}),z2:1});if(Gl({el:y,componentModel:t,itemName:r}),y.__fullText=r,y.anid="name",t.get("triggerEvent")){var b=Un.makeAxisEventDataBase(t);b.targetType="axisName",b.name=r,St(y).eventData=b}n.add(y),y.updateTransform(),e.add(y),y.decomposeTransform()}}};function HI(i,t,e,n){var r=uy(e-i),a,s,o=n[0]>n[1],l=t==="start"&&!o||t!=="start"&&o;return hl(r-ji/2)?(s=l?"bottom":"top",a="center"):hl(r-ji*1.5)?(s=l?"top":"bottom",a="center"):(s="middle",r<ji*1.5&&r>ji/2?a=l?"left":"right":a=l?"right":"left"),{rotation:r,textAlign:a,textVerticalAlign:s}}function WI(i,t,e){if(!fI(i.axis)){var n=i.get(["axisLabel","showMinLabel"]),r=i.get(["axisLabel","showMaxLabel"]);t=t||[],e=e||[];var a=t[0],s=t[1],o=t[t.length-1],l=t[t.length-2],u=e[0],h=e[1],c=e[e.length-1],f=e[e.length-2];n===!1?(Ae(a),Ae(u)):um(a,s)&&(n?(Ae(s),Ae(h)):(Ae(a),Ae(u))),r===!1?(Ae(o),Ae(c)):um(l,o)&&(r?(Ae(l),Ae(f)):(Ae(o),Ae(c)))}}function Ae(i){i&&(i.ignore=!0)}function um(i,t){var e=i&&i.getBoundingRect().clone(),n=t&&t.getBoundingRect().clone();if(!(!e||!n)){var r=df([]);return pf(r,r,-i.rotation),e.applyTransform(Cr([],r,i.getLocalTransform())),n.applyTransform(Cr([],r,t.getLocalTransform())),e.intersect(n)}}function hm(i){return i==="middle"||i==="center"}function _b(i,t,e,n,r){for(var a=[],s=[],o=[],l=0;l<i.length;l++){var u=i[l].coord;s[0]=u,s[1]=0,o[0]=u,o[1]=e,t&&(ri(s,s,t),ri(o,o,t));var h=new zr({shape:{x1:s[0],y1:s[1],x2:o[0],y2:o[1]},style:n,z2:2,autoBatch:!0,silent:!0});Ef(h.shape,h.style.lineWidth),h.anid=r+"_"+i[l].tickValue,a.push(h)}return a}function UI(i,t,e,n){var r=e.axis,a=e.getModel("axisTick"),s=a.get("show");if(s==="auto"&&n.handleAutoShown&&(s=n.handleAutoShown("axisTick")),!(!s||r.scale.isBlank())){for(var o=a.getModel("lineStyle"),l=n.tickDirection*a.get("length"),u=r.getTicksCoords(),h=_b(u,t.transform,l,Ct(o.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}),"ticks"),c=0;c<h.length;c++)i.add(h[c]);return h}}function GI(i,t,e,n){var r=e.axis,a=e.getModel("minorTick");if(!(!a.get("show")||r.scale.isBlank())){var s=r.getMinorTicksCoords();if(s.length)for(var o=a.getModel("lineStyle"),l=n*a.get("length"),u=Ct(o.getLineStyle(),Ct(e.getModel("axisTick").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})),h=0;h<s.length;h++)for(var c=_b(s[h],t.transform,l,u,"minorticks_"+h),f=0;f<c.length;f++)i.add(c[f])}}function YI(i,t,e,n){var r=e.axis,a=rs(n.axisLabelShow,e.get(["axisLabel","show"]));if(!(!a||r.scale.isBlank())){var s=e.getModel("axisLabel"),o=s.get("margin"),l=r.getViewLabels(),u=(rs(n.labelRotate,s.get("rotate"))||0)*ji/180,h=Un.innerTextLayout(n.rotation,u,n.labelDirection),c=e.getCategories&&e.getCategories(!0),f=[],d=Un.isLabelSilent(e),p=e.get("triggerEvent");return A(l,function(g,v){var m=r.scale.type==="ordinal"?r.scale.getRawOrdinalNumber(g.tickValue):g.tickValue,_=g.formattedLabel,y=g.rawLabel,b=s;if(c&&c[m]){var w=c[m];Y(w)&&w.textStyle&&(b=new At(w.textStyle,s,e.ecModel))}var x=b.getTextColor()||e.get(["axisLine","lineStyle","color"]),S=r.dataToCoord(m),T=b.getShallow("align",!0)||h.textAlign,C=Q(b.getShallow("alignMinLabel",!0),T),M=Q(b.getShallow("alignMaxLabel",!0),T),D=b.getShallow("verticalAlign",!0)||b.getShallow("baseline",!0)||h.textVerticalAlign,P=Q(b.getShallow("verticalAlignMinLabel",!0),D),k=Q(b.getShallow("verticalAlignMaxLabel",!0),D),L=new ge({x:S,y:n.labelOffset+n.labelDirection*o,rotation:h.rotation,silent:d,z2:10+(g.level||0),style:Or(b,{text:_,align:v===0?C:v===l.length-1?M:T,verticalAlign:v===0?P:v===l.length-1?k:D,fill:ot(x)?x(r.type==="category"?y:r.type==="value"?m+"":m,v):x})});if(L.anid="label_"+m,Gl({el:L,componentModel:e,itemName:_,formatterParamsExtra:{isTruncated:function(){return L.isTruncated},value:y,tickIndex:v}}),p){var I=Un.makeAxisEventDataBase(e);I.targetType="axisLabel",I.value=y,I.tickIndex=v,r.type==="category"&&(I.dataIndex=m),St(L).eventData=I}t.add(L),L.updateTransform(),f.push(L),i.add(L),L.decomposeTransform()}),f}}function XI(i,t){var e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return $I(e,i,t),e.seriesInvolved&&qI(e,i),e}function $I(i,t,e){var n=t.getComponent("tooltip"),r=t.getComponent("axisPointer"),a=r.get("link",!0)||[],s=[];A(e.getCoordinateSystems(),function(o){if(!o.axisPointerEnabled)return;var l=ps(o.model),u=i.coordSysAxesInfo[l]={};i.coordSysMap[l]=o;var h=o.model,c=h.getModel("tooltip",n);if(A(o.getAxes(),Bt(g,!1,null)),o.getTooltipAxes&&n&&c.get("show")){var f=c.get("trigger")==="axis",d=c.get(["axisPointer","type"])==="cross",p=o.getTooltipAxes(c.get(["axisPointer","axis"]));(f||d)&&A(p.baseAxes,Bt(g,d?"cross":!0,f)),d&&A(p.otherAxes,Bt(g,"cross",!1))}function g(v,m,_){var y=_.model.getModel("axisPointer",r),b=y.get("show");if(!(!b||b==="auto"&&!v&&!Bc(y))){m==null&&(m=y.get("triggerTooltip")),y=v?jI(_,c,r,t,v,m):y;var w=y.get("snap"),x=y.get("triggerEmphasis"),S=ps(_.model),T=m||w||_.type==="category",C=i.axesInfo[S]={key:S,axis:_,coordSys:o,axisPointerModel:y,triggerTooltip:m,triggerEmphasis:x,involveSeries:T,snap:w,useHandle:Bc(y),seriesModels:[],linkGroup:null};u[S]=C,i.seriesInvolved=i.seriesInvolved||T;var M=ZI(a,_);if(M!=null){var D=s[M]||(s[M]={axesInfo:{}});D.axesInfo[S]=C,D.mapper=a[M].mapper,C.linkGroup=D}}}})}function jI(i,t,e,n,r,a){var s=t.getModel("axisPointer"),o=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],l={};A(o,function(f){l[f]=it(s.get(f))}),l.snap=i.type!=="category"&&!!a,s.get("type")==="cross"&&(l.type="line");var u=l.label||(l.label={});if(u.show==null&&(u.show=!1),r==="cross"){var h=s.get(["label","show"]);if(u.show=h??!0,!a){var c=l.lineStyle=s.get("crossStyle");c&&Ct(u,c.textStyle)}}return i.model.getModel("axisPointer",new At(l,e,n))}function qI(i,t){t.eachSeries(function(e){var n=e.coordinateSystem,r=e.get(["tooltip","trigger"],!0),a=e.get(["tooltip","show"],!0);!n||r==="none"||r===!1||r==="item"||a===!1||e.get(["axisPointer","show"],!0)===!1||A(i.coordSysAxesInfo[ps(n.model)],function(s){var o=s.axis;n.getAxis(o.dim)===o&&(s.seriesModels.push(e),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=e.getData().count())})})}function ZI(i,t){for(var e=t.model,n=t.dim,r=0;r<i.length;r++){var a=i[r]||{};if(wh(a[n+"AxisId"],e.id)||wh(a[n+"AxisIndex"],e.componentIndex)||wh(a[n+"AxisName"],e.name))return r}}function wh(i,t){return i==="all"||H(i)&&gt(i,t)>=0||i===t}function KI(i){var t=td(i);if(t){var e=t.axisPointerModel,n=t.axis.scale,r=e.option,a=e.get("status"),s=e.get("value");s!=null&&(s=n.parse(s));var o=Bc(e);a==null&&(r.status=o?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(s==null||s>l[1])&&(s=l[1]),s<l[0]&&(s=l[0]),r.value=s,o&&(r.status=t.axis.scale.isBlank()?"hide":"show")}}function td(i){var t=(i.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[ps(i)]}function QI(i){var t=td(i);return t&&t.axisPointerModel}function Bc(i){return!!i.get(["handle","show"])}function ps(i){return i.type+"||"+i.id}var cm={},JI=function(i){Ot(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,r,a){this.axisPointerClass&&KI(e),i.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,r,!0)},t.prototype.updateAxisPointer=function(e,n,r,a){this._doUpdateAxisPointerClass(e,r,!1)},t.prototype.remove=function(e,n){var r=this._axisPointer;r&&r.remove(n)},t.prototype.dispose=function(e,n){this._disposeAxisPointer(n),i.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,n,r){var a=t.getAxisPointerClass(this.axisPointerClass);if(a){var s=QI(e);s?(this._axisPointer||(this._axisPointer=new a)).render(e,s,n,r):this._disposeAxisPointer(n)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,n){cm[e]=n},t.getAxisPointerClass=function(e){return e&&cm[e]},t.type="axis",t}(Di),Rn=Nt(),fm=it,Sh=mt,tR=function(){function i(){this._dragging=!1,this.animationThreshold=15}return i.prototype.render=function(t,e,n,r){var a=e.get("value"),s=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,!(!r&&this._lastValue===a&&this._lastStatus===s)){this._lastValue=a,this._lastStatus=s;var o=this._group,l=this._handle;if(!s||s==="hide"){o&&o.hide(),l&&l.hide();return}o&&o.show(),l&&l.show();var u={};this.makeElOption(u,a,t,e,n);var h=u.graphicKey;h!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=h;var c=this._moveAnimation=this.determineAnimation(t,e);if(!o)o=this._group=new Ue,this.createPointerEl(o,u,t,e),this.createLabelEl(o,u,t,e),n.getZr().add(o);else{var f=Bt(dm,e,c);this.updatePointerEl(o,u,f),this.updateLabelEl(o,u,f,e)}vm(o,e,!0),this._renderHandle(a)}},i.prototype.remove=function(t){this.clear(t)},i.prototype.dispose=function(t){this.clear(t)},i.prototype.determineAnimation=function(t,e){var n=e.get("animation"),r=t.axis,a=r.type==="category",s=e.get("snap");if(!s&&!a)return!1;if(n==="auto"||n==null){var o=this.animationThreshold;if(a&&r.getBandWidth()>o)return!0;if(s){var l=td(t).seriesDataCount,u=r.getExtent();return Math.abs(u[0]-u[1])/l>o}return!1}return n===!0},i.prototype.makeElOption=function(t,e,n,r,a){},i.prototype.createPointerEl=function(t,e,n,r){var a=e.pointer;if(a){var s=Rn(t).pointerEl=new CP[a.type](fm(e.pointer));t.add(s)}},i.prototype.createLabelEl=function(t,e,n,r){if(e.label){var a=Rn(t).labelEl=new ge(fm(e.label));t.add(a),pm(a,r)}},i.prototype.updatePointerEl=function(t,e,n){var r=Rn(t).pointerEl;r&&e.pointer&&(r.setStyle(e.pointer.style),n(r,{shape:e.pointer.shape}))},i.prototype.updateLabelEl=function(t,e,n,r){var a=Rn(t).labelEl;a&&(a.setStyle(e.label.style),n(a,{x:e.label.x,y:e.label.y}),pm(a,r))},i.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var e=this._axisPointerModel,n=this._api.getZr(),r=this._handle,a=e.getModel("handle"),s=e.get("status");if(!a.get("show")||!s||s==="hide"){r&&n.remove(r),this._handle=null;return}var o;this._handle||(o=!0,r=this._handle=Bf(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(u){H_(u.event)},onmousedown:Sh(this._onHandleDragMove,this,0,0),drift:Sh(this._onHandleDragMove,this),ondragend:Sh(this._onHandleDragEnd,this)}),n.add(r)),vm(r,e,!1),r.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");H(l)||(l=[l,l]),r.scaleX=l[0]/2,r.scaleY=l[1]/2,k0(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,o)}},i.prototype._moveHandleToValue=function(t,e){dm(this._axisPointerModel,!e&&this._moveAnimation,this._handle,Th(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},i.prototype._onHandleDragMove=function(t,e){var n=this._handle;if(n){this._dragging=!0;var r=this.updateHandleTransform(Th(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=r,n.stopAnimation(),n.attr(Th(r)),Rn(n).lastProp=null,this._doDispatchAxisPointer()}},i.prototype._doDispatchAxisPointer=function(){var t=this._handle;if(t){var e=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},i.prototype._onHandleDragEnd=function(){this._dragging=!1;var t=this._handle;if(t){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},i.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,r=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),r&&e.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),Ac(this,"_doDispatchAxisPointer")},i.prototype.doClear=function(){},i.prototype.buildLabel=function(t,e,n){return n=n||0,{x:t[n],y:t[1-n],width:e[n],height:e[1-n]}},i}();function dm(i,t,e,n){yb(Rn(e).lastProp,n)||(Rn(e).lastProp=n,t?Rr(e,n,i):(e.stopAnimation(),e.attr(n)))}function yb(i,t){if(Y(i)&&Y(t)){var e=!0;return A(t,function(n,r){e=e&&yb(i[r],n)}),!!e}else return i===t}function pm(i,t){i[t.get(["label","show"])?"show":"hide"]()}function Th(i){return{x:i.x||0,y:i.y||0,rotation:i.rotation||0}}function vm(i,t,e){var n=t.get("z"),r=t.get("zlevel");i&&i.traverse(function(a){a.type!=="group"&&(n!=null&&(a.z=n),r!=null&&(a.zlevel=r),a.silent=e)})}function eR(i){var t=i.get("type"),e=i.getModel(t+"Style"),n;return t==="line"?(n=e.getLineStyle(),n.fill=null):t==="shadow"&&(n=e.getAreaStyle(),n.stroke=null),n}function iR(i,t,e,n,r){var a=e.get("value"),s=bb(a,t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),o=e.getModel("label"),l=$l(o.get("padding")||0),u=o.getFont(),h=ry(s,u),c=r.position,f=h.width+l[1]+l[3],d=h.height+l[0]+l[2],p=r.align;p==="right"&&(c[0]-=f),p==="center"&&(c[0]-=f/2);var g=r.verticalAlign;g==="bottom"&&(c[1]-=d),g==="middle"&&(c[1]-=d/2),nR(c,f,d,n);var v=o.get("backgroundColor");(!v||v==="auto")&&(v=t.get(["axisLine","lineStyle","color"])),i.label={x:c[0],y:c[1],style:Or(o,{text:s,font:u,fill:o.getTextColor(),padding:l,backgroundColor:v}),z2:10}}function nR(i,t,e,n){var r=n.getWidth(),a=n.getHeight();i[0]=Math.min(i[0]+t,r)-t,i[1]=Math.min(i[1]+e,a)-e,i[0]=Math.max(i[0],0),i[1]=Math.max(i[1],0)}function bb(i,t,e,n,r){i=t.scale.parse(i);var a=t.scale.getLabel({value:i},{precision:r.precision}),s=r.formatter;if(s){var o={value:fb(t,{value:i}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};A(n,function(l){var u=e.getSeriesByIndex(l.seriesIndex),h=l.dataIndexInside,c=u&&u.getDataParams(h);c&&o.seriesData.push(c)}),G(s)?a=s.replace("{value}",a):ot(s)&&(a=s(o))}return a}function xb(i,t,e){var n=Tr();return pf(n,n,e.rotation),Jh(n,n,e.position),Ff([i.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],n)}function rR(i,t,e,n,r,a){var s=Un.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=r.get(["label","margin"]),iR(t,n,r,a,{position:xb(n.axis,i,e),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function aR(i,t,e){return e=e||0,{x1:i[e],y1:i[1-e],x2:t[e],y2:t[1-e]}}function sR(i,t,e){return e=e||0,{x:i[e],y:i[1-e],width:t[e],height:t[1-e]}}var oR=function(i){Ot(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.makeElOption=function(e,n,r,a,s){var o=r.axis,l=o.grid,u=a.get("type"),h=gm(l,o).getOtherAxis(o).getGlobalExtent(),c=o.toGlobalCoord(o.dataToCoord(n,!0));if(u&&u!=="none"){var f=eR(a),d=lR[u](o,c,h);d.style=f,e.graphicKey=d.type,e.pointer=d}var p=om(l.model,r);rR(n,e,p,r,a,s)},t.prototype.getHandleTransform=function(e,n,r){var a=om(n.axis.grid.model,n,{labelInside:!1});a.labelMargin=r.get(["handle","margin"]);var s=xb(n.axis,e,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,n,r,a){var s=r.axis,o=s.grid,l=s.getGlobalExtent(!0),u=gm(o,s).getOtherAxis(s).getGlobalExtent(),h=s.dim==="x"?0:1,c=[e.x,e.y];c[h]+=n[h],c[h]=Math.min(l[1],c[h]),c[h]=Math.max(l[0],c[h]);var f=(u[1]+u[0])/2,d=[f,f];d[h]=c[h];var p=[{verticalAlign:"middle"},{align:"center"}];return{x:c[0],y:c[1],rotation:e.rotation,cursorPoint:d,tooltipOption:p[h]}},t}(tR);function gm(i,t){var e={};return e[t.dim+"AxisIndex"]=t.index,i.getCartesian(e)}var lR={line:function(i,t,e){var n=aR([t,e[0]],[t,e[1]],mm(i));return{type:"Line",subPixelOptimize:!0,shape:n}},shadow:function(i,t,e){var n=Math.max(1,i.getBandWidth()),r=e[1]-e[0];return{type:"Rect",shape:sR([t-n/2,e[0]],[n,r],mm(i))}}};function mm(i){return i.dim==="x"?0:1}var uR=function(i){Ot(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(vt),Ti=Nt(),hR=A;function wb(i,t,e){if(!$.node){var n=t.getZr();Ti(n).records||(Ti(n).records={}),cR(n,t);var r=Ti(n).records[i]||(Ti(n).records[i]={});r.handler=e}}function cR(i,t){if(Ti(i).initialized)return;Ti(i).initialized=!0,e("click",Bt(_m,"click")),e("mousemove",Bt(_m,"mousemove")),e("globalout",dR);function e(n,r){i.on(n,function(a){var s=pR(t);hR(Ti(i).records,function(o){o&&r(o,a,s.dispatchAction)}),fR(s.pendings,t)})}}function fR(i,t){var e=i.showTip.length,n=i.hideTip.length,r;e?r=i.showTip[e-1]:n&&(r=i.hideTip[n-1]),r&&(r.dispatchAction=null,t.dispatchAction(r))}function dR(i,t,e){i.handler("leave",null,e)}function _m(i,t,e,n){t.handler(i,e,n)}function pR(i){var t={showTip:[],hideTip:[]},e=function(n){var r=t[n.type];r?r.push(n):(n.dispatchAction=e,i.dispatchAction(n))};return{dispatchAction:e,pendings:t}}function zc(i,t){if(!$.node){var e=t.getZr(),n=(Ti(e).records||{})[i];n&&(Ti(e).records[i]=null)}}var vR=function(i){Ot(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.render=function(e,n,r){var a=n.getComponent("tooltip"),s=e.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";wb("axisPointer",r,function(o,l,u){s!=="none"&&(o==="leave"||s.indexOf(o)>=0)&&u({type:"updateAxisPointer",currTrigger:o,x:l&&l.offsetX,y:l&&l.offsetY})})},t.prototype.remove=function(e,n){zc("axisPointer",n)},t.prototype.dispose=function(e,n){zc("axisPointer",n)},t.type="axisPointer",t}(Di);function Sb(i,t){var e=[],n=i.seriesIndex,r;if(n==null||!(r=t.getSeriesByIndex(n)))return{point:[]};var a=r.getData(),s=bs(a,i);if(s==null||s<0||H(s))return{point:[]};var o=a.getItemGraphicEl(s),l=r.coordinateSystem;if(r.getTooltipPosition)e=r.getTooltipPosition(s)||[];else if(l&&l.dataToPoint)if(i.isStacked){var u=l.getBaseAxis(),h=l.getOtherAxis(u),c=h.dim,f=u.dim,d=c==="x"||c==="radius"?1:0,p=a.mapDimension(f),g=[];g[d]=a.get(p,s),g[1-d]=a.get(a.getCalculationInfo("stackResultDimension"),s),e=l.dataToPoint(g)||[]}else e=l.dataToPoint(a.getValues(rt(l.dimensions,function(m){return a.mapDimension(m)}),s))||[];else if(o){var v=o.getBoundingRect().clone();v.applyTransform(o.transform),e=[v.x+v.width/2,v.y+v.height/2]}return{point:e,el:o}}var ym=Nt();function gR(i,t,e){var n=i.currTrigger,r=[i.x,i.y],a=i,s=i.dispatchAction||mt(e.dispatchAction,e),o=t.getComponent("axisPointer").coordSysAxesInfo;if(o){jo(r)&&(r=Sb({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},t).point);var l=jo(r),u=a.axesInfo,h=o.axesInfo,c=n==="leave"||jo(r),f={},d={},p={list:[],map:{}},g={showPointer:Bt(_R,d),showTooltip:Bt(yR,p)};A(o.coordSysMap,function(m,_){var y=l||m.containPoint(r);A(o.coordSysAxesInfo[_],function(b,w){var x=b.axis,S=SR(u,b);if(!c&&y&&(!u||S)){var T=S&&S.value;T==null&&!l&&(T=x.pointToData(r)),T!=null&&bm(b,T,g,!1,f)}})});var v={};return A(h,function(m,_){var y=m.linkGroup;y&&!d[_]&&A(y.axesInfo,function(b,w){var x=d[w];if(b!==m&&x){var S=x.value;y.mapper&&(S=m.axis.scale.parse(y.mapper(S,xm(b),xm(m)))),v[m.key]=S}})}),A(v,function(m,_){bm(h[_],m,g,!0,f)}),bR(d,h,f),xR(p,r,i,s),wR(h,s,e),f}}function bm(i,t,e,n,r){var a=i.axis;if(!(a.scale.isBlank()||!a.containData(t))){if(!i.involveSeries){e.showPointer(i,t);return}var s=mR(t,i),o=s.payloadBatch,l=s.snapToValue;o[0]&&r.seriesIndex==null&&F(r,o[0]),!n&&i.snap&&a.containData(l)&&l!=null&&(t=l),e.showPointer(i,t,o),e.showTooltip(i,s,l)}}function mR(i,t){var e=t.axis,n=e.dim,r=i,a=[],s=Number.MAX_VALUE,o=-1;return A(t.seriesModels,function(l,u){var h=l.getData().mapDimensionsAll(n),c,f;if(l.getAxisTooltipData){var d=l.getAxisTooltipData(h,i,e);f=d.dataIndices,c=d.nestestValue}else{if(f=l.getData().indicesOfNearest(h[0],i,e.type==="category"?.5:null),!f.length)return;c=l.getData().get(h[0],f[0])}if(!(c==null||!isFinite(c))){var p=i-c,g=Math.abs(p);g<=s&&((g<s||p>=0&&o<0)&&(s=g,o=p,r=c,a.length=0),A(f,function(v){a.push({seriesIndex:l.seriesIndex,dataIndexInside:v,dataIndex:l.getData().getRawIndex(v)})}))}}),{payloadBatch:a,snapToValue:r}}function _R(i,t,e,n){i[t.key]={value:e,payloadBatch:n}}function yR(i,t,e,n){var r=e.payloadBatch,a=t.axis,s=a.model,o=t.axisPointerModel;if(!(!t.triggerTooltip||!r.length)){var l=t.coordSys.model,u=ps(l),h=i.map[u];h||(h=i.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},i.list.push(h)),h.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:n,valueLabelOpt:{precision:o.get(["label","precision"]),formatter:o.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function bR(i,t,e){var n=e.axesInfo=[];A(t,function(r,a){var s=r.axisPointerModel.option,o=i[a];o?(!r.useHandle&&(s.status="show"),s.value=o.value,s.seriesDataIndices=(o.payloadBatch||[]).slice()):!r.useHandle&&(s.status="hide"),s.status==="show"&&n.push({axisDim:r.axis.dim,axisIndex:r.axis.model.componentIndex,value:s.value})})}function xR(i,t,e,n){if(jo(t)||!i.list.length){n({type:"hideTip"});return}var r=((i.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:e.tooltipOption,position:e.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:i.list})}function wR(i,t,e){var n=e.getZr(),r="axisPointerLastHighlights",a=ym(n)[r]||{},s=ym(n)[r]={};A(i,function(u,h){var c=u.axisPointerModel.option;c.status==="show"&&u.triggerEmphasis&&A(c.seriesDataIndices,function(f){var d=f.seriesIndex+" | "+f.dataIndex;s[d]=f})});var o=[],l=[];A(a,function(u,h){!s[h]&&l.push(u)}),A(s,function(u,h){!a[h]&&o.push(u)}),l.length&&e.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),o.length&&e.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:o})}function SR(i,t){for(var e=0;e<(i||[]).length;e++){var n=i[e];if(t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex)return n}}function xm(i){var t=i.axis.model,e={},n=e.axisDim=i.axis.dim;return e.axisIndex=e[n+"AxisIndex"]=t.componentIndex,e.axisName=e[n+"AxisName"]=t.name,e.axisId=e[n+"AxisId"]=t.id,e}function jo(i){return!i||i[0]==null||isNaN(i[0])||i[1]==null||isNaN(i[1])}function TR(i){JI.registerAxisPointerClass("CartesianAxisPointer",oR),i.registerComponentModel(uR),i.registerComponentView(vR),i.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!H(e)&&(t.axisPointer.link=[e])}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=XI(t,e)}),i.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},gR)}function CR(i,t){var e=$l(t.get("padding")),n=t.getItemStyle(["color","opacity"]);return n.fill=t.get("backgroundColor"),i=new de({shape:{x:i.x-e[3],y:i.y-e[0],width:i.width+e[1]+e[3],height:i.height+e[0]+e[2],r:t.get("borderRadius")},style:n,silent:!0,z2:-1}),i}var MR=function(i){Ot(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(vt);function Tb(i){var t=i.get("confine");return t!=null?!!t:i.get("renderMode")==="richText"}function Cb(i){if($.domSupported){for(var t=document.documentElement.style,e=0,n=i.length;e<n;e++)if(i[e]in t)return i[e]}}var Mb=Cb(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),DR=Cb(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function Db(i,t){if(!i)return t;t=i0(t,!0);var e=i.indexOf(t);return i=e===-1?t:"-"+i.slice(0,e)+"-"+t,i.toLowerCase()}function AR(i,t){var e=i.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(i);return e?e[t]:null}var PR=Db(DR,"transition"),ed=Db(Mb,"transform"),LR="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+($.transform3dSupported?"will-change:transform;":"");function kR(i){return i=i==="left"?"right":i==="right"?"left":i==="top"?"bottom":"top",i}function IR(i,t,e){if(!G(e)||e==="inside")return"";var n=i.get("backgroundColor"),r=i.get("borderWidth");t=ls(t);var a=kR(e),s=Math.max(Math.round(r)*1.5,6),o="",l=ed+":",u;gt(["left","right"],a)>-1?(o+="top:50%",l+="translateY(-50%) rotate("+(u=a==="left"?-225:-45)+"deg)"):(o+="left:50%",l+="translateX(-50%) rotate("+(u=a==="top"?225:45)+"deg)");var h=u*Math.PI/180,c=s+r,f=c*Math.abs(Math.cos(h))+c*Math.abs(Math.sin(h)),d=Math.round(((f-Math.SQRT2*r)/2+Math.SQRT2*r-(f-c)/2)*100)/100;o+=";"+a+":-"+d+"px";var p=t+" solid "+r+"px;",g=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",o+";"+l+";","border-bottom:"+p,"border-right:"+p,"background-color:"+n+";"];return'<div style="'+g.join("")+'"></div>'}function RR(i,t){var e="cubic-bezier(0.23,1,0.32,1)",n=" "+i/2+"s "+e,r="opacity"+n+",visibility"+n;return t||(n=" "+i+"s "+e,r+=$.transformSupported?","+ed+n:",left"+n+",top"+n),PR+":"+r}function wm(i,t,e){var n=i.toFixed(0)+"px",r=t.toFixed(0)+"px";if(!$.transformSupported)return e?"top:"+r+";left:"+n+";":[["top",r],["left",n]];var a=$.transform3dSupported,s="translate"+(a?"3d":"")+"("+n+","+r+(a?",0":"")+")";return e?"top:0;left:0;"+ed+":"+s+";":[["top",0],["left",0],[Mb,s]]}function OR(i){var t=[],e=i.get("fontSize"),n=i.getTextColor();n&&t.push("color:"+n),t.push("font:"+i.getFont());var r=Q(i.get("lineHeight"),Math.round(e*3/2));e&&t.push("line-height:"+r+"px");var a=i.get("textShadowColor"),s=i.get("textShadowBlur")||0,o=i.get("textShadowOffsetX")||0,l=i.get("textShadowOffsetY")||0;return a&&s&&t.push("text-shadow:"+o+"px "+l+"px "+s+"px "+a),A(["decoration","align"],function(u){var h=i.get(u);h&&t.push("text-"+u+":"+h)}),t.join(";")}function ER(i,t,e){var n=[],r=i.get("transitionDuration"),a=i.get("backgroundColor"),s=i.get("shadowBlur"),o=i.get("shadowColor"),l=i.get("shadowOffsetX"),u=i.get("shadowOffsetY"),h=i.getModel("textStyle"),c=P0(i,"html"),f=l+"px "+u+"px "+s+"px "+o;return n.push("box-shadow:"+f),t&&r&&n.push(RR(r,e)),a&&n.push("background-color:"+a),A(["width","color","radius"],function(d){var p="border-"+d,g=i0(p),v=i.get(g);v!=null&&n.push(p+":"+v+(d==="color"?"":"px"))}),n.push(OR(h)),c!=null&&n.push("padding:"+$l(c).join("px ")+"px"),n.join(";")+";"}function Sm(i,t,e,n,r){var a=t&&t.painter;if(e){var s=a&&a.getViewportRoot();s&&VC(i,s,e,n,r)}else{i[0]=n,i[1]=r;var o=a&&a.getViewportRootOffset();o&&(i[0]+=o.offsetLeft,i[1]+=o.offsetTop)}i[2]=i[0]/t.getWidth(),i[3]=i[1]/t.getHeight()}var FR=function(){function i(t,e){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,$.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var r=this._zr=t.getZr(),a=e.appendTo,s=a&&(G(a)?document.querySelector(a):ns(a)?a:ot(a)&&a(t.getDom()));Sm(this._styleCoord,r,s,t.getWidth()/2,t.getHeight()/2),(s||t.getDom()).appendChild(n),this._api=t,this._container=s;var o=this;n.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},n.onmousemove=function(l){if(l=l||window.event,!o._enterable){var u=r.handler,h=r.painter.getViewportRoot();Le(h,l,!0),u.dispatch("mousemove",l)}},n.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}return i.prototype.update=function(t){if(!this._container){var e=this._api.getDom(),n=AR(e,"position"),r=e.style;r.position!=="absolute"&&n!=="absolute"&&(r.position="relative")}var a=t.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=t.get("className")||""},i.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,r=n.style,a=this._styleCoord;n.innerHTML?r.cssText=LR+ER(t,!this._firstShow,this._longHide)+wm(a[0],a[1],!0)+("border-color:"+ls(e)+";")+(t.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},i.prototype.setContent=function(t,e,n,r,a){var s=this.el;if(t==null){s.innerHTML="";return}var o="";if(G(a)&&n.get("trigger")==="item"&&!Tb(n)&&(o=IR(n,r,a)),G(t))s.innerHTML=t+o;else if(t){s.innerHTML="",H(t)||(t=[t]);for(var l=0;l<t.length;l++)ns(t[l])&&t[l].parentNode!==s&&s.appendChild(t[l]);if(o&&s.childNodes.length){var u=document.createElement("div");u.innerHTML=o,s.appendChild(u)}}},i.prototype.setEnterable=function(t){this._enterable=t},i.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},i.prototype.moveTo=function(t,e){if(this.el){var n=this._styleCoord;if(Sm(n,this._zr,this._container,t,e),n[0]!=null&&n[1]!=null){var r=this.el.style,a=wm(n[0],n[1]);A(a,function(s){r[s[0]]=s[1]})}}},i.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},i.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",$.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},i.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(mt(this.hide,this),t)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},i}(),BR=function(){function i(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),Cm(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return i.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},i.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},i.prototype.setContent=function(t,e,n,r,a){var s=this;Y(t)&&ue(""),this.el&&this._zr.remove(this.el);var o=n.getModel("textStyle");this.el=new ge({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:o.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:P0(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),A(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(u){s.el.style[u]=n.get(u)}),A(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(u){s.el.style[u]=o.get(u)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},i.prototype.setEnterable=function(t){this._enterable=t},i.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),n=Tm(t.style);return[e.width+n.left+n.right,e.height+n.top+n.bottom]},i.prototype.moveTo=function(t,e){var n=this.el;if(n){var r=this._styleCoord;Cm(r,this._zr,t,e),t=r[0],e=r[1];var a=n.style,s=Ni(a.borderWidth||0),o=Tm(a);n.x=t+s+o.left,n.y=e+s+o.top,n.markRedraw()}},i.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},i.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},i.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(mt(this.hide,this),t)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){this._zr.remove(this.el)},i}();function Ni(i){return Math.max(0,i)}function Tm(i){var t=Ni(i.shadowBlur||0),e=Ni(i.shadowOffsetX||0),n=Ni(i.shadowOffsetY||0);return{left:Ni(t-e),right:Ni(t+e),top:Ni(t-n),bottom:Ni(t+n)}}function Cm(i,t,e,n){i[0]=e,i[1]=n,i[2]=i[0]/t.getWidth(),i[3]=i[1]/t.getHeight()}var zR=new de({shape:{x:-1,y:-1,width:2,height:2}}),NR=function(i){Ot(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.init=function(e,n){if(!($.node||!n.getDom())){var r=e.getComponent("tooltip"),a=this._renderMode=cD(r.get("renderMode"));this._tooltipContent=a==="richText"?new BR(n):new FR(n,{appendTo:r.get("appendToBody",!0)?"body":r.get("appendTo",!0)})}},t.prototype.render=function(e,n,r){if(!($.node||!r.getDom())){this.group.removeAll(),this._tooltipModel=e,this._ecModel=n,this._api=r;var a=this._tooltipContent;a.update(e),a.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&e.get("transitionDuration")?k0(this,"_updatePosition",50,"fixRate"):Ac(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var e=this._tooltipModel,n=e.get("triggerOn");wb("itemTooltip",this._api,mt(function(r,a,s){n!=="none"&&(n.indexOf(r)>=0?this._tryShow(a,s):r==="leave"&&this._hide(s))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,n=this._ecModel,r=this._api,a=e.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&s.manuallyShowTip(e,n,r,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,n,r,a){if(!(a.from===this.uid||$.node||!r.getDom())){var s=Mm(a,r);this._ticket="";var o=a.dataByCoordSys,l=UR(a,n,r);if(l){var u=l.el.getBoundingRect().clone();u.applyTransform(l.el.transform),this._tryShow({offsetX:u.x+u.width/2,offsetY:u.y+u.height/2,target:l.el,position:a.position,positionDefault:"bottom"},s)}else if(a.tooltip&&a.x!=null&&a.y!=null){var h=zR;h.x=a.x,h.y=a.y,h.update(),St(h).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:h},s)}else if(o)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:o,tooltipOption:a.tooltipOption},s);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(e,n,r,a))return;var c=Sb(a,n),f=c.point[0],d=c.point[1];f!=null&&d!=null&&this._tryShow({offsetX:f,offsetY:d,target:c.el,position:a.position,positionDefault:"bottom"},s)}else a.x!=null&&a.y!=null&&(r.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:r.getZr().findHover(a.x,a.y).target},s))}},t.prototype.manuallyHideTip=function(e,n,r,a){var s=this._tooltipContent;this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(Mm(a,r))},t.prototype._manuallyAxisShowTip=function(e,n,r,a){var s=a.seriesIndex,o=a.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||o==null||l==null)){var u=n.getSeriesByIndex(s);if(u){var h=u.getData(),c=pa([h.getItemModel(o),u,(u.coordinateSystem||{}).model],this._tooltipModel);if(c.get("trigger")==="axis")return r.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:o,position:a.position}),!0}}},t.prototype._tryShow=function(e,n){var r=e.target,a=this._tooltipModel;if(a){this._lastX=e.offsetX,this._lastY=e.offsetY;var s=e.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,e);else if(r){var o=St(r);if(o.ssrType==="legend")return;this._lastDataByCoordSys=null;var l,u;Pa(r,function(h){if(St(h).dataIndex!=null)return l=h,!0;if(St(h).tooltipConfig!=null)return u=h,!0},!0),l?this._showSeriesItemTooltip(e,l,n):u?this._showComponentItemTooltip(e,u,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},t.prototype._showOrMove=function(e,n){var r=e.get("showDelay");n=mt(n,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(n,r):n()},t.prototype._showAxisTooltip=function(e,n){var r=this._ecModel,a=this._tooltipModel,s=[n.offsetX,n.offsetY],o=pa([n.tooltipOption],a),l=this._renderMode,u=[],h=cs("section",{blocks:[],noHeader:!0}),c=[],f=new oh;A(e,function(_){A(_.dataByAxis,function(y){var b=r.getComponent(y.axisDim+"Axis",y.axisIndex),w=y.value;if(!(!b||w==null)){var x=bb(w,b.axis,r,y.seriesDataIndices,y.valueLabelOpt),S=cs("section",{header:x,noHeader:!ei(x),sortBlocks:!0,blocks:[]});h.blocks.push(S),A(y.seriesDataIndices,function(T){var C=r.getSeriesByIndex(T.seriesIndex),M=T.dataIndexInside,D=C.getDataParams(M);if(!(D.dataIndex<0)){D.axisDim=y.axisDim,D.axisIndex=y.axisIndex,D.axisType=y.axisType,D.axisId=y.axisId,D.axisValue=fb(b.axis,{value:w}),D.axisValueLabel=x,D.marker=f.makeTooltipMarker("item",ls(D.color),l);var P=pg(C.formatTooltip(M,!0,null)),k=P.frag;if(k){var L=pa([C],a).get("valueFormatter");S.blocks.push(L?F({valueFormatter:L},k):k)}P.text&&c.push(P.text),u.push(D)}})}})}),h.blocks.reverse(),c.reverse();var d=n.position,p=o.get("order"),g=yg(h,f,l,p,r.get("useUTC"),o.get("textStyle"));g&&c.unshift(g);var v=l==="richText"?`

`:"<br/>",m=c.join(v);this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(e,u)?this._updatePosition(o,d,s[0],s[1],this._tooltipContent,u):this._showTooltipContent(o,m,u,Math.random()+"",s[0],s[1],d,null,f)})},t.prototype._showSeriesItemTooltip=function(e,n,r){var a=this._ecModel,s=St(n),o=s.seriesIndex,l=a.getSeriesByIndex(o),u=s.dataModel||l,h=s.dataIndex,c=s.dataType,f=u.getData(c),d=this._renderMode,p=e.positionDefault,g=pa([f.getItemModel(h),u,l&&(l.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),v=g.get("trigger");if(!(v!=null&&v!=="item")){var m=u.getDataParams(h,c),_=new oh;m.marker=_.makeTooltipMarker("item",ls(m.color),d);var y=pg(u.formatTooltip(h,!1,c)),b=g.get("order"),w=g.get("valueFormatter"),x=y.frag,S=x?yg(w?F({valueFormatter:w},x):x,_,d,b,a.get("useUTC"),g.get("textStyle")):y.text,T="item_"+u.name+"_"+h;this._showOrMove(g,function(){this._showTooltipContent(g,S,m,T,e.offsetX,e.offsetY,e.position,e.target,_)}),r({type:"showTip",dataIndexInside:h,dataIndex:f.getRawIndex(h),seriesIndex:o,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,n,r){var a=this._renderMode==="html",s=St(n),o=s.tooltipConfig,l=o.option||{},u=l.encodeHTMLContent;if(G(l)){var h=l;l={content:h,formatter:h},u=!0}u&&a&&l.content&&(l=it(l),l.content=oe(l.content));var c=[l],f=this._ecModel.getComponent(s.componentMainType,s.componentIndex);f&&c.push(f),c.push({formatter:l.content});var d=e.positionDefault,p=pa(c,this._tooltipModel,d?{position:d}:null),g=p.get("content"),v=Math.random()+"",m=new oh;this._showOrMove(p,function(){var _=it(p.get("formatterParams")||{});this._showTooltipContent(p,g,_,v,e.offsetX,e.offsetY,e.position,n,m)}),r({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,n,r,a,s,o,l,u,h){if(this._ticket="",!(!e.get("showContent")||!e.get("show"))){var c=this._tooltipContent;c.setEnterable(e.get("enterable"));var f=e.get("formatter");l=l||e.get("position");var d=n,p=this._getNearestPoint([s,o],r,e.get("trigger"),e.get("borderColor")),g=p.color;if(f)if(G(f)){var v=e.ecModel.get("useUTC"),m=H(r)?r[0]:r,_=m&&m.axisType&&m.axisType.indexOf("time")>=0;d=f,_&&(d=e0(m.axisValue,d,v)),d=n0(d,r,!0)}else if(ot(f)){var y=mt(function(b,w){b===this._ticket&&(c.setContent(w,h,e,g,l),this._updatePosition(e,l,s,o,c,r,u))},this);this._ticket=a,d=f(r,a,y)}else d=f;c.setContent(d,h,e,g,l),c.show(e,g),this._updatePosition(e,l,s,o,c,r,u)}},t.prototype._getNearestPoint=function(e,n,r,a){if(r==="axis"||H(n))return{color:a||(this._renderMode==="html"?"#fff":"none")};if(!H(n))return{color:a||n.color||n.borderColor}},t.prototype._updatePosition=function(e,n,r,a,s,o,l){var u=this._api.getWidth(),h=this._api.getHeight();n=n||e.get("position");var c=s.getSize(),f=e.get("align"),d=e.get("verticalAlign"),p=l&&l.getBoundingRect().clone();if(l&&p.applyTransform(l.transform),ot(n)&&(n=n([r,a],o,s.el,p,{viewSize:[u,h],contentSize:c.slice()})),H(n))r=Ft(n[0],u),a=Ft(n[1],h);else if(Y(n)){var g=n;g.width=c[0],g.height=c[1];var v=_l(g,{width:u,height:h});r=v.x,a=v.y,f=null,d=null}else if(G(n)&&l){var m=WR(n,p,c,e.get("borderWidth"));r=m[0],a=m[1]}else{var m=VR(r,a,s,u,h,f?null:20,d?null:20);r=m[0],a=m[1]}if(f&&(r-=Dm(f)?c[0]/2:f==="right"?c[0]:0),d&&(a-=Dm(d)?c[1]/2:d==="bottom"?c[1]:0),Tb(e)){var m=HR(r,a,s,u,h);r=m[0],a=m[1]}s.moveTo(r,a)},t.prototype._updateContentNotChangedOnAxis=function(e,n){var r=this._lastDataByCoordSys,a=this._cbParamsList,s=!!r&&r.length===e.length;return s&&A(r,function(o,l){var u=o.dataByAxis||[],h=e[l]||{},c=h.dataByAxis||[];s=s&&u.length===c.length,s&&A(u,function(f,d){var p=c[d]||{},g=f.seriesDataIndices||[],v=p.seriesDataIndices||[];s=s&&f.value===p.value&&f.axisType===p.axisType&&f.axisId===p.axisId&&g.length===v.length,s&&A(g,function(m,_){var y=v[_];s=s&&m.seriesIndex===y.seriesIndex&&m.dataIndex===y.dataIndex}),a&&A(f.seriesDataIndices,function(m){var _=m.seriesIndex,y=n[_],b=a[_];y&&b&&b.data!==y.data&&(s=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=n,!!s},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,n){$.node||!n.getDom()||(Ac(this,"_updatePosition"),this._tooltipContent.dispose(),zc("itemTooltip",n))},t.type="tooltip",t}(Di);function pa(i,t,e){var n=t.ecModel,r;e?(r=new At(e,n,n),r=new At(t.option,r,n)):r=t;for(var a=i.length-1;a>=0;a--){var s=i[a];s&&(s instanceof At&&(s=s.get("tooltip",!0)),G(s)&&(s={formatter:s}),s&&(r=new At(s,r,n)))}return r}function Mm(i,t){return i.dispatchAction||mt(t.dispatchAction,t)}function VR(i,t,e,n,r,a,s){var o=e.getSize(),l=o[0],u=o[1];return a!=null&&(i+l+a+2>n?i-=l+a:i+=a),s!=null&&(t+u+s>r?t-=u+s:t+=s),[i,t]}function HR(i,t,e,n,r){var a=e.getSize(),s=a[0],o=a[1];return i=Math.min(i+s,n)-s,t=Math.min(t+o,r)-o,i=Math.max(i,0),t=Math.max(t,0),[i,t]}function WR(i,t,e,n){var r=e[0],a=e[1],s=Math.ceil(Math.SQRT2*n)+8,o=0,l=0,u=t.width,h=t.height;switch(i){case"inside":o=t.x+u/2-r/2,l=t.y+h/2-a/2;break;case"top":o=t.x+u/2-r/2,l=t.y-a-s;break;case"bottom":o=t.x+u/2-r/2,l=t.y+h+s;break;case"left":o=t.x-r-s,l=t.y+h/2-a/2;break;case"right":o=t.x+u+s,l=t.y+h/2-a/2}return[o,l]}function Dm(i){return i==="center"||i==="middle"}function UR(i,t,e){var n=bf(i).queryOptionMap,r=n.keys()[0];if(!(!r||r==="series")){var a=xs(t,r,n.get(r),{useDefault:!1,enableAll:!1,enableNone:!1}),s=a.models[0];if(s){var o=e.getViewOfComponentModel(s),l;if(o.group.traverse(function(u){var h=St(u).tooltipConfig;if(h&&h.name===i.name)return l=u,!0}),l)return{componentMainType:r,componentIndex:s.componentIndex,el:l}}}}function GR(i){Er(TR),i.registerComponentModel(MR),i.registerComponentView(NR),i.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},fe),i.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},fe)}var YR=function(i,t){if(t==="all")return{type:"all",title:i.getLocaleModel().get(["legend","selector","all"])};if(t==="inverse")return{type:"inverse",title:i.getLocaleModel().get(["legend","selector","inverse"])}},Nc=function(i){Ot(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return t.prototype.init=function(e,n,r){this.mergeDefaultAndTheme(e,r),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,n){i.prototype.mergeOption.call(this,e,n),this._updateSelector(e)},t.prototype._updateSelector=function(e){var n=e.selector,r=this.ecModel;n===!0&&(n=e.selector=["all","inverse"]),H(n)&&A(n,function(a,s){G(a)&&(a={type:a}),n[s]=Tt(a,YR(r,a.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){for(var n=!1,r=0;r<e.length;r++){var a=e[r].get("name");if(this.isSelected(a)){this.select(a),n=!0;break}}!n&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var n=[],r=[];e.eachRawSeries(function(l){var u=l.name;r.push(u);var h;if(l.legendVisualProvider){var c=l.legendVisualProvider,f=c.getAllNames();e.isSeriesFiltered(l)||(r=r.concat(f)),f.length?n=n.concat(f):h=!0}else h=!0;h&&yf(l)&&n.push(l.name)}),this._availableNames=r;var a=this.get("data")||n,s=nt(),o=rt(a,function(l){return(G(l)||Rt(l))&&(l={name:l}),s.get(l.name)?null:(s.set(l.name,!0),new At(l,this,this.ecModel))},this);this._data=Re(o,function(l){return!!l})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var n=this.option.selected,r=this.get("selectedMode");if(r==="single"){var a=this._data;A(a,function(s){n[s.get("name")]=!1})}n[e]=!0},t.prototype.unSelect=function(e){this.get("selectedMode")!=="single"&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var n=this.option.selected;n.hasOwnProperty(e)||(n[e]=!0),this[n[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,n=this.option.selected;A(e,function(r){n[r.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var e=this._data,n=this.option.selected;A(e,function(r){var a=r.get("name",!0);n.hasOwnProperty(a)||(n[a]=!0),n[a]=!n[a]})},t.prototype.isSelected=function(e){var n=this.option.selected;return!(n.hasOwnProperty(e)&&!n[e])&&gt(this._availableNames,e)>=0},t.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(vt),pr=Bt,Vc=A,xo=Ue,Ab=function(i){Ot(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return t.prototype.init=function(){this.group.add(this._contentGroup=new xo),this.group.add(this._selectorGroup=new xo),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,n,r){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!e.get("show",!0)){var s=e.get("align"),o=e.get("orient");(!s||s==="auto")&&(s=e.get("left")==="right"&&o==="vertical"?"right":"left");var l=e.get("selector",!0),u=e.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=o==="horizontal"?"end":"start"),this.renderInner(s,e,n,r,l,o,u);var h=e.getBoxLayoutParams(),c={width:r.getWidth(),height:r.getHeight()},f=e.get("padding"),d=_l(h,c,f),p=this.layoutInner(e,s,d,a,l,u),g=_l(Ct({width:p.width,height:p.height},h),c,f);this.group.x=g.x-p.x,this.group.y=g.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=CR(p,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,n,r,a,s,o,l){var u=this.getContentGroup(),h=nt(),c=n.get("selectedMode"),f=[];r.eachRawSeries(function(d){!d.get("legendHoverLink")&&f.push(d.id)}),Vc(n.getData(),function(d,p){var g=d.get("name");if(!this.newlineDisabled&&(g===""||g===`
`)){var v=new xo;v.newline=!0,u.add(v);return}var m=r.getSeriesByName(g)[0];if(!h.get(g))if(m){var _=m.getData(),y=_.getVisual("legendLineStyle")||{},b=_.getVisual("legendIcon"),w=_.getVisual("style"),x=this._createItem(m,g,p,d,n,e,y,w,b,c,a);x.on("click",pr(Am,g,null,a,f)).on("mouseover",pr(Hc,m.name,null,a,f)).on("mouseout",pr(Wc,m.name,null,a,f)),r.ssr&&x.eachChild(function(S){var T=St(S);T.seriesIndex=m.seriesIndex,T.dataIndex=p,T.ssrType="legend"}),h.set(g,!0)}else r.eachRawSeries(function(S){if(!h.get(g)&&S.legendVisualProvider){var T=S.legendVisualProvider;if(!T.containName(g))return;var C=T.indexOfName(g),M=T.getItemVisual(C,"style"),D=T.getItemVisual(C,"legendIcon"),P=Vn(M.fill);P&&P[3]===0&&(P[3]=.2,M=F(F({},M),{fill:vf(P,"rgba")}));var k=this._createItem(S,g,p,d,n,e,{},M,D,c,a);k.on("click",pr(Am,null,g,a,f)).on("mouseover",pr(Hc,null,g,a,f)).on("mouseout",pr(Wc,null,g,a,f)),r.ssr&&k.eachChild(function(L){var I=St(L);I.seriesIndex=S.seriesIndex,I.dataIndex=p,I.ssrType="legend"}),h.set(g,!0)}},this)},this),s&&this._createSelector(s,n,a,o,l)},t.prototype._createSelector=function(e,n,r,a,s){var o=this.getSelectorGroup();Vc(e,function(u){var h=u.type,c=new ge({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:h==="all"?"legendAllSelect":"legendInverseSelect",legendId:n.id})}});o.add(c);var f=n.getModel("selectorLabel"),d=n.getModel(["emphasis","selectorLabel"]);Zy(c,{normal:f,emphasis:d},{defaultText:u.title}),mc(c)})},t.prototype._createItem=function(e,n,r,a,s,o,l,u,h,c,f){var d=e.visualDrawType,p=s.get("itemWidth"),g=s.get("itemHeight"),v=s.isSelected(n),m=a.get("symbolRotate"),_=a.get("symbolKeepAspect"),y=a.get("icon");h=y||h||"roundRect";var b=XR(h,a,l,u,d,v,f),w=new xo,x=a.getModel("textStyle");if(ot(e.getLegendIcon)&&(!y||y==="inherit"))w.add(e.getLegendIcon({itemWidth:p,itemHeight:g,icon:h,iconRotate:m,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:_}));else{var S=y==="inherit"&&e.getData().getVisual("symbol")?m==="inherit"?e.getData().getVisual("symbolRotate"):m:0;w.add($R({itemWidth:p,itemHeight:g,icon:h,iconRotate:S,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:_}))}var T=o==="left"?p+5:-5,C=o,M=s.get("formatter"),D=n;G(M)&&M?D=M.replace("{name}",n??""):ot(M)&&(D=M(n));var P=v?x.getTextColor():a.get("inactiveColor");w.add(new ge({style:Or(x,{text:D,x:T,y:g/2,fill:P,align:C,verticalAlign:"middle"},{inheritColor:P})}));var k=new de({shape:w.getBoundingRect(),style:{fill:"transparent"}}),L=a.getModel("tooltip");return L.get("show")&&Gl({el:k,componentModel:s,itemName:n,itemTooltipOption:L.option}),w.add(k),w.eachChild(function(I){I.silent=!0}),k.silent=!c,this.getContentGroup().add(w),mc(w),w.__legendDataIndex=r,w},t.prototype.layoutInner=function(e,n,r,a,s,o){var l=this.getContentGroup(),u=this.getSelectorGroup();Ya(e.get("orient"),l,e.get("itemGap"),r.width,r.height);var h=l.getBoundingRect(),c=[-h.x,-h.y];if(u.markRedraw(),l.markRedraw(),s){Ya("horizontal",u,e.get("selectorItemGap",!0));var f=u.getBoundingRect(),d=[-f.x,-f.y],p=e.get("selectorButtonGap",!0),g=e.getOrient().index,v=g===0?"width":"height",m=g===0?"height":"width",_=g===0?"y":"x";o==="end"?d[g]+=h[v]+p:c[g]+=f[v]+p,d[1-g]+=h[m]/2-f[m]/2,u.x=d[0],u.y=d[1],l.x=c[0],l.y=c[1];var y={x:0,y:0};return y[v]=h[v]+p+f[v],y[m]=Math.max(h[m],f[m]),y[_]=Math.min(0,f[_]+d[1-g]),y}else return l.x=c[0],l.y=c[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(Di);function XR(i,t,e,n,r,a,s){function o(v,m){v.lineWidth==="auto"&&(v.lineWidth=m.lineWidth>0?2:0),Vc(v,function(_,y){v[y]==="inherit"&&(v[y]=m[y])})}var l=t.getModel("itemStyle"),u=l.getItemStyle(),h=i.lastIndexOf("empty",0)===0?"fill":"stroke",c=l.getShallow("decal");u.decal=!c||c==="inherit"?n.decal:Rc(c,s),u.fill==="inherit"&&(u.fill=n[r]),u.stroke==="inherit"&&(u.stroke=n[h]),u.opacity==="inherit"&&(u.opacity=(r==="fill"?n:e).opacity),o(u,n);var f=t.getModel("lineStyle"),d=f.getLineStyle();if(o(d,e),u.fill==="auto"&&(u.fill=n.fill),u.stroke==="auto"&&(u.stroke=n.fill),d.stroke==="auto"&&(d.stroke=n.fill),!a){var p=t.get("inactiveBorderWidth"),g=u[h];u.lineWidth=p==="auto"?n.lineWidth>0&&g?2:0:u.lineWidth,u.fill=t.get("inactiveColor"),u.stroke=t.get("inactiveBorderColor"),d.stroke=f.get("inactiveColor"),d.lineWidth=f.get("inactiveWidth")}return{itemStyle:u,lineStyle:d}}function $R(i){var t=i.icon||"roundRect",e=jf(t,0,0,i.itemWidth,i.itemHeight,i.itemStyle.fill,i.symbolKeepAspect);return e.setStyle(i.itemStyle),e.rotation=(i.iconRotate||0)*Math.PI/180,e.setOrigin([i.itemWidth/2,i.itemHeight/2]),t.indexOf("empty")>-1&&(e.style.stroke=e.style.fill,e.style.fill="#fff",e.style.lineWidth=2),e}function Am(i,t,e,n){Wc(i,t,e,n),e.dispatchAction({type:"legendToggleSelect",name:i??t}),Hc(i,t,e,n)}function Pb(i){for(var t=i.getZr().storage.getDisplayList(),e,n=0,r=t.length;n<r&&!(e=t[n].states.emphasis);)n++;return e&&e.hoverLayer}function Hc(i,t,e,n){Pb(e)||e.dispatchAction({type:"highlight",seriesName:i,name:t,excludeSeriesId:n})}function Wc(i,t,e,n){Pb(e)||e.dispatchAction({type:"downplay",seriesName:i,name:t,excludeSeriesId:n})}function jR(i){var t=i.findComponents({mainType:"legend"});t&&t.length&&i.filterSeries(function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0})}function va(i,t,e){var n=i==="allSelect"||i==="inverseSelect",r={},a=[];e.eachComponent({mainType:"legend",query:t},function(o){n?o[i]():o[i](t.name),Pm(o,r),a.push(o.componentIndex)});var s={};return e.eachComponent("legend",function(o){A(r,function(l,u){o[l?"select":"unSelect"](u)}),Pm(o,s)}),n?{selected:s,legendIndex:a}:{name:t.name,selected:s}}function Pm(i,t){var e=t||{};return A(i.getData(),function(n){var r=n.get("name");if(!(r===`
`||r==="")){var a=i.isSelected(r);$n(e,r)?e[r]=e[r]&&a:e[r]=a}}),e}function qR(i){i.registerAction("legendToggleSelect","legendselectchanged",Bt(va,"toggleSelected")),i.registerAction("legendAllSelect","legendselectall",Bt(va,"allSelect")),i.registerAction("legendInverseSelect","legendinverseselect",Bt(va,"inverseSelect")),i.registerAction("legendSelect","legendselected",Bt(va,"select")),i.registerAction("legendUnSelect","legendunselected",Bt(va,"unSelect"))}function Lb(i){i.registerComponentModel(Nc),i.registerComponentView(Ab),i.registerProcessor(i.PRIORITY.PROCESSOR.SERIES_FILTER,jR),i.registerSubTypeDefaulter("legend",function(){return"plain"}),qR(i)}var ZR=function(i){Ot(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e}return t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,n,r){var a=Hf(e);i.prototype.init.call(this,e,n,r),Lm(this,e,a)},t.prototype.mergeOption=function(e,n){i.prototype.mergeOption.call(this,e,n),Lm(this,this.option,e)},t.type="legend.scroll",t.defaultOption=HP(Nc.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(Nc);function Lm(i,t,e){var n=i.getOrient(),r=[1,1];r[n.index]=0,us(t,e,{type:"box",ignoreSize:!!r})}var km=Ue,Ch=["width","height"],Mh=["x","y"],KR=function(i){Ot(t,i);function t(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return t.prototype.init=function(){i.prototype.init.call(this),this.group.add(this._containerGroup=new km),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new km)},t.prototype.resetInner=function(){i.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,n,r,a,s,o,l){var u=this;i.prototype.renderInner.call(this,e,n,r,a,s,o,l);var h=this._controllerGroup,c=n.get("pageIconSize",!0),f=H(c)?c:[c,c];p("pagePrev",0);var d=n.getModel("pageTextStyle");h.add(new ge({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1);function p(g,v){var m=g+"DataIndex",_=Bf(n.get("pageIcons",!0)[n.getOrient().name][v],{onclick:mt(u._pageGo,u,m,n,a)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});_.name=g,h.add(_)}},t.prototype.layoutInner=function(e,n,r,a,s,o){var l=this.getSelectorGroup(),u=e.getOrient().index,h=Ch[u],c=Mh[u],f=Ch[1-u],d=Mh[1-u];s&&Ya("horizontal",l,e.get("selectorItemGap",!0));var p=e.get("selectorButtonGap",!0),g=l.getBoundingRect(),v=[-g.x,-g.y],m=it(r);s&&(m[h]=r[h]-g[h]-p);var _=this._layoutContentAndController(e,a,m,u,h,f,d,c);if(s){if(o==="end")v[u]+=_[h]+p;else{var y=g[h]+p;v[u]-=y,_[c]-=y}_[h]+=g[h]+p,v[1-u]+=_[d]+_[f]/2-g[f]/2,_[f]=Math.max(_[f],g[f]),_[d]=Math.min(_[d],g[d]+v[1-u]),l.x=v[0],l.y=v[1],l.markRedraw()}return _},t.prototype._layoutContentAndController=function(e,n,r,a,s,o,l,u){var h=this.getContentGroup(),c=this._containerGroup,f=this._controllerGroup;Ya(e.get("orient"),h,e.get("itemGap"),a?r.width:null,a?null:r.height),Ya("horizontal",f,e.get("pageButtonItemGap",!0));var d=h.getBoundingRect(),p=f.getBoundingRect(),g=this._showController=d[s]>r[s],v=[-d.x,-d.y];n||(v[a]=h[u]);var m=[0,0],_=[-p.x,-p.y],y=Q(e.get("pageButtonGap",!0),e.get("itemGap",!0));if(g){var b=e.get("pageButtonPosition",!0);b==="end"?_[a]+=r[s]-p[s]:m[a]+=p[s]+y}_[1-a]+=d[o]/2-p[o]/2,h.setPosition(v),c.setPosition(m),f.setPosition(_);var w={x:0,y:0};if(w[s]=g?r[s]:d[s],w[o]=Math.max(d[o],p[o]),w[l]=Math.min(0,p[l]+_[1-a]),c.__rectSize=r[s],g){var x={x:0,y:0};x[s]=Math.max(r[s]-p[s]-y,0),x[o]=w[o],c.setClipPath(new de({shape:x})),c.__rectSize=x[s]}else f.eachChild(function(T){T.attr({invisible:!0,silent:!0})});var S=this._getPageInfo(e);return S.pageIndex!=null&&Rr(h,{x:S.contentPosition[0],y:S.contentPosition[1]},g?e:null),this._updatePageInfoView(e,S),w},t.prototype._pageGo=function(e,n,r){var a=this._getPageInfo(n)[e];a!=null&&r.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:n.id})},t.prototype._updatePageInfoView=function(e,n){var r=this._controllerGroup;A(["pagePrev","pageNext"],function(h){var c=h+"DataIndex",f=n[c]!=null,d=r.childOfName(h);d&&(d.setStyle("fill",f?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),d.cursor=f?"pointer":"default")});var a=r.childOfName("pageText"),s=e.get("pageFormatter"),o=n.pageIndex,l=o!=null?o+1:0,u=n.pageCount;a&&s&&a.setStyle("text",G(s)?s.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):s({current:l,total:u}))},t.prototype._getPageInfo=function(e){var n=e.get("scrollDataIndex",!0),r=this.getContentGroup(),a=this._containerGroup.__rectSize,s=e.getOrient().index,o=Ch[s],l=Mh[s],u=this._findTargetItemIndex(n),h=r.children(),c=h[u],f=h.length,d=f?1:0,p={contentPosition:[r.x,r.y],pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return p;var g=b(c);p.contentPosition[s]=-g.s;for(var v=u+1,m=g,_=g,y=null;v<=f;++v)y=b(h[v]),(!y&&_.e>m.s+a||y&&!w(y,m.s))&&(_.i>m.i?m=_:m=y,m&&(p.pageNextDataIndex==null&&(p.pageNextDataIndex=m.i),++p.pageCount)),_=y;for(var v=u-1,m=g,_=g,y=null;v>=-1;--v)y=b(h[v]),(!y||!w(_,y.s))&&m.i<_.i&&(_=m,p.pagePrevDataIndex==null&&(p.pagePrevDataIndex=m.i),++p.pageCount,++p.pageIndex),m=y;return p;function b(x){if(x){var S=x.getBoundingRect(),T=S[l]+x[l];return{s:T,e:T+S[o],i:x.__legendDataIndex}}}function w(x,S){return x.e>=S&&x.s<=S+a}},t.prototype._findTargetItemIndex=function(e){if(!this._showController)return 0;var n,r=this.getContentGroup(),a;return r.eachChild(function(s,o){var l=s.__legendDataIndex;a==null&&l!=null&&(a=o),l===e&&(n=o)}),n??a},t.type="legend.scroll",t}(Ab);function QR(i){i.registerAction("legendScroll","legendscroll",function(t,e){var n=t.scrollDataIndex;n!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(r){r.setScrollDataIndex(n)})})}function JR(i){Er(Lb),i.registerComponentModel(ZR),i.registerComponentView(KR),QR(i)}function tO(i){Er(Lb),Er(JR)}const eO=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function iO(i){function t(n){return(...r)=>{if(!i.value)throw new Error("ECharts is not initialized yet.");return i.value[n].apply(i.value,r)}}function e(){const n=Object.create(null);return eO.forEach(r=>{n[r]=t(r)}),n}return e()}function nO(i,t,e){To([e,i,t],([n,r,a],s,o)=>{let l=null;if(n&&r&&a){const{offsetWidth:u,offsetHeight:h}=n,c=a===!0?{}:a,{throttle:f=100,onResize:d}=c;let p=!1;const g=()=>{r.resize(),d==null||d()},v=f?$f(g,f):g;l=new ResizeObserver(()=>{!p&&(p=!0,n.offsetWidth===u&&n.offsetHeight===h)||v()}),l.observe(n)}o(()=>{l&&(l.disconnect(),l=null)})})}const rO={autoresize:[Boolean,Object]},aO=/^on[^a-z]/,kb=i=>aO.test(i);function sO(i){const t={};for(const e in i)kb(e)||(t[e]=i[e]);return t}function qo(i,t){const e=Gb(i)?Yb(i):i;return e&&typeof e=="object"&&"value"in e?e.value||t:e||t}const oO="ecLoadingOptions";function lO(i,t,e){const n=So(oO,{}),r=vr(()=>({...qo(n,{}),...e==null?void 0:e.value}));Rm(()=>{const a=i.value;a&&(t.value?a.showLoading(r.value):a.hideLoading())})}const uO={loading:Boolean,loadingOptions:Object};let ga=null;const Ib="x-vue-echarts";function hO(){if(ga!=null)return ga;if(typeof HTMLElement>"u"||typeof customElements>"u")return ga=!1;try{new Function("tag","class EChartsElement extends HTMLElement{__dispose=null;disconnectedCallback(){this.__dispose&&(this.__dispose(),this.__dispose=null)}}customElements.get(tag)==null&&customElements.define(tag,EChartsElement);")(Ib)}catch{return ga=!1}return ga=!0}document.head.appendChild(document.createElement("style")).textContent=`x-vue-echarts{display:block;width:100%;height:100%;min-width:0}
`;const cO=hO(),fO="ecTheme",dO="ecInitOptions",pO="ecUpdateOptions",Im=/(^&?~?!?)native:/;var vO=Bb({name:"echarts",props:{option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean,...rO,...uO},emits:{},inheritAttrs:!1,setup(i,{attrs:t}){const e=Ql(),n=Ql(),r=Ql(),a=So(fO,null),s=So(dO,null),o=So(pO,null),{autoresize:l,manualUpdate:u,loading:h,loadingOptions:c}=zb(i),f=vr(()=>r.value||i.option||null),d=vr(()=>i.theme||qo(a,{})),p=vr(()=>i.initOptions||qo(s,{})),g=vr(()=>i.updateOptions||qo(o,{})),v=vr(()=>sO(t)),m={},_=Nb().proxy.$listeners,y={};_?Object.keys(_).forEach(C=>{Im.test(C)?m[C.replace(Im,"$1")]=_[C]:y[C]=_[C]}):Object.keys(t).filter(C=>kb(C)).forEach(C=>{let M=C.charAt(2).toLowerCase()+C.slice(3);if(M.indexOf("native:")===0){const D=`on${M.charAt(7).toUpperCase()}${M.slice(8)}`;m[D]=t[C];return}M.substring(M.length-4)==="Once"&&(M=`~${M.substring(0,M.length-4)}`),y[M]=t[C]});function b(C){if(!e.value)return;const M=n.value=Hk(e.value,d.value,p.value);i.group&&(M.group=i.group),Object.keys(y).forEach(k=>{let L=y[k];if(!L)return;let I=k.toLowerCase();I.charAt(0)==="~"&&(I=I.substring(1),L.__once__=!0);let R=M;if(I.indexOf("zr:")===0&&(R=M.getZr(),I=I.substring(3)),L.__once__){delete L.__once__;const V=L;L=(...W)=>{V(...W),R.off(I,L)}}R.on(I,L)});function D(){M&&!M.isDisposed()&&M.resize()}function P(){const k=C||f.value;k&&M.setOption(k,g.value)}l.value?Ub(()=>{D(),P()}):P()}function w(C,M){i.manualUpdate&&(r.value=C),n.value?n.value.setOption(C,M||{}):b(C)}function x(){n.value&&(n.value.dispose(),n.value=void 0)}let S=null;To(u,C=>{typeof S=="function"&&(S(),S=null),C||(S=To(()=>i.option,(M,D)=>{M&&(n.value?n.value.setOption(M,{notMerge:M!==D,...g.value}):b())},{deep:!0}))},{immediate:!0}),To([d,p],()=>{x(),b()},{deep:!0}),Rm(()=>{i.group&&n.value&&(n.value.group=i.group)});const T=iO(n);return lO(n,h,c),nO(n,l,e),Vb(()=>{b()}),Hb(()=>{cO&&e.value?e.value.__dispose=x:x()}),{chart:n,root:e,setOption:w,nonEventAttrs:v,nativeListeners:m,...T}},render(){const i={...this.nonEventAttrs,...this.nativeListeners};return i.ref="root",i.class=i.class?["echarts"].concat(i.class):"echarts",Wb(Ib,i)}});const gO={},mO={class:"py-5 px-5"},_O={class:"d-flex justify-space-between align-center"},yO={class:"d-flex gap-2"};function bO(i,t){return se(),ma(Dh,null,{default:O(()=>[E(Co,{cols:"12",md:"12"},{default:O(()=>[E(yi,{class:"pa-4",elevation:"10"},{default:O(()=>[z("div",mO,[E(yi,{class:"mb-5"},{default:O(()=>[E(In,null,{default:O(()=>[z("div",_O,[z("div",null,[E(Qn,{type:"text",width:"120",class:"mb-2"}),E(Qn,{type:"heading",width:"200"})]),z("div",yO,[E(Qn,{type:"button",width:"100"}),E(Qn,{type:"button",width:"100"})])])]),_:1})]),_:1}),E(yi,null,{default:O(()=>[E(In,null,{default:O(()=>[E(Qn,{type:"table-heading"}),(se(),vi(Fm,null,Em(5,e=>E(Qn,{key:e,type:"table-row-divider"})),64))]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})}const xO=Om(gO,[["render",bO]]);Er([DI,VI,tO,GR]);const wO={components:{VChart:vO,ContentSkeleton:xO},data(){const{unreadCount:i,refresh:t}=ix();return{isSkeletonLoading:!0,allocations:[],unreadCount:i,refreshNotifications:t,showTransactionDetailsModal:!1,selectedTransaction:{uuid:"",created_at:"",amount:"",service_name:"",type:"",status:"",charge:"",details:""},walletBalance:0,walletDetails:[],showWalletDetails:!1,isFundWalletModalOpen:!1,fundWallet:{amount:null,service:"",card:null},isLoading:!1,formattedAmount:"",typedAmount:"",fundWalletErrors:{},isSubmitting:!1,cards:[],transactionHeaders:[{title:"Transaction ID",key:"uuid",width:"17%"},{title:"Date",key:"created_at",width:"17%"},{title:"Amount",key:"amount",width:"15%"},{title:"Bill Type",key:"service_name",width:"10%"},{title:"Transaction Type",key:"type",width:"18%"},{title:"Status",key:"status",width:"5%"},{title:"Actions",key:"actions",width:"10%",sortable:!1,align:"end"}],billTypes:[],transactionCharges:0,totalAmount:0,showConfirmationModal:!1,transactions:[],chargePercentage:5,chartOptions:{tooltip:{trigger:"item",formatter:"{b}: ${c} ({d}%)"},legend:{orient:"horizontal",bottom:"0",textStyle:{fontWeight:"bold"},padding:15},series:[{type:"pie",radius:["40%","70%"],avoidLabelOverlap:!0,label:{show:!1},emphasis:{label:{show:!0,fontWeight:"bold",fontSize:"14"}},data:[]}]}}},methods:{formatAmount(i){return new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",minimumFractionDigits:2,maximumFractionDigits:2}).format(i)},getStatusChipColor(i){switch(i.toLowerCase()){case"completed":return"light-green";case"pending":return"amber";case"failed":return"red";default:return"grey"}},capitalizeFirstLetter(i){return i.charAt(0).toUpperCase()+i.slice(1)},calculateCharges(){if(this.clearError("amount"),!this.fundWallet.amount){this.fundWalletErrors.amount="Please enter an amount.",this.transactionCharges=0,this.totalAmount=0;return}const i=parseFloat(this.fundWallet.amount);if(isNaN(i)||i<=0){this.fundWalletErrors.amount="Please enter a valid amount.",this.transactionCharges=0,this.totalAmount=0;return}if(this.transactionCharges=i*this.chargePercentage/100,this.totalAmount=i+this.transactionCharges,this.fundWallet.card){const t=this.cards.find(e=>e.id===this.fundWallet.card);t&&this.totalAmount>t.limit&&(this.fundWalletErrors.amount=`Total amount ($${this.totalAmount.toFixed(2)}) exceeds card limit of $${t.limit}`)}},validateAndSubmitFundWallet(){this.fundWalletErrors={};let i=!1;this.fundWallet.amount||(this.fundWalletErrors.amount="Please enter an amount.",i=!0),this.fundWallet.service||(this.fundWalletErrors.service="Please select a service.",i=!0),this.fundWallet.card||(this.fundWalletErrors.card="Please select a payment card.",i=!0),i||(this.calculateCharges(),this.fundWalletErrors.amount&&(i=!0)),i||this.toggleConfirmationModal()},onCardSelect(i){this.clearError("card"),this.calculateCharges()},async submitFundWalletForm(){this.isSubmitting=!0;try{const i=await Cs.post("/api/wallet/fund",this.fundWallet);i.data.success&&(this.walletBalance=i.data.newBalance,await this.fetchWalletData(),this.resetFundWalletForm(),this.transactions=i.data.transactions,this.handleCancel(),this.toggleConfirmationModal(),await this.refreshNotifications(),Ur().success(i.data.message||"Wallet funded successfully."))}catch(i){if(i.response&&i.response.data.errors){const t=i.response.data.errors;t.amount&&(this.fundWalletErrors.amount=Array.isArray(t.amount)?t.amount[0]:t.amount),t.service&&(this.fundWalletErrors.service=Array.isArray(t.service)?t.service[0]:t.service),t.card&&(this.fundWalletErrors.card=Array.isArray(t.card)?t.card[0]:t.card),Object.keys(t).length||Ur().error("An unexpected error occurred. Please try again.")}else Ur().error("An unexpected error occurred. Please try again.")}finally{this.isSubmitting=!1}},formatDate(i){return new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},getTransactionTypeClass(i){return i==="inbound"?"badge badge-light-success text-black":"badge badge-light-warning text-black"},getTransactionIconClass(i){return i==="inbound"?"fa fa-arrow-down text-success":"fa fa-arrow-up text-warning"},getStatusClass(i){return i==="completed"?"badge badge-light-success":i==="pending"?"badge badge-light-warning":"badge badge-light-danger"},capitalizeFirstLetter(i){return i.charAt(0).toUpperCase()+i.slice(1)},toggleTransactionDetailsModal(){this.showTransactionDetailsModal=!this.showTransactionDetailsModal},showTransactionDetails(i){if(!i||!i.uuid){console.error("Invalid transaction data passed to modal:",i);return}this.selectedTransaction=i,this.toggleTransactionDetailsModal()},async downloadTransactionReceipt(){const{uuid:i,created_at:t,amount:e,service_name:n,type:r,status:a,charge:s,details:o}=this.selectedTransaction,l=new jsPDF;l.setFontSize(18),l.text("Transaction Receipt",10,10),l.setFontSize(12),l.text(`Transaction ID: ${i}`,10,30),l.text(`Date: ${this.formatDate(t)}`,10,40),l.text(`Amount: ${this.formatAmount(e)}`,10,50),l.text(`Service: ${n}`,10,60),l.text(`Type: ${this.capitalizeFirstLetter(r)}`,10,70),l.text(`Status: ${this.capitalizeFirstLetter(a)}`,10,80),l.text(`Charge: ${this.formatAmount(s)}`,10,90),l.text(`Details: ${o}`,10,100),l.save(`Transaction_${i}.pdf`)},getBillColor(i){return{internetBill:"#4CAF50",mortgage:"#2196F3",rent:"#FFC107",phoneBill:"#FF5722",carBill:"#9C27B0",utilityBill:"#00BCD4"}[i]||"#999999"},updateChartData(i){const t=i.reduce((n,r)=>{const a=r.bill.name;return n[a]||(n[a]={allocated:0,color:this.getBillColor(r.bill.value)}),n[a].allocated+=parseFloat(r.allocated_amount),n},{}),e=Object.entries(t).map(([n,r])=>({name:n,value:r.allocated,itemStyle:{color:r.color}}));this.chartOptions.series[0].data=e},async fetchWalletData(){var i,t,e;try{this.isSkeletonLoading=!0;const n=await Cs.get("/api/wallet");if((i=n.data)!=null&&i.success){const{wallet_balance:r,transactions:a,allocations:s}=n.data.data;this.walletBalance=r,this.transactions=a||[],this.updateChartData(s)}}catch(n){Ur().error(((e=(t=n.response)==null?void 0:t.data)==null?void 0:e.message)||"Failed to fetch wallet data")}finally{this.isSkeletonLoading=!1}},getWalletBreakdownByService(){const i={};return this.walletDetails.forEach(t=>{const e=t.service_name||"Unknown Service";i[e]||(i[e]=0),i[e]+=parseFloat(t.amount.replace("$","").replace(",",""))}),{labels:Object.keys(i),data:Object.values(i)}},getWalletBreakdownByBillTypes(){if(!Array.isArray(this.walletDetails))return console.error("walletDetails is not an array:",this.walletDetails),{labels:[],data:[]};const i={};console.log(this.walletDetails),this.walletDetails.forEach(n=>{const a=(n.details?JSON.parse(n.details):{}).service||"Unknown";i[a]||(i[a]=0),i[a]+=n.amount});const t=Object.keys(i),e=Object.values(i);return console.log(t,e,this.walletDetails),{labels:t,data:e}},toggleWalletDetails(){this.showWalletDetails=!this.showWalletDetails},onAmountInput(i){const t=i.target.value.replace(/[^0-9.]/g,"");this.typedAmount=t,this.fundWallet.amount=parseFloat(t)||"",this.fundWalletErrors.amount&&delete this.fundWalletErrors.amount},formatAmountOnBlur(){if(!this.typedAmount)return;const i=parseFloat(this.typedAmount).toFixed(2);isNaN(i)||(this.typedAmount=this.formatToCAD(i),this.fundWallet.amount=parseFloat(i))},formatToCAD(i){return new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",minimumFractionDigits:2,maximumFractionDigits:2}).format(i)},toggleModal(){this.isFundWalletModalOpen||this.resetFundWalletForm(),this.isFundWalletModalOpen=!this.isFundWalletModalOpen},async fetchBillTypes(){try{const i=await Cs.get("/api/bill-types");this.billTypes=i.data}catch(i){console.error("Error fetching bill types:",i),Ur().error("Failed to load bill types. Please try again.")}},async fetchCards(){this.isLoading=!0;try{const i=await Cs.get("/api/cards");if(i.data&&typeof i.data=="object"){const t=Object.values(i.data);console.log(t),this.cards=t.map(e=>({id:e.id,name:e.name,type:e.type||"Unknown",limit:e.limit||0,lastFourDigits:e.number.slice(-4),expiryMonth:e.expiryMonth,expiryYear:e.expiryYear,isPrimary:e.is_primary||!1,logoUrl:e.logoUrl||this.getCardLogo(e.type)}))}else console.error("Unexpected response format:",i),this.cards=[]}catch(i){console.error("Failed to fetch cards:",i),this.cards=[]}finally{this.isLoading=!1}},getCardLogo(i){if(!i||typeof i!="string")return"https://example.com/default-card.png";switch(i.toLowerCase()){case"visa":return"https://example.com/visa.png";case"mastercard":return"https://example.com/mastercard.png";default:return"https://example.com/default-card.png"}},toggleFundWalletModal(){this.isFundWalletModalOpen=!this.isFundWalletModalOpen,this.isFundWalletModalOpen||this.resetFundWalletForm()},resetFundWalletForm(){this.fundWallet={amount:null,service:"",card:null},this.fundWalletErrors={}},handleCancel(){this.resetFundWalletForm(),this.toggleFundWalletModal()},clearError(i){this.fundWalletErrors[i]&&delete this.fundWalletErrors[i]},getBillName(i){const t=this.billTypes.find(e=>e.id===i);return console.log(t,"bill",i),t?t.name:"Unknown"},getCardDetails(i){const t=this.cards.find(e=>e.id===i);return t?`${t.type} **** ${t.lastFourDigits} (Expires ${t.expiryMonth}/${t.expiryYear})`:"Unknown Card"},toggleConfirmationModal(){this.showConfirmationModal=!this.showConfirmationModal}},async mounted(){try{await this.fetchWalletData(),await this.fetchCards(),await this.fetchBillTypes()}finally{this.isSkeletonLoading=!1}},watch:{"fundWallet.amount"(i){i||(this.transactionCharges=0,this.totalAmount=0)}},computed:{quickStats(){var i,t,e,n,r;return{totalTransactions:((i=this.transactions)==null?void 0:i.length)||0,totalTransactionAmount:((t=this.transactions)==null?void 0:t.reduce((a,s)=>a+(parseFloat(s.amount)||0),0).toFixed(2))||"0.00",totalCharges:((e=this.transactions)==null?void 0:e.reduce((a,s)=>a+(parseFloat(s.charge)||0),0).toFixed(2))||"0.00",totalAllocated:((r=(n=this.allocations)==null?void 0:n.reduce((a,s)=>a+(parseFloat(s.allocated_amount)||0),0))==null?void 0:r.toFixed(2))||"0.00",availableBalance:this.walletBalance||0}}}},SO={class:"py-5 p-5"},TO={class:"card mb-5"},CO={class:"card-body d-flex justify-content-between align-items-center"},MO={class:"text-black fw-bold"},DO={class:"d-flex align-items-center"},AO={class:"font-weight-bold"},PO={class:"font-weight-bold"},LO={class:"font-weight-bold"},kO={class:"font-weight-bold"},IO={class:"font-weight-bold"},RO={key:0,class:"pa-3 mb-2 rounded bg-purple-lighten-5"},OO={class:"d-flex justify-space-between mb-1"},EO={class:"text-body-2"},FO={class:"d-flex justify-space-between mb-1"},BO={class:"text-body-2"},zO={class:"d-flex justify-space-between"},NO={class:"text-body-1 font-weight-bold"},VO={key:0,class:"text-caption text-grey-darken-1 ms-2"},HO={key:1},WO={key:2},UO={class:"mb-2"},GO={class:"d-flex align-items-center me-2"},YO={class:"symbol symbol-50px me-6"},XO={class:"symbol-label"},$O=["src","alt"],jO={class:"d-flex flex-column"},qO={class:"fw-bold text-gray-800 text-hover-primary fs-5"},ZO={class:"small-fs fw-semibold text-muted"},KO={class:"small-fs fw-semibold text-muted"},QO={class:"fw-bold text-gray-800"},JO={class:"form-check form-check-custom form-check-solid"},tE=["value","onUpdate:modelValue","onChange"],eE={key:0,class:"v-messages__message",style:{color:"rgb(var(--v-theme-error))"}},iE={class:"pa-3"},nE={class:"d-flex justify-space-between mb-2"},rE={class:"d-flex justify-space-between mb-2"},aE={class:"d-flex justify-space-between mb-2"},sE={class:"d-flex justify-space-between mb-2"},oE={class:"d-flex justify-space-between font-weight-bold"};function lE(i,t,e,n,r,a){const s=nd("ContentSkeleton"),o=nd("v-chart");return se(),vi("div",null,[r.isSkeletonLoading?(se(),ma(s,{key:0})):(se(),ma(Dh,{key:1},{default:O(()=>[E(Co,{cols:"12",md:"12"},{default:O(()=>[E(yi,{class:"calendar-card pa-4 rounded-3",elevation:"10"},{default:O(()=>[z("div",SO,[z("div",TO,[z("div",CO,[z("div",null,[t[8]||(t[8]=z("h3",{class:"text-gray-800 fw-bold mb-2"},"Wallet Balance",-1)),z("h1",MO,et(a.formatAmount(r.walletBalance)),1)]),z("div",DO,[z("button",{class:"btn btn-secondary btn-sm me-3",onClick:t[0]||(t[0]=(...l)=>a.toggleWalletDetails&&a.toggleWalletDetails(...l))},t[9]||(t[9]=[z("i",{class:"fa fa-chart-bar fs-4"},null,-1),ht(" View Wallet ")])),z("button",{class:"btn btn-primary btn-sm",onClick:t[1]||(t[1]=(...l)=>a.toggleFundWalletModal&&a.toggleFundWalletModal(...l))},t[10]||(t[10]=[z("i",{class:"fa fa-wallet fs-4"},null,-1),ht(" Fund Wallet ")]))])])]),E(Xb,null,{default:O(()=>[r.showWalletDetails?(se(),ma(yi,{key:0,class:"mb-6"},{default:O(()=>[E(In,null,{default:O(()=>[E(Dh,null,{default:O(()=>[E(Co,{cols:"12",md:"8"},{default:O(()=>[t[11]||(t[11]=z("h3",{class:"text-h6 mb-4"},"Wallet Breakdown by Bill Types",-1)),E(o,{class:"chart",style:{height:"300px"},option:r.chartOptions},null,8,["option"])]),_:1}),E(Co,{cols:"12",md:"4"},{default:O(()=>[t[17]||(t[17]=z("h3",{class:"text-h6 mb-4"},"Quick Statistics",-1)),E(rd,null,{default:O(()=>[E(ye,null,{default:O(()=>[E(be,{class:"d-flex justify-space-between"},{default:O(()=>[t[12]||(t[12]=z("span",null,"Total Transactions",-1)),z("span",AO,et(a.quickStats.totalTransactions),1)]),_:1})]),_:1}),E(ye,null,{default:O(()=>[E(be,{class:"d-flex justify-space-between"},{default:O(()=>[t[13]||(t[13]=z("span",null,"Total Transaction Amount",-1)),z("span",PO,et(a.formatAmount(a.quickStats.totalTransactionAmount)),1)]),_:1})]),_:1}),E(ye,null,{default:O(()=>[E(be,{class:"d-flex justify-space-between"},{default:O(()=>[t[14]||(t[14]=z("span",null,"Total Charges",-1)),z("span",LO,et(a.formatAmount(a.quickStats.totalCharges)),1)]),_:1})]),_:1}),E(ye,null,{default:O(()=>[E(be,{class:"d-flex justify-space-between"},{default:O(()=>[t[15]||(t[15]=z("span",null,"Total Allocated",-1)),z("span",kO,et(a.formatAmount(a.quickStats.totalAllocated)),1)]),_:1})]),_:1}),E(ye,null,{default:O(()=>[E(be,{class:"d-flex justify-space-between"},{default:O(()=>[t[16]||(t[16]=z("span",null,"Available Balance",-1)),z("span",IO,et(a.formatAmount(a.quickStats.availableBalance)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):Gr("",!0)]),_:1}),E(yi,{class:"mb-5 mb-xl-12"},{default:O(()=>[E(Ms,{class:"pb-0"},{default:O(()=>t[18]||(t[18]=[z("h3",{class:"m-0"},"Transactions",-1)])),_:1}),E(In,{class:"pt-0"},{default:O(()=>[E($b,{headers:r.transactionHeaders,items:r.transactions,"items-per-page":5,"footer-props":{"items-per-page-options":[5,10,15,20],"show-current-page":!0,"show-first-last-page":!0},"item-key":"uuid",class:"elevation-0"},{"item.uuid":O(({item:l})=>[ht(et(l.uuid),1)]),"item.created_at":O(({item:l})=>[ht(et(a.formatDate(l.created_at)),1)]),"item.amount":O(({item:l})=>[ht(et(a.formatAmount(l.amount)),1)]),"item.type":O(({item:l})=>[E(ad,{color:l.type==="inbound"?"light-green":"orange-lighten-1",small:"",class:"px-2 py-1"},{default:O(()=>[ht(et(l.type==="inbound"?"Inbound":"Outbound")+" ",1),E(Ds,{size:"small",class:"ml-1"},{default:O(()=>[ht(et(l.type==="inbound"?"mdi-arrow-down":"mdi-arrow-up"),1)]),_:2},1024)]),_:2},1032,["color"])]),"item.status":O(({item:l})=>[E(ad,{color:a.getStatusChipColor(l.status),small:""},{default:O(()=>[ht(et(a.capitalizeFirstLetter(l.status)),1)]),_:2},1032,["color"])]),"item.actions":O(({item:l})=>[E(ci,{color:"deep-purple",variant:"text",size:"small",onClick:u=>a.showTransactionDetails(l)},{default:O(()=>t[19]||(t[19]=[ht(" View ")])),_:2},1032,["onClick"])]),_:1},8,["headers","items"])]),_:1})]),_:1})])]),_:1})]),_:1}),E(tu,{modelValue:r.showTransactionDetailsModal,"onUpdate:modelValue":t[2]||(t[2]=l=>r.showTransactionDetailsModal=l),"max-width":"500px",transition:"dialog-transition"},{default:O(()=>[E(yi,null,{default:O(()=>[E(Ms,{class:"d-flex justify-space-between align-center"},{default:O(()=>[t[21]||(t[21]=z("span",null,"Transaction Details",-1)),E(ci,{icon:"",variant:"text",onClick:a.toggleTransactionDetailsModal},{default:O(()=>[E(Ds,null,{default:O(()=>t[20]||(t[20]=[ht("mdi-close")])),_:1})]),_:1},8,["onClick"])]),_:1}),E(In,null,{default:O(()=>[E(rd,null,{default:O(()=>[E(ye,null,{prepend:O(()=>t[22]||(t[22]=[z("span",{class:"font-weight-bold me-2"},"Transaction ID:",-1)])),default:O(()=>[E(be,null,{default:O(()=>[ht(et(r.selectedTransaction.uuid),1)]),_:1})]),_:1}),E(ye,null,{prepend:O(()=>t[23]||(t[23]=[z("span",{class:"font-weight-bold me-2"},"Date:",-1)])),default:O(()=>[E(be,null,{default:O(()=>[ht(et(a.formatDate(r.selectedTransaction.created_at)),1)]),_:1})]),_:1}),E(ye,null,{prepend:O(()=>t[24]||(t[24]=[z("span",{class:"font-weight-bold me-2"},"Amount:",-1)])),default:O(()=>[E(be,null,{default:O(()=>[ht(et(a.formatAmount(r.selectedTransaction.amount)),1)]),_:1})]),_:1}),E(ye,null,{prepend:O(()=>t[25]||(t[25]=[z("span",{class:"font-weight-bold me-2"},"Service:",-1)])),default:O(()=>[E(be,null,{default:O(()=>[ht(et(r.selectedTransaction.service_name),1)]),_:1})]),_:1}),E(ye,null,{prepend:O(()=>t[26]||(t[26]=[z("span",{class:"font-weight-bold me-2"},"Type:",-1)])),default:O(()=>[E(be,null,{default:O(()=>[ht(et(a.capitalizeFirstLetter(r.selectedTransaction.type)),1)]),_:1})]),_:1}),E(ye,null,{prepend:O(()=>t[27]||(t[27]=[z("span",{class:"font-weight-bold me-2"},"Status:",-1)])),default:O(()=>[E(be,null,{default:O(()=>[ht(et(a.capitalizeFirstLetter(r.selectedTransaction.status)),1)]),_:1})]),_:1}),E(ye,null,{prepend:O(()=>t[28]||(t[28]=[z("span",{class:"font-weight-bold me-2"},"Charge:",-1)])),default:O(()=>[E(be,null,{default:O(()=>[ht(et(a.formatAmount(r.selectedTransaction.charge)),1)]),_:1})]),_:1})]),_:1})]),_:1}),E(Jl,{class:"d-flex justify-end pa-4"},{default:O(()=>[E(ci,{color:"grey-darken-1",variant:"text",onClick:a.toggleTransactionDetailsModal},{default:O(()=>t[29]||(t[29]=[ht(" Close ")])),_:1},8,["onClick"]),E(ci,{color:"primary","prepend-icon":"mdi-download",onClick:a.downloadTransactionReceipt},{default:O(()=>t[30]||(t[30]=[ht(" Download Receipt ")])),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),E(tu,{modelValue:r.isFundWalletModalOpen,"onUpdate:modelValue":t[6]||(t[6]=l=>r.isFundWalletModalOpen=l),"max-width":"500"},{default:O(()=>[E(yi,null,{default:O(()=>[E(Ms,{class:"text-h6"},{default:O(()=>t[31]||(t[31]=[ht("Fund Wallet")])),_:1}),E(In,null,{default:O(()=>[E(jb,{onSubmit:qb(a.validateAndSubmitFundWallet,["prevent"])},{default:O(()=>[E(Zb,{modelValue:r.fundWallet.amount,"onUpdate:modelValue":t[3]||(t[3]=l=>r.fundWallet.amount=l),label:"Enter Amount",outlined:"",dense:"",required:"",onInput:a.calculateCharges,"error-messages":r.fundWalletErrors.amount},null,8,["modelValue","onInput","error-messages"]),r.fundWallet.amount?(se(),vi("div",RO,[z("div",OO,[t[32]||(t[32]=z("span",{class:"text-body-2"},"Amount:",-1)),z("span",EO,et(a.formatToCAD(parseFloat(r.fundWallet.amount).toFixed(2))),1)]),z("div",FO,[t[33]||(t[33]=z("span",{class:"text-body-2"},"Charges (5%):",-1)),z("span",BO,et(a.formatToCAD(r.transactionCharges.toFixed(2))),1)]),E(sd,{class:"my-2"}),z("div",zO,[t[34]||(t[34]=z("span",{class:"text-body-1 font-weight-bold"},"Total:",-1)),z("span",NO,et(a.formatToCAD(r.totalAmount.toFixed(2))),1)])])):Gr("",!0),E(Kb,{modelValue:r.fundWallet.service,"onUpdate:modelValue":[t[4]||(t[4]=l=>r.fundWallet.service=l),t[5]||(t[5]=l=>a.clearError("service"))],items:r.billTypes,"item-title":"name","item-value":"id",label:"Select Service",outlined:"",dense:"",required:"","error-messages":r.fundWalletErrors.service},{item:O(({props:l,item:u})=>[E(ye,Qb(l,{disabled:!u.raw.is_setup,class:{"text-grey":!u.raw.is_setup}}),{default:O(()=>[E(be,null,{default:O(()=>[u.raw.is_setup?Gr("",!0):(se(),vi("span",VO," (Not set up) "))]),_:2},1024)]),_:2},1040,["disabled","class"])]),_:1},8,["modelValue","items","error-messages"]),t[36]||(t[36]=z("h5",{class:"mb-3 mt-5",style:{"font-size":"13px"}},"Select Payment Card",-1)),r.isLoading?(se(),vi("div",HO,"Loading cards...")):(se(),vi("div",WO,[z("div",UO,[(se(!0),vi(Fm,null,Em(r.cards,l=>(se(),vi("label",{key:l.id,class:"d-flex flex-stack mb-5 cursor-pointer"},[z("span",GO,[z("span",YO,[z("span",XO,[z("img",{src:l.logoUrl,alt:l.type,class:"h-40px"},null,8,$O)])]),z("span",jO,[z("span",qO,et(l.name)+" **** "+et(l.lastFourDigits),1),z("span",ZO," Expires "+et(l.expiryMonth)+"/"+et(l.expiryYear),1),z("span",KO,[t[35]||(t[35]=ht(" Card Limit: ")),z("span",QO,et(a.formatToCAD(l.limit.toLocaleString())),1)])])]),z("span",JO,[Jb(z("input",{class:"form-check-input",type:"radio",name:"payment_card",value:l.id,"onUpdate:modelValue":u=>r.fundWallet.card=u,onChange:u=>a.onCardSelect(l)},null,40,tE),[[tx,r.fundWallet.card]])])]))),128)),r.fundWalletErrors.card?(se(),vi("small",eE,et(r.fundWalletErrors.card),1)):Gr("",!0)])]))]),_:1},8,["onSubmit"])]),_:1}),E(Jl,null,{default:O(()=>[E(ci,{loading:r.isSubmitting,disabled:r.isSubmitting,onClick:a.validateAndSubmitFundWallet,color:"purple",variant:"elevated"},{default:O(()=>[r.isSubmitting?(se(),ma(Ds,{key:0,left:""},{default:O(()=>t[37]||(t[37]=[ht("mdi-loading mdi-spin")])),_:1})):Gr("",!0),z("span",null,et(r.isSubmitting?"Processing...":"Fund Wallet"),1)]),_:1},8,["loading","disabled","onClick"]),E(ci,{color:"secondary",variant:"outlined",onClick:a.toggleFundWalletModal},{default:O(()=>t[38]||(t[38]=[ht("Cancel")])),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),E(tu,{modelValue:r.showConfirmationModal,"onUpdate:modelValue":t[7]||(t[7]=l=>r.showConfirmationModal=l),"max-width":"400"},{default:O(()=>[E(yi,null,{default:O(()=>[E(Ms,{class:"text-h6"},{default:O(()=>[t[40]||(t[40]=ht(" Confirm Transaction ")),E(ci,{icon:"",onClick:a.toggleConfirmationModal,class:"float-right"},{default:O(()=>[E(Ds,null,{default:O(()=>t[39]||(t[39]=[ht("mdi-close")])),_:1})]),_:1},8,["onClick"])]),_:1}),E(In,null,{default:O(()=>[z("div",iE,[z("div",nE,[t[41]||(t[41]=z("strong",null,"Amount:",-1)),z("span",null,"$"+et(parseFloat(r.fundWallet.amount).toFixed(2)),1)]),z("div",rE,[t[42]||(t[42]=z("strong",null,"Bill Type:",-1)),z("span",null,et(a.getBillName(r.fundWallet.service)),1)]),z("div",aE,[t[43]||(t[43]=z("strong",null,"Card:",-1)),z("span",null,et(a.getCardDetails(r.fundWallet.card)),1)]),z("div",sE,[t[44]||(t[44]=z("strong",null,"Charges:",-1)),z("span",null,"$"+et(r.transactionCharges.toFixed(2)),1)]),E(sd,{class:"my-2"}),z("div",oE,[t[45]||(t[45]=z("strong",null,"Total:",-1)),z("span",null,"$"+et(r.totalAmount.toFixed(2)),1)])])]),_:1}),E(Jl,null,{default:O(()=>[E(ex),E(ci,{color:"grey darken-1",variant:"outlined",text:"",onClick:a.toggleConfirmationModal},{default:O(()=>t[46]||(t[46]=[ht("Cancel")])),_:1},8,["onClick"]),E(ci,{color:"purple",variant:"elevated",loading:r.isSubmitting,disabled:r.isSubmitting,onClick:a.submitFundWalletForm},{default:O(()=>[ht(et(r.isSubmitting?"Processing...":"Confirm"),1)]),_:1},8,["loading","disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))])}const gE=Om(wO,[["render",lE]]);export{gE as default};
