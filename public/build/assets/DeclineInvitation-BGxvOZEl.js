import{_ as d,v as o,E as t,at as u,H as a,D as l,O as h,C as v,M as p,L as r,G as f}from"./main-DHxkGDom.js";import{i as m}from"./intracard-vz8Mx2b7.js";const g={name:"DeclineInvitation",data(){return{loading:!0,status:null,error:null,token:null,countdown:null,redirectTimer:null}},created(){if(this.token=this.$route.params.token,!this.token){this.handleError("Invalid invitation link");return}this.processDecline()},methods:{async processDecline(){var i,e;try{this.loading=!0;const n=await axios.post(`/api/team/members/decline/${this.token}`);n.data.status==="success"?(this.status="success",this.startRedirectCountdown()):this.handleError(n.data.message||"Failed to decline invitation")}catch(n){this.handleError(((e=(i=n.response)==null?void 0:i.data)==null?void 0:e.message)||"An error occurred while processing your request")}finally{this.loading=!1}},handleError(i){this.status="error",this.error=i,this.loading=!1},startRedirectCountdown(){this.countdown=5,this.redirectTimer=setInterval(()=>{this.countdown--,this.countdown<=0&&(clearInterval(this.redirectTimer),this.$router.push("/"))},1e3)}},beforeDestroy(){this.redirectTimer&&clearInterval(this.redirectTimer)}},w={class:"container"},k={class:"card"},y={key:0,class:"message"},_={key:1,class:"message"},b={key:0,class:"success-message"},x={key:0,class:"countdown"},I={key:1,class:"error-message"},D={class:"title error-title"},C={class:"footer"};function T(i,e,n,E,s,B){const c=p("router-link");return r(),o("div",w,[t("div",k,[e[5]||(e[5]=t("img",{alt:"Logo",src:m,class:"logo"},null,-1)),s.loading?(r(),o("div",y,e[0]||(e[0]=[t("div",{class:"loading-spinner"},null,-1),t("p",null,"Processing your request...",-1)]))):(r(),o("div",_,[s.status==="success"?(r(),o("div",b,[e[1]||(e[1]=u('<div class="icon-wrapper" data-v-e69d2f7b><svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 24 24" data-v-e69d2f7b><circle cx="12" cy="12" r="11" fill="#f3f4f6" stroke="#6b7280" stroke-width="2" data-v-e69d2f7b></circle><path d="M15 9l-6 6M9 9l6 6" stroke="#6b7280" stroke-width="2" stroke-linecap="round" data-v-e69d2f7b></path></svg></div><h2 class="title" data-v-e69d2f7b>Invitation Declined</h2><p class="description" data-v-e69d2f7b>You have successfully declined the invitation. Thank you for letting us know. </p><p class="info" data-v-e69d2f7b>If you change your mind or received this by mistake, please contact the person who invited you to send a new invitation.</p>',4)),s.status==="success"&&s.countdown?(r(),o("div",x," Redirecting to homepage in "+a(s.countdown)+" seconds... ",1)):l("",!0)])):s.status==="error"?(r(),o("div",I,[e[2]||(e[2]=t("div",{class:"icon-wrapper"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",viewBox:"0 0 24 24"},[t("circle",{cx:"12",cy:"12",r:"11",fill:"#fee2e2",stroke:"#ef4444","stroke-width":"2"}),t("path",{d:"M12 8v5m0 3v.01",stroke:"#ef4444","stroke-width":"2","stroke-linecap":"round"})])],-1)),t("h2",D,a(s.error),1),e[3]||(e[3]=t("p",{class:"description"},"Please check your invitation link and try again.",-1))])):l("",!0)])),h(c,{to:"/",class:"home-button"},{default:v(()=>e[4]||(e[4]=[f("Return to Homepage")])),_:1}),t("div",C," Â© "+a(new Date().getFullYear())+" IntraCard. All rights reserved. ",1)])])}const M=d(g,[["render",T],["__scopeId","data-v-e69d2f7b"]]);export{M as default};
