import{v as e,E as s,c6 as t,H as r,D as a,O as i,C as o,M as n,L as c,G as l}from"./vendor-DWrK2g1_.js";import{i as d}from"./intracard-Q-6WcxOO.js";import{_ as u}from"./main-DhXQbgH3.js";const h={class:"container"},v={class:"card"},p={key:0,class:"message"},m={key:1,class:"message"},g={key:0,class:"success-message"},w={key:0,class:"countdown"},f={key:1,class:"error-message"},k={class:"title error-title"},y={class:"footer"};const b=u({name:"DeclineInvitation",data:()=>({loading:!0,status:null,error:null,token:null,countdown:null,redirectTimer:null}),created(){this.token=this.$route.params.token,this.token?this.processDecline():this.handleError("Invalid invitation link")},methods:{async processDecline(){var e,s;try{this.loading=!0;const e=await axios.post(`/api/team/members/decline/${this.token}`);"success"===e.data.status?(this.status="success",this.startRedirectCountdown()):this.handleError(e.data.message||"Failed to decline invitation")}catch(t){this.handleError((null==(s=null==(e=t.response)?void 0:e.data)?void 0:s.message)||"An error occurred while processing your request")}finally{this.loading=!1}},handleError(e){this.status="error",this.error=e,this.loading=!1},startRedirectCountdown(){this.countdown=5,this.redirectTimer=setInterval((()=>{this.countdown--,this.countdown<=0&&(clearInterval(this.redirectTimer),this.$router.push("/"))}),1e3)}},beforeDestroy(){this.redirectTimer&&clearInterval(this.redirectTimer)}},[["render",function(u,b,I,x,D,T){const E=n("router-link");return c(),e("div",h,[s("div",v,[b[5]||(b[5]=s("img",{alt:"Logo",src:d,class:"logo"},null,-1)),D.loading?(c(),e("div",p,b[0]||(b[0]=[s("div",{class:"loading-spinner"},null,-1),s("p",null,"Processing your request...",-1)]))):(c(),e("div",m,["success"===D.status?(c(),e("div",g,[b[1]||(b[1]=t('<div class="icon-wrapper" data-v-e69d2f7b><svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 24 24" data-v-e69d2f7b><circle cx="12" cy="12" r="11" fill="#f3f4f6" stroke="#6b7280" stroke-width="2" data-v-e69d2f7b></circle><path d="M15 9l-6 6M9 9l6 6" stroke="#6b7280" stroke-width="2" stroke-linecap="round" data-v-e69d2f7b></path></svg></div><h2 class="title" data-v-e69d2f7b>Invitation Declined</h2><p class="description" data-v-e69d2f7b>You have successfully declined the invitation. Thank you for letting us know. </p><p class="info" data-v-e69d2f7b>If you change your mind or received this by mistake, please contact the person who invited you to send a new invitation.</p>',4)),"success"===D.status&&D.countdown?(c(),e("div",w," Redirecting to homepage in "+r(D.countdown)+" seconds... ",1)):a("",!0)])):"error"===D.status?(c(),e("div",f,[b[2]||(b[2]=s("div",{class:"icon-wrapper"},[s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon",viewBox:"0 0 24 24"},[s("circle",{cx:"12",cy:"12",r:"11",fill:"#fee2e2",stroke:"#ef4444","stroke-width":"2"}),s("path",{d:"M12 8v5m0 3v.01",stroke:"#ef4444","stroke-width":"2","stroke-linecap":"round"})])],-1)),s("h2",k,r(D.error),1),b[3]||(b[3]=s("p",{class:"description"},"Please check your invitation link and try again.",-1))])):a("",!0)])),i(E,{to:"/",class:"home-button"},{default:o((()=>b[4]||(b[4]=[l("Return to Homepage")]))),_:1}),s("div",y," Â© "+r((new Date).getFullYear())+" IntraCard. All rights reserved. ",1)])])}],["__scopeId","data-v-e69d2f7b"]]);export{b as default};
